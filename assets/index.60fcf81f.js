var Bt=Object.defineProperty;var ot=Object.getOwnPropertySymbols;var Ht=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var st=(e,t,l)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,_e=(e,t)=>{for(var l in t||(t={}))Ht.call(t,l)&&st(e,l,t[l]);if(ot)for(var l of ot(t))Qt.call(t,l)&&st(e,l,t[l]);return e};import{c as Vt,u as ye,r as a,o as d,a as D,w as s,b as n,d as i,t as u,e as p,f as w,g as A,v as F,h,n as fe,i as k,j as G,F as N,k as Q,l as pe,p as W,m as X,q as Pe,s as Lt,x as xe,y as Oe,z as zt,A as $e,B as Be,C as ke,D as V,_ as at,E as lt,Q as rt,G as qt,H as Ft,I as Mt,J as Gt,K as dt,L as je,M as ct,N as Je,O as Kt,P as Yt,R as jt,S as Jt,T as Wt}from"./vendor.02616e86.js";const Xt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const _ of r.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}};Xt();const he=Vt({state:{user:{},accessToken:"",userId:0,orgId:0,org:{},supporter:{},isAuthen:!1,isDemoCard:!1,qrUrl:""},getters:{isDemoCard({state:e}){return e.isDemoCard},userInfo({state:e}){return e.user},orgInfo({state:e}){return e.org},isAuthen({state:e}){return e.isAuthen},qrUrl({state:e}){return e.qrUrl},supporter({state:e}){return e.supporter},isLogged({state:e}){return e.user&&e.user.id&&e.user.id>0?e.isAuthen=!0:e.isAuthen=!1,e.isAuthen},isBoss({state:e}){return e.user.roleCode=="BOSS"},isSale({state:e}){return e.user.roleCode=="SALE"},isWorker({state:e}){return e.user.roleCode=="WORKER"}},actions:{logout({state:e}){e.user={},e.isAuthen=!1},login({state:e},t){e.user=t,e.userId=t.id,localStorage.setItem("user",JSON.stringify(t)),e.isAuthen=!0},ACCESS_TOKEN_SET({state:e},t){localStorage.setItem("access_token",t),axios.defaults.headers.Authorization=t,e.accessToken=t},ACCESS_TOKEN_CLEAR(e){localStorage.removeItem("access_token"),localStorage.removeItem("user"),e.accessToken="",axios.defaults.headers.Authorization=""},updateDemoCard({state:e},t){e.isDemoCard=t},scanQRCode({state:e},t){e.qrUrl=t}}});var S=(e,t)=>{for(const[l,c]of t)e[l]=c;return e};const Zt={props:{f7route:Object,f7router:Object},setup(){const e=ye("isAuthen");return{rs:{},isAuthen:e,login:()=>{he.dispatch("login")},logout:()=>{he.dispatch("logout")},list:[{title:"iPet ch\u01B0a k\xEDch ho\u1EA1t",desc:"Tr\xEAn Th\u1EBB v\xE0o c\u1ED5ng Tri\u1EC5n L\xE3m/ s\u1EF1 ki\u1EC7n",url:"http://localhost:3000/n/100010010990001/p/30"},{title:"iMember ch\u01B0a k\xEDch ho\u1EA1t",desc:"Tr\xEAn Th\u1EBB v\xE0o c\u1ED5ng Tri\u1EC5n L\xE3m/ s\u1EF1 ki\u1EC7n",url:"http://localhost:3000/n/100010010563093/p/30"},{title:"iMember \u0111\xE3 k\xEDch ho\u1EA1t",desc:"Tr\xEAn Th\u1EBB v\xE0o c\u1ED5ng Tri\u1EC5n L\xE3m/ s\u1EF1 ki\u1EC7n",url:"http://localhost:3000/n/100010010563093/p/30"},{title:"iCard ch\u01B0a k\xEDch ho\u1EA1t",desc:"Danh thi\u1EBFp t\u01B0\u01A1ng t\xE1c cho c\xE1 nh\xE2n",url:"http://localhost:3000/n/100010010563093/p/30"},{title:"iCard ch\u01B0a k\xEDch ho\u1EA1t",desc:"Danh thi\u1EBFp t\u01B0\u01A1ng t\xE1c cho c\xE1 nh\xE2n",url:"http://localhost:3000/n/100010010563093/p/30"},{title:"ishop btc tri\u1EC5n l\xE3m",desc:"",url:"http://localhost:3000/s-edit/100010010882050/p/27941673"}]}},methods:{changeStatus(){this.isAuthen?this.logout():this.login()},gotoHome(){window.location="https://ishowroom.vn"},gotoUrl(e){let t=new URL(e.url);t.pathname,window.location=t},async importData(){[{QRCodeID:6006,Name:"BUI DUY HIEN",Position:"Head of Inspection Committee",Organization:"Binh Duong Party Committee"},{QRCodeID:6007,Name:"TRAN THANH HOANG",Position:"Chief Justice",Organization:"Binh Duong People's Court"},{QRCodeID:6008,Name:"NGUYEN VAN MINH",Position:"Director",Organization:"Binh Duong Department of Home Affairs"},{QRCodeID:6009,Name:"VO HOANG NGAN",Position:"Director",Organization:"Binh Duong Department of Construction"},{QRCodeID:6010,Name:"PHAM TRONG NHAN",Position:"Director",Organization:"Binh Duong Department of Planning and Investment"},{QRCodeID:6011,Name:"BUI MINH TRI",Position:"Secretary",Organization:"Tan Uyen City Party Committee"},{QRCodeID:6012,Name:"NGUYEN THI NGOC XUAN",Position:"Deputy Head",Organization:"Binh Duong National Assembly Delegation"},{QRCodeID:6013,Name:"BUI MINH THANH",Position:"Secretary",Organization:"Ben Cat Town Party Committee"},{QRCodeID:6014,Name:"NGUYEN THANH KHIEM",Position:"Secretary",Organization:"Ba\u200Bu Bang District Party Committee"},{QRCodeID:6015,Name:"HA VAN UT",Position:"Director",Organization:"Binh Duong Department of Finance"},{QRCodeID:6016,Name:"NGUYEN DINH CHUAN",Position:"Commissioner",Organization:"Binh Duong Military Command"},{QRCodeID:6017,Name:"NGUYEN HONG CHUONG",Position:"Director",Organization:"Binh Duong Department of Health"},{QRCodeID:6018,Name:"HUYNH TAN DINH",Position:"Secretary",Organization:"Binh Duong Party Committee of Agencies and Enterprises"},{QRCodeID:6019,Name:"NGUYEN THI NHAT HANG",Position:"Director",Organization:"Binh Duong Department of Education and Training"},{QRCodeID:6020,Name:"HUYNH THI CAM HONG",Position:"Secretary",Organization:"Party Committee of Dau Tieng Rubber Company Limited."},{QRCodeID:6021,Name:"NGUYEN KIM LOAN",Position:"Chairman",Organization:"Binh Duong Confederation of Labor"},{QRCodeID:6022,Name:"TRUONG THANH NGA",Position:"Chairman",Organization:"Binh Duong Women's Union"},{QRCodeID:6023,Name:"HUYNH THI THANH PHUONG",Position:"Secretary",Organization:"Thuan An City Party Committee"},{QRCodeID:6024,Name:"NGUYEN TRUONG NHAT PHUONG",Position:"Vice Chairman",Organization:"Binh Duong People's Council"},{QRCodeID:6025,Name:"NGO QUANG SU",Position:"Director",Organization:"Binh Duong Department of Natural Resources and Environment "},{QRCodeID:6026,Name:"NGUYEN THANH TOAN",Position:"Director",Organization:"Binh Duong Department of Industry and Trade"},{QRCodeID:6027,Name:"LE HONG THONG",Position:"Deputy Head of Inspection Committee",Organization:"Binh Duong Party Committee"},{QRCodeID:6028,Name:"NGUYEN PHUOC TRUNG",Position:"Vice Director",Organization:"Binh Duong People's Procuracy"},{QRCodeID:6029,Name:"MAI BA TRUOC",Position:"Secretary",Organization:"Dau Tieng District Party Committee"},{QRCodeID:6030,Name:"NGUYEN KHOA HAI",Position:"Secretary",Organization:"Phu Giao District Party Committee"},{QRCodeID:6031,Name:"PHAM VAN HIEN",Position:"Chief Officer",Organization:"Binh Duong Party Committee"},{QRCodeID:6032,Name:"NGUYEN ANH MINH",Position:"Director",Organization:"Binh Duong Department of Transportation"},{QRCodeID:6033,Name:"TRAN THI DIEM TRINH",Position:"Secretary",Organization:"Binh Duong Provincial Youth Union"},{QRCodeID:6034,Name:"HA THANH",Position:"Director",Organization:"Binh Duong Department of Foreign Affairs"},{QRCodeID:6035,Name:"NGUYEN VIET LONG",Position:"Director",Organization:"Binh Duong Department of Science & Technology"},{QRCodeID:6036,Name:"PHAM THUY LINH",Position:"Director of Becamex Institute of R&D",Organization:"Becamex IDC"},{QRCodeID:6037,Name:"PHAM TUAN ANH",Position:"Director of Binh Duong Smart City Office",Organization:"Becamex IDC"},{QRCodeID:6038,Name:"LE DANG KHOA",Position:"Director of Production & Business",Organization:"Becamex IDC"},{QRCodeID:6039,Name:"HUYNH VAN CAM",Position:"Deputy Director of Production & Business",Organization:"Becamex IDC"},{QRCodeID:6040,Name:"LE VIET CUONG",Position:"Deputy Director of Production & Business ",Organization:"Becamex IDC"},{QRCodeID:6041,Name:"HUYNH DAT THONG",Position:"Deputy Director of Production & Business ",Organization:"Becamex IDC"},{QRCodeID:6042,Name:"NGUYEN THANH TRUNG",Position:"Deputy Director of Production & Business ",Organization:"Becamex IDC"},{QRCodeID:6043,Name:"LE PHAN MINH VU",Position:"Deputy Director of Production & Business ",Organization:"Becamex IDC"},{QRCodeID:6044,Name:"VO THI MY NUONG",Position:"Deputy Director of IOC",Organization:"Becamex IDC"},{QRCodeID:6045,Name:"TRAN TAN HUNG",Position:"Deputy Director of IOC",Organization:"Becamex IDC"},{QRCodeID:6046,Name:"HUYNH THANH DUY",Position:"Deputy Director of IOC",Organization:"Becamex IDC"},{QRCodeID:6047,Name:"LY DUY KHIEM",Position:"Director of IOC",Organization:"Becamex IDC"},{QRCodeID:6048,Name:"HO HONG THACH",Position:"Director of Finance ",Organization:"Becamex IDC"},{QRCodeID:6049,Name:"NGUYEN HOANG AN",Position:"Deputy Director of Finance",Organization:"Becamex IDC"},{QRCodeID:6050,Name:"TRAN VIET TRUNG",Position:"Deputy Director of Finance",Organization:"Becamex IDC"},{QRCodeID:6051,Name:"VO SON DIEN",Position:"Marketing Director ",Organization:"Becamex IDC"},{QRCodeID:6052,Name:"TRAN THI HONG MINH",Position:"Deputy Marketing Director ",Organization:"Becamex IDC"},{QRCodeID:6053,Name:"KANJI UEMATSU",Position:"Deputy Marketing Director ",Organization:"Becamex IDC"},{QRCodeID:6054,Name:"TRAN THI KIM THY",Position:"Marketing Director of Japanese-Speaking Markets",Organization:"Becamex IDC"},{QRCodeID:6055,Name:"NGUYEN THE DUY",Position:"Marketing Director of English-Speaking Markets",Organization:"Becamex IDC"},{QRCodeID:6056,Name:"NGUYEN CAO THUAN ",Position:"Marketing Director of Korean-Speaking Markets",Organization:"Becamex IDC"},{QRCodeID:6057,Name:"NGUYEN VIET DUC",Position:"Director of BIM Center",Organization:"Becamex IDC"},{QRCodeID:6058,Name:"TRUONG THANH DUC",Position:"Deputy Director of BIM Center",Organization:"Becamex IDC"},{QRCodeID:6059,Name:"CAO MINH THANG",Position:"Deputy Director of BIM Center",Organization:"Becamex IDC"},{QRCodeID:6060,Name:"NGUYEN MANH THIN",Position:"Deputy Director of BIM Center",Organization:"Becamex IDC"},{QRCodeID:6061,Name:"LE NGUYEN BAO TRONG",Position:"Director of Technical Economics",Organization:"Becamex IDC"},{QRCodeID:6062,Name:"NGUYEN VAN GIAU",Position:"Deputy Director of Technical Economics",Organization:"Becamex IDC"},{QRCodeID:6063,Name:"HUYNH THANH LIEM",Position:"Deputy Director of Technical Economics",Organization:"Becamex IDC"},{QRCodeID:6064,Name:"NGUYEN QUANG TRIEU",Position:"Deputy Director of Technical Economics",Organization:"Becamex IDC"},{QRCodeID:6065,Name:"DANG TAN DUC",Position:"Director of Science & Technology Industrial Park Project",Organization:"Becamex IDC"},{QRCodeID:6066,Name:"LAM HA LONG",Position:"Deputy Director of Human Resources ",Organization:"Becamex IDC"},{QRCodeID:6067,Name:"BUI THI PHUONG THUY",Position:"Deputy Director of Human Resources ",Organization:"Becamex IDC"},{QRCodeID:6068,Name:"VO ANH KHOA",Position:"Deputy Director of Human Resources ",Organization:"Becamex IDC"},{QRCodeID:6069,Name:"TRAN NGOC YEN",Position:"Deputy Director of Human Resources",Organization:"Becamex IDC"},{QRCodeID:6070,Name:"BUI ANH TUAN",Position:"Deputy Director of Investment",Organization:"Becamex IDC"},{QRCodeID:6071,Name:"HUYNH ANH QUANG",Position:"Director of Investment",Organization:"Becamex IDC"},{QRCodeID:6072,Name:"HO DAI TRIEU",Position:"Director of Land Management",Organization:"Becamex IDC"},{QRCodeID:6073,Name:"NGUYEN THI THANH AN",Position:"Deputy Director of Land Management ",Organization:"Becamex IDC"},{QRCodeID:6074,Name:"NGUYEN THI ANH THU",Position:"Deputy Director of Land Management ",Organization:"Becamex IDC"},{QRCodeID:6075,Name:"VO TAN LUC",Position:"Director of Digital Transformation Center",Organization:"Becamex IDC"},{QRCodeID:6076,Name:"PHAM MINH KHOA",Position:"Deputy Director of Digital Transformation Center",Organization:"Becamex IDC"},{QRCodeID:6077,Name:"LE TAN DANH",Position:"Deputy Director of Digital Transformation Center",Organization:"Becamex IDC"},{QRCodeID:6078,Name:"LY THANH HUY",Position:"Deputy Director of Digital Transformation Center",Organization:"Becamex IDC"},{QRCodeID:6079,Name:"NGUYEN MINH PHUNG",Position:"Director of Complex Development Management Board",Organization:"Becamex IDC"},{QRCodeID:6080,Name:"LE THI MINH HAO",Position:"Deputy Director of Complex Development Management Board",Organization:"Becamex IDC"},{QRCodeID:6081,Name:"TRAN MINH",Position:"Deputy Director of Complex Development Management Board",Organization:"Becamex IDC"},{QRCodeID:6082,Name:"LE HONG CUONG",Position:"Director of Becamex Binh Duong Football Club",Organization:"Becamex IDC"},{QRCodeID:6083,Name:"LE DUC TRI",Position:"Deputy Director of Becamex Binh Duong Football Club",Organization:"Becamex IDC"},{QRCodeID:6084,Name:"TRAN THI NGOC THUY",Position:"Director ",Organization:"Thoi Hoa Urban and Industrial Development Enterprise"},{QRCodeID:6085,Name:"NGUYEN PHI LONG",Position:"Deputy Director ",Organization:"Thoi Hoa Urban and Industrial Development Enterprise"},{QRCodeID:6086,Name:"TRAN VAN PHUC",Position:"Deputy Director ",Organization:"Thoi Hoa Urban and Industrial Development Enterprise"},{QRCodeID:6087,Name:"NGUYEN THAI BINH",Position:"Director ",Organization:"Bau Bang Urban and Industrial Development Enterprise"},{QRCodeID:6088,Name:"NGUYEN HUU NHAN ",Position:"Deputy Director ",Organization:"Bau Bang Urban and Industrial Development Enterprise"},{QRCodeID:6089,Name:"HOANG TRONG DONG",Position:"Deputy Director ",Organization:"Bau Bang Urban and Industrial Development Enterprise"},{QRCodeID:6090,Name:"NGUYEN VAN HIEP",Position:"Director ",Organization:"Becamex Traffic Construction Enterprise"},{QRCodeID:6091,Name:"NGUYEN VAN DO",Position:"Director ",Organization:"My Phuoc Urban and Industrial Development Enterprise"},{QRCodeID:6092,Name:"HUYNH DUY HAI",Position:"Deputy Director",Organization:"My Phuoc Urban and Industrial Development Enterprise"},{QRCodeID:6093,Name:"NGUYEN VAN KHOA",Position:"Deputy Director",Organization:"My Phuoc Urban and Industrial Development Enterprise"},{QRCodeID:6094,Name:"LE TUNG CHINH",Position:"Director of Ho Chi Minh City Branch",Organization:"Becamex IDC"},{QRCodeID:6095,Name:"NGUYEN THUY DUONG",Position:"Head of the Supervisory Board",Organization:"Becamex IDC"},{QRCodeID:6096,Name:"HUYNH DINH THAI LINH ",Position:"Director",Organization:"World Trade Center Binh Duong New City"},{QRCodeID:6097,Name:"VO THANH TUYEN",Position:"Director ",Organization:"Planning Center"},{QRCodeID:6098,Name:"LE TAN VINH",Position:"Deputy Director ",Organization:"Planning Center"},{QRCodeID:6099,Name:"HUYNH VINH THANH",Position:"Director ",Organization:"Becamex Capital Management & Development Board"},{QRCodeID:6100,Name:"NGUYEN HAI HOANG",Position:"Deputy Director ",Organization:"Becamex Capital Management & Development Board"},{QRCodeID:6101,Name:"VO THI HOANG ANH",Position:"Director ",Organization:"Center for Managing Certificate of Land Use Rights"},{QRCodeID:6102,Name:"NGUYEN QUOC DUNG",Position:"Deputy Director ",Organization:"Center for Managing Certificate of Land Use Rights"},{QRCodeID:6103,Name:"NGUYEN HOANG HAI",Position:"Deputy Director ",Organization:"Center for Managing Certificate of Land Use Rights"},{QRCodeID:6104,Name:"SUN NHAT THANH",Position:"Director ",Organization:"Project Research & Development Board"},{QRCodeID:6105,Name:"HA THUC DUY SANG",Position:"Deputy General Director ",Organization:"Becamex Binh Dinh"},{QRCodeID:6106,Name:"NGUYEN THE HIEN",Position:"Chief Accountant ",Organization:"Becamex Binh Dinh"},{QRCodeID:6107,Name:"PHAM THAI BINH",Position:"General Director",Organization:"Becamex Binh Thuan"},{QRCodeID:6108,Name:"NGUYEN VAN DUNG",Position:"General Director",Organization:"Becamex Binh Phuoc"},{QRCodeID:6109,Name:"NGUYEN THI THU TRANG",Position:"Deputy Director ",Organization:"Becamex Binh Phuoc"},{QRCodeID:6110,Name:"DANG VAN DUNG",Position:"Deputy Director ",Organization:"Becamex Binh Phuoc"},{QRCodeID:6111,Name:"THU DINH THI CHIEU"},{QRCodeID:6112,Name:"HO VO T\xDA QUY\xCAN"},{QRCodeID:6113,Name:"KRISHNA KUMAR"},{QRCodeID:6114,Name:"PHOENIX NGUYEN"},{QRCodeID:6115,Name:"NATALIA TANG"},{QRCodeID:6116,Name:"MANNY VIDAD"},{QRCodeID:6117,Name:"TRAN HOAI NHU KHUE"},{QRCodeID:6118,Name:"KRISH KUMAR "},{QRCodeID:6119,Name:"JEAN FRANCOIS HUERTAS "},{QRCodeID:6120,Name:"FRANCIS SOH"},{QRCodeID:6121,Name:"PUSHPALATHA BALAN"},{QRCodeID:6122,Name:"RAJAKHUGAN A/L NADARAJAH"},{QRCodeID:6123,Name:"JOUKO AHVENAINEN",Position:"Founder and Executive Chairman",Organization:"Grow VC Group"},{QRCodeID:6124,Name:"YUKI AIZAWA",Position:"APAX Director",Organization:"Women in Tech"},{QRCodeID:6125,Name:"NOBUMITSU AKAI",Position:"Director",Organization:"JFR Group"},{QRCodeID:6126,Name:"CONNIE D. M. ALLSOPP",Position:"Founder",Organization:"The World's Registrar"},{QRCodeID:6127,Name:"MAYRA ANDREA",Position:"Founder and Chief Executive Officer",Organization:"CIpta Graha Holding"},{QRCodeID:6128,Name:"AN LE",Position:"Chief Executive Officer",Organization:"NFQ "},{QRCodeID:6129,Name:"MARTYN ANSTEY",Position:"Founder and Chief Executive Officer",Organization:"REIMAGINEx | 528 Ventures"},{QRCodeID:6130,Name:"STEVEN BAI",Position:"Founder",Organization:"Sencity"},{QRCodeID:6131,Name:"BERNHARD BAUHOFER",Position:"Founder and Chief Executive Officer",Organization:"Sparring Partners "},{QRCodeID:6132,Name:"BARRETT BINGLEY",Position:"Head of Growth Partnerships APAC",Organization:"The Economist"},{QRCodeID:6133,Name:"JOHN BLAKEY",Position:"Founder",Organization:"The Trusted Executive Foundation "},{QRCodeID:6134,Name:"PIETRO BORSANO",Position:"Deputy Executive Director",Organization:"Chulalongkorn School of Integrated Innovation"},{QRCodeID:6135,Name:"RUTH P. BRIONES",Position:"Chair and Chief Executive Officer",Organization:"Greenergy Solutions "},{QRCodeID:6136,Name:"LUIS MARIA R. CALINGO",Position:"President",Organization:"Holy Angel University"},{QRCodeID:6137,Name:"AUR\xC9LIE CARLET",Position:"Founder & Director",Organization:"Zen House Gallery"},{QRCodeID:6138,Name:"RAFAEL CASCALES",Position:"President",Organization:"Spanish Association for Foreign trade and International business professionals"},{QRCodeID:6139,Name:"ANTHONY CHAN",Position:"Chairman",Organization:"Gretchen"},{QRCodeID:6140,Name:"CLAIRE CHEN",Position:"Managing Partner",Organization:"SZLT-iSource Consulting Group "},{QRCodeID:6141,Name:"CAROLINE CHEONG ",Position:"Chief Operating Officer",Organization:"KSI  "},{QRCodeID:6142,Name:"JARVOUS CHEN",Position:"Managing Director",Organization:"Sinda Corporation UK "},{QRCodeID:6143,Name:"SEBRIGHT CHEN",Position:"Chairman",Organization:"Summer Atlantic Capital "},{QRCodeID:6144,Name:"YEAN LEE CHONG",Position:"Head of Strategic Partnerships",Organization:"Lexasure Financial Group"},{QRCodeID:6145,Name:"BENEDICT CO",Position:"Managing Partner",Organization:"Mackay Group of Companies"},{QRCodeID:6146,Name:"WARRICK CLEINE",Position:"Chairman and Chief Executive Officer",Organization:"KPMG in Vietnam and Cambodia"},{QRCodeID:6147,Name:"GREG CRICHTON",Position:"Managing Director",Organization:"Greater Asian Advisors Limited"},{QRCodeID:6148,Name:"PAUL-ANTOINE CROIZ\xC9",Position:"Manging Director",Organization:"Lallemand Vietnam"},{QRCodeID:6149,Name:"LE HUNG CUONG ",Position:"Chief Digital Officer",Organization:"FPT Digital"},{QRCodeID:6150,Name:"BERNARDINO C. CUSTORIO",Position:"Chief Executive Officer",Organization:"BCXPRESS  BMCS"},{QRCodeID:6151,Name:"CUONG DANG",Position:"Partner and Chief Executive Officer",Organization:"Forbes Vietnam"},{QRCodeID:6152,Name:"VAN DANG",Position:"Chief Executive Officer",Organization:"Savvycom"},{QRCodeID:6153,Name:"EDDI DANUSAPUTRO",Position:"Chief Executive Officer",Organization:"Mandiri Capital"},{QRCodeID:6154,Name:"AGNES VST DEVANADERA",Position:"President and CEO",Organization:"Clark Development Corporation"},{QRCodeID:6155,Name:"AJAY DHINGRA",Position:"Head of Research and Analytics. ",Organization:"Unizen"},{QRCodeID:6156,Name:"DINH Q. L\xCA",Position:"Artist"},{QRCodeID:6157,Name:"ANDY DONG",Position:"Chief Executive Officer",Organization:"Zijun Capital "},{QRCodeID:6158,Name:"NATASHA DUKACH ",Position:"Executive Director & Co-Founder",Organization:"Cash For Refugees"},{QRCodeID:6159,Name:"TRIS DYSON ",Position:"Founder and Executive Director",Organization:"Nesta Challenges"},{QRCodeID:6160,Name:"STEPHEN EDKINS",Position:"Co-Founder and Chief Executive Officer",Organization:"Rice Exchange"},{QRCodeID:6161,Name:"NICHOLAS ENG",Position:"Managing Director",Organization:"GlobalCorp Capital"},{QRCodeID:6162,Name:"MAC EVANGELISTA",Position:"President",Organization:"Container Living"},{QRCodeID:6163,Name:"BONNIE FACTOR",Position:"Co-founder",Organization:"eCFulfill "},{QRCodeID:6164,Name:"JIM GLADE",Position:"Principal",Organization:"Publicize"},{QRCodeID:6165,Name:"SUMEDHA GOEL ",Position:"Founder and Chief Executive Officer",Organization:"Texcent"},{QRCodeID:6166,Name:"VICTOR GUIXER",Position:"Managing Partner ",Organization:"Guixer & Partners "},{QRCodeID:6167,Name:"CHRIS GUTIERREZ",Position:"Founder",Organization:"StoreBloc"},{QRCodeID:6168,Name:"METIN GUVENER",Position:"Founding Chairman",Organization:"Optima Orbits"},{QRCodeID:6169,Name:"HA THAN",Position:"Chairman",Organization:"Lac Viet Computing Corp."},{QRCodeID:6170,Name:"SHAOMING HAN",Position:"Dean of School of International Education",Organization:"Yantai Institute of Technology"},{QRCodeID:6171,Name:"ANDREAS HAUSER",Position:"Chief Executive Officer Digital Service",Organization:"T\xDCV S\xDCD ASEAN"},{QRCodeID:6172,Name:"SHIKO HAYASHI",Position:"Programme Director",Organization:"Institute for Global Environmental Strategies"},{QRCodeID:6173,Name:"MATTHEW HO",Position:"Group Chief Executive Officer",Organization:"Shopper360 Group"},{QRCodeID:6174,Name:"HO THI THU HOA ",Position:"Director",Organization:"Vietnam Research and Development Institute"},{QRCodeID:6175,Name:"LINH HOANG",Position:"Chief Executive Officer",Organization:"Lead The Change "},{QRCodeID:6176,Name:"TRAN HOANG",Position:"Chairman",Organization:"VietnamMarcom "},{QRCodeID:6177,Name:"KYLE J HONG ",Position:"Founder",Organization:"Alcove Investment Management"},{QRCodeID:6178,Name:"CONG-THANG HUYNH",Position:"Co-founder",Organization:"InnoLab Asia"},{QRCodeID:6179,Name:"ASIF IQBAL ",Position:"Director General",Organization:"Indian Economic Trade Organization (IETO)"},{QRCodeID:6180,Name:"TSUTOMU ISHIAI",Position:"Senior Staff Writer",Organization:"The Asahi Shimbun "},{QRCodeID:6181,Name:"MEHMET ISIKLAR",Position:"Managing Director",Organization:"SZUTest"},{QRCodeID:6182,Name:"SHIN ITO",Position:"Chief Executive Officer",Organization:"iKoyoo Inc."},{QRCodeID:6183,Name:"ANANDA SETIYO IVANNANTO",Position:"Chief Executive Officer",Organization:"A-Wing Group"},{QRCodeID:6184,Name:"TAKESHI IZUKA",Position:"President",Organization:"Peer Learning Hub "},{QRCodeID:6185,Name:"DAVID JACKSON",Position:"Chief Executive Officer",Organization:"Avison Young"},{QRCodeID:6186,Name:"MATTHEW JACKSON",Position:"Investor",Organization:"DrinkNOD International "},{QRCodeID:6187,Name:"JIN YUXIAN",Position:"Chairman",Organization:"CIE International Education Group"},{QRCodeID:6188,Name:"EMIL KABURUAN",Position:"Founder",Organization:"KOMPIS Creative Solutions"},{QRCodeID:6189,Name:"MARKO KASIC",Position:"Founder",Organization:"FundLife"},{QRCodeID:6190,Name:"TADAHIRO KANEKO",Position:"Deputy Head of Sustainability",Organization:"Sumitomo Mitsui Financial Group"},{QRCodeID:6191,Name:"ALIYA KHAN",Position:"Founder",Organization:"AFK collection"},{QRCodeID:6192,Name:"FAROUK KHAN",Position:"Founder",Organization:"AFK collection"},{QRCodeID:6193,Name:"RAYMOND KHATTAR",Position:"Chairman & Founder",Organization:"Blue Chip Capital"},{QRCodeID:6194,Name:"JOHNSON KHOO",Position:"Founder and Chief Executive Officer",Organization:"Wowwwz Ventures"},{QRCodeID:6195,Name:"TADAAKI KIMURA",Position:"Chief Executive Officer",Organization:"Addlight"},{QRCodeID:6196,Name:"RAJIV KOCHHAR ",Position:"Founder and Chief Executive Officer",Organization:"Avista Advisory Group"},{QRCodeID:6197,Name:"DANIEL KOPPELKAMM",Position:"Managing Partner",Organization:"Convergence Partners"},{QRCodeID:6198,Name:"KOUHEI KURIHARA ",Position:"Co-Founder",Organization:"CollaboGate"},{QRCodeID:6199,Name:"CARRIE LAI",Position:"Chief Financial Officer",Organization:"DrinkNOD International "},{QRCodeID:6200,Name:"LE THIEN-BAO ",Position:"Founder",Organization:"Galerie BAQ"},{QRCodeID:6201,Name:"LIONEL LEE",Position:"Chair",Organization:"The Better Foundation"},{QRCodeID:6202,Name:"NARA LEE",Position:"Managing Partner",Organization:"Brainchild Partners "},{QRCodeID:6203,Name:"WENNY LEE",Position:"Chief Operations Officer",Organization:"DrinkNOD International "},{QRCodeID:6204,Name:"BRADLEY C. LALONDE",Position:"Managing Partner ",Organization:"Vietnam Partners"},{QRCodeID:6205,Name:"GABRIEL LEVESQUE-TREMBLAY",Position:"Chief Technology Officer and Co-Founder",Organization:"Orbillion Bio"},{QRCodeID:6206,Name:"J.T. LI",Position:"Professor",Organization:"The Hong Kong University of Science and Technology"},{QRCodeID:6207,Name:"MEGAN JING LI",Position:"Founder and Chief Executive Officer",Organization:"Shanghai iMega Industry Co., "},{QRCodeID:6208,Name:"LI ZHONGTAO",Position:"Chief Executive Officer",Organization:"Capsio Technology Co. Ltd"},{QRCodeID:6209,Name:"CHARLES LIM",Position:"President",Organization:"Selrahco Management. "},{QRCodeID:6210,Name:"SHARON LIM",Position:"She Loves Tech",Organization:"Chief Content Officer "},{QRCodeID:6211,Name:"JOHN LIU",Position:"Chief Executive Officer",Organization:"HAN Capital"},{QRCodeID:6212,Name:"LIU HONGCHUAN",Position:"Partner",Organization:"Broad & Bright"},{QRCodeID:6213,Name:"JOHN LIU",Position:"Chief Executive Officer",Organization:"HAN Capital"},{QRCodeID:6214,Name:"JARROD LUO",Position:"Director",Organization:"Blockchain Industry Association"},{QRCodeID:6215,Name:"MAI AN",Position:"Co-founder and President",Organization:"IMT Solutions"},{QRCodeID:6216,Name:"LOAN MA",Position:"Chief Executive Officer",Organization:"Auxesia Holdings"},{QRCodeID:6217,Name:"CONSTANTIN MALIK",Position:"Executive Director",Organization:"Malik"},{QRCodeID:6218,Name:"HAIKE MANNING",Position:"Executive Director",Organization:"Sannam S4 Acumen"},{QRCodeID:6219,Name:"JORGE MARTIN-MARTINEZ",Position:"Member of the Board",Organization:"Kulara Water"},{QRCodeID:6220,Name:"DUNCAN J. MCCAMPBELL",Position:"Associate Professor",Organization:"Metropolitan State University"},{QRCodeID:6221,Name:"ANDREW MCGREGOR",Position:"Director and Founder",Organization:"Oomvelt Research"},{QRCodeID:6222,Name:"BHARAT LAL MEENA ",Position:"Co-founder and Chairman",Organization:"BESTI University "},{QRCodeID:6223,Name:"STEPHEN MEADE",Position:"Chief Executive Officer and Founder",Organization:"MonetaPro"},{QRCodeID:6224,Name:"NAOKI MORI",Position:"Programme Director",Organization:"Institute for Global Environmental Strategies"},{QRCodeID:6225,Name:"SEAN NOGA",Position:"Founder and Chief Executive Officer",Organization:"Unizen"},{QRCodeID:6226,Name:"BILL NGUYEN",Position:"Founder and Chief Executive Officer",Organization:"ABS Institute"},{QRCodeID:6227,Name:"ROBIN NGUYEN",Position:"Founder",Organization:"IBI Global"},{QRCodeID:6228,Name:"DANNY NGO ",Position:"Chief Executive Officer",Organization:"INGODT"},{QRCodeID:6229,Name:"NGO MINH DUC",Position:"President",Organization:"Eastern International University"},{QRCodeID:6230,Name:"QUYEN NGUYEN",Position:"Founder and Chief Executive Officer",Organization:"Sharework"},{QRCodeID:6231,Name:"NGUY XUAN ANH",Position:"Managing Director",Organization:"Dafi Group"},{QRCodeID:6232,Name:"TRANG NGUYEN ",Position:"Senior Manager",Organization:"act renewable "},{QRCodeID:6233,Name:"NGUYEN TRONG LUAT",Position:"Chief Executive Officer",Organization:"Cicor Vietnam, "},{QRCodeID:6234,Name:"TIM NGUYEN",Position:"Deputy Rector of 3AI",Organization:"Institute of Applied Research & Innovation for Enterprise"},{QRCodeID:6235,Name:"NGUYEN THU HIEN ",Position:"Professor of Industrial Management ",Organization:"HCM University of Technology"},{QRCodeID:6236,Name:"SEAN NOGA",Position:"Founder and Chief Executive Officer",Organization:"Unizen"},{QRCodeID:6237,Name:"OSAMA BIN NOOR",Position:"Co-founder",Organization:"Youth Opportunities"},{QRCodeID:6238,Name:"ELISA S. NUADA",Position:"Managing Director",Organization:"Blue Chip Global Development"},{QRCodeID:6239,Name:"MURTHY R NUNI",Position:"Managing Director",Organization:"Marshal Global Renewable Power"},{QRCodeID:6240,Name:"HIROYUKI OHNISHI",Position:"President",Organization:"Technology Seed Incubation Co. "},{QRCodeID:6241,Name:"HIDEKI OKADA ",Position:"Executive Officer",Organization:"Japan Overseas Infrastructure Investment Corporation for Transport & Urban Development"},{QRCodeID:6242,Name:"AKIRA OSAKA",Position:"Founder",Organization:" Ignition"},{QRCodeID:6243,Name:"JONECCA SAN PASCUAL",Position:"Chief Executive Officer",Organization:"Pieza"},{QRCodeID:6244,Name:"NICOLAS PAYEN",Position:"Co-founder and Chief Executive Officer",Organization:"Positive Energy Ltd"},{QRCodeID:6245,Name:"MARC PERUT ",Position:"Managing Partner",Organization:"Swiss Venture Advisors "},{QRCodeID:6246,Name:"MITCHELL PHAM",Position:"Co-founder",Organization:"CodeHQ "},{QRCodeID:6247,Name:"PHAM PHUONG CUC",Position:"Director",Organization:"CUC Gallery"},{QRCodeID:6248,Name:"NIMNUAL PIEWTHONGNGAM ",Position:"Founder",Organization:"Gumpun Muaythai LTD "},{QRCodeID:6249,Name:"SIDDHARTH PODDAR",Position:"Founder and Managing Editor",Organization:"StoneBench Research and Communications"},{QRCodeID:6250,Name:"YURI PODNEBES",Position:"Director",Organization:"Ace Battle Association"},{QRCodeID:6251,Name:"LAWRENCE PRATCHETT",Position:"Pro Vice-Chancellor ",Organization:"University of Canberra"},{QRCodeID:6252,Name:"SAILESH PURSWANI",Position:"President",Organization:"Thai Martin Group"},{QRCodeID:6253,Name:"RAJIV RAGHUNATH",Position:"Founder and Chief Executive Officer",Organization:"Wellversed Media"},{QRCodeID:6254,Name:"KRISHNA RAJAGOPAL",Position:"Group Chief Executive Officer",Organization:"AKATI Sekurity"},{QRCodeID:6255,Name:"MARK PAUL I. RAMOS",Position:"Partner",Organization:"PCMD and Co."},{QRCodeID:6256,Name:"NUTTAKORN RATTANACHAISIT",Position:"Founder & Managing Director",Organization:"Predictive"},{QRCodeID:6257,Name:"GOPI KRISHNA REDDY",Position:"President",Organization:"Afro International Technology for Societal Transformation Foundation"},{QRCodeID:6258,Name:"SRIKAR REDDY",Position:"Managing Director",Organization:"Sonata Software"},{QRCodeID:6259,Name:"RICHARD REKHY",Position:"Member of the Board",Organization:"KPMG"},{QRCodeID:6260,Name:"ERI REKSOPRODJO",Position:"Managing Partner ",Organization:"Kejora Ventures"},{QRCodeID:6261,Name:"SIYI REN",Position:"Co-founder",Organization:"ZIADOO Biotech"},{QRCodeID:6262,Name:"SHANMUGA RETNAM",Position:"Partner",Organization:"MARA"},{QRCodeID:6263,Name:"ALEJANDRO REYES",Position:"Senior Fellow, Centre for Contemporary China and the World",Organization:"University of Hong Kong"},{QRCodeID:6264,Name:"MICHAEL RODRIGUEZ",Position:"Professor",Organization:"Nexford University"},{QRCodeID:6265,Name:"ROSAURO ANGELO RODRIGUEZ",Position:"Founder",Organization:"PAD1925, Inc."},{QRCodeID:6266,Name:"DIANA SABRAIN",Position:"Co-founder",Organization:"OneAgrix"},{QRCodeID:6267,Name:"GRICHA SAFARIAN",Position:"Co-Founder",Organization:"Sustainable Cacao Institute"},{QRCodeID:6268,Name:"AI SASAKI",Position:"Chairperson",Organization:"Asian Women Leaders Forum"},{QRCodeID:6269,Name:"YOSHIKI SASAKI",Position:"Chief Executive Officer",Organization:"Japan Strategic Capital "},{QRCodeID:6270,Name:"YUICHIRO  SATO",Position:"Chief Operations Officer",Organization:"iPay88 "},{QRCodeID:6271,Name:"FRANCIS SCHORTGEN",Position:"Associate Dean of Faculty",Organization:"University of Utah Asia Campus"},{QRCodeID:6272,Name:"MARTIN SCHULZE",Position:"Founder and Director",Organization:"Public Delivery"},{QRCodeID:6273,Name:"PASCAL SCOTT",Position:"Director",Organization:"M Health Limited "},{QRCodeID:6274,Name:"AKINORI SEKI ",Position:"Professor",Organization:"Tokyo Keizai University"},{QRCodeID:6275,Name:"INDRONIL SENGUPTA",Position:"Chief Executive Officer",Organization:"Invesify"},{QRCodeID:6276,Name:"OLEG SCHUMACHER ",Position:"Owner",Organization:"Neuschwansteiner"},{QRCodeID:6277,Name:"AJIT SHAH",Position:"Managing Director",Organization:"Lotus Holdings"},{QRCodeID:6278,Name:"MITESH SHAH",Position:"Executive Director",Organization:"MitKat Global Consuting"},{QRCodeID:6279,Name:"VERONICA SHIM",Position:"Founder",Organization:"E-Alliance"},{QRCodeID:6280,Name:"KUNIHIKO SHIMADA",Position:"Chief Executive Officer",Organization:"K S International Strategies"},{QRCodeID:6281,Name:"HAROLD SJURSEN",Position:"Professor Emeritus of Philosophy",Organization:"New York University"},{QRCodeID:6282,Name:"DAVID SMITH",Position:"Chief Executive Officer",Organization:"Zanstrasat "},{QRCodeID:6283,Name:"DUONG QUY SY ",Position:"Member of National Council",Organization:"Education and Human Resource Development "},{QRCodeID:6284,Name:"ALLEN TANG",Position:"Excecutive Director",Organization:"Intsig Information Technology "},{QRCodeID:6285,Name:"CHRIS TAY",Position:"Founder and Chief Executive Officer",Organization:"Drink NOD International"},{QRCodeID:6286,Name:"TEDDY TEE",Position:"Founder and Chief Executive Officer",Organization:"Cashlez"},{QRCodeID:6287,Name:"SHUICHI TERASHIMA",Position:"Founder",Organization:"TMC Worldnetwork"},{QRCodeID:6288,Name:"CHELSEA MANALO TIU",Position:"Founder ",Organization:"Beautify MNL Corp"},{QRCodeID:6289,Name:"CLAIRE DUNG TRAN",Position:"Founder and CEO",Organization:"Rayo"},{QRCodeID:6290,Name:"TIEU YEN TRINH",Position:"Founder and Chief Executive Officer",Organization:"Talentnet"},{QRCodeID:6291,Name:"LEON TOH",Position:"Executive Director",Organization:"Damson Capital"},{QRCodeID:6292,Name:"JACQUES TOUREL",Position:"Chairman",Organization:"World Trade Centre Warsaw"},{QRCodeID:6293,Name:"TOSHIHIRO TOYOSHIMA",Position:"Chief Executive Officer",Organization:"Mercuria Investment Co"},{QRCodeID:6294,Name:"HAO TRAN",Position:"Chief Executive Officer",Organization:"VietCetera"},{QRCodeID:6295,Name:"MY HAN TRAN",Position:"Director",Organization:"My Han Manufacturing Trading "},{QRCodeID:6296,Name:"NITIN TRIPATHI",Position:"Professor",Organization:"Asian Institute of Technology"},{QRCodeID:6297,Name:"REXY TSENG",Position:"Artist"},{QRCodeID:6298,Name:"HIDETOSHI UCHIYAMA",Position:"Chief Executive Officer",Organization:"Unerry"},{QRCodeID:6299,Name:"TOMOHIRO YAMAGUCHI",Position:"Executive Director",Organization:"Alternative Development Organization"},{QRCodeID:6300,Name:"KEVIN VAREND",Position:"Co-founder",Organization:"J3D.ai Labs"},{QRCodeID:6301,Name:"RUPA VASUDEVAN",Position:"Chancellor",Organization:"BEST Innovation University "},{QRCodeID:6302,Name:"VO XUAN VINH ",Position:"Professor",Organization:"University of Economics, Ho Chi Minh City"},{QRCodeID:6303,Name:"TRANG VU ",Position:"General Director",Organization:"Solagron Vietnam"},{QRCodeID:6304,Name:"ALEXANDER WAN",Position:"Advisor to Chairman",Organization:"Pacific Century Group "},{QRCodeID:6305,Name:"MICHAEL WALSH",Position:"Secretary General",Organization:"PBEC"},{QRCodeID:6306,Name:"WANG DONG",Position:"Executive Director",Organization:"Institute for Global Cooperation and Understanding (iGCU)"},{QRCodeID:6307,Name:"WANG SHAOHUA",Position:"Chairman",Organization:"Yantai Hongxin New Energy Automobile Sales Co."},{QRCodeID:6308,Name:"STANLEY WANG",Position:"Founder",Organization:"Illuminati Technologies"},{QRCodeID:6309,Name:"WANG XIN",Position:"Founder and President",Organization:"Charigo Center for International Economic Cooperation"},{QRCodeID:6310,Name:"JOHN WEST",Position:"Executive Director ",Organization:"Asian Century Institute"},{QRCodeID:6311,Name:"LUSY WIDOWATI",Position:"Founder",Organization:"Tiga Daun"},{QRCodeID:6312,Name:"STEFAN WINZENRIED",Position:"Chief Technology Officer",Organization:"Janzz Technology"},{QRCodeID:6313,Name:"BECKY WONG",Position:"Chief Executive Officer",Organization:"Globex Capital Partners"},{QRCodeID:6314,Name:"BRIAN WONG",Position:"Chief Strategy Officer",Organization:"Hong Kong-ASEAN Foundation"},{QRCodeID:6315,Name:"HERBERT CHEN WU",Position:"Managing Director",Organization:"The Economist Global Business Review"},{QRCodeID:6316,Name:"CHARLIE XUE",Position:"Founder & CEO",Organization:"Dwell Realty"},{QRCodeID:6317,Name:"BRYAN YANG",Position:"Managing Director",Organization:"Inspiration Inc."},{QRCodeID:6318,Name:"ZOE YUAN",Position:"Founder",Organization:"Shanghai Zoe Wellness Edu&Tech Co."},{QRCodeID:6319,Name:"JOHN J. YING",Position:"Managing Director",Organization:"Peak Capital"},{QRCodeID:6320,Name:"JIM YUAN",Position:"Co-founder and Partner",Organization:"Joyview Education"},{QRCodeID:6321,Name:"SHOKO ZAMA",Position:"Assistant Director",Organization:"Asian Women Leaders Forum"},{QRCodeID:6322,Name:"ZHOU YI",Position:"Co-founder",Organization:"MarvelTec"},{QRCodeID:6323,Name:"NGUYEN KIM TIEN",Position:"General Director",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6324,Name:"HO MINH DIEM THUY",Position:"General Deputy Director",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6325,Name:"LY TAN TRI",Position:"General Deputy Director",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6326,Name:"LUONG THI QUYNH HOA",Position:"Chief Accountant ",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6327,Name:"PHAM VIET YEN",Position:"Head of the Supervisory Board",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6328,Name:"DOAN BA VUONG",Position:"Director of Construction",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6329,Name:"PHAM NGUYEN TAN BINH",Position:"Director of Information Technology",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6330,Name:"THAI ANH TU",Position:"Sales Director",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6331,Name:"TRAN THUY KHANH VAN",Position:"Technical Deputy Director",Organization:"Binh Duong Construction & Civil Engineering JSC "},{QRCodeID:6332,Name:"NGUYEN THI NGOC NHUNG",Position:"General Deputy Director",Organization:"My Phuoc Hospital JSC "},{QRCodeID:6333,Name:"NGUYEN THANH THAO",Position:"Director of Customer Services",Organization:"My Phuoc Hospital JSC "},{QRCodeID:6334,Name:"NGUYEN VAN DIEM",Position:"Head of Marketing ",Organization:"My Phuoc Hospital JSC "},{QRCodeID:6335,Name:"NGUYEN NGOC MINH THU",Position:"Marketing Staff",Organization:"My Phuoc Hospital JSC "},{QRCodeID:6336,Name:"LE THI KIM XUYEN",Position:"General Deputy Director",Organization:"Becamex Binh Phuoc Infrastructure Development JSC"},{QRCodeID:6337,Name:"TRAN GIA PHU",Position:"Assistant General Director",Organization:"Becamex Binh Phuoc Infrastructure Development JSC"},{QRCodeID:6338,Name:"NGUYEN NHAT TUNG",Position:"Deputy Head of the Assistant Team",Organization:"Becamex Binh Phuoc Infrastructure Development JSC"},{QRCodeID:6339,Name:"TRAN QUYET THANG",Position:"General Director",Organization:"Binh Duong Rubber JSC"},{QRCodeID:6340,Name:"NGUYEN TAN KHUONG",Position:"General Deputy Director",Organization:"Binh Duong Rubber JSC"},{QRCodeID:6341,Name:"VU VAN DIEC",Position:"Director of Planning",Organization:"Binh Duong Rubber JSC"},{QRCodeID:6342,Name:"LUU MANH HA",Position:"Director of Administration",Organization:"Binh Duong Rubber JSC"},{QRCodeID:6343,Name:"NGUYEN HOANG AN",Position:"General Deputy Director",Organization:"Becamex Tokyu"},{QRCodeID:6344,Name:"NISHIMURA LEO",Position:"Strategy Group Executive Director",Organization:"Becamex Tokyu"},{QRCodeID:6345,Name:"NGUYEN THI MINH XUAN",Position:"Senior Executive Manager",Organization:"Becamex Tokyu"},{QRCodeID:6346,Name:"PHAM DUC MINH",Position:"Foreign Affairs Staff",Organization:"Becamex Tokyu"},{QRCodeID:6347,Name:"TRAN THI TUYET NGAN",Position:"Foreign Affairs Staff",Organization:"Becamex Tokyu"},{QRCodeID:6348,Name:"VO THI MY QUYEN",Position:"Accountant",Organization:"Becamex - Vsip Power Investment And Development JSC"},{QRCodeID:6349,Name:"NGUYEN THI QUYNH TRANG",Position:"Accountant",Organization:"Becamex - Vsip Power Investment And Development JSC"},{QRCodeID:6350,Name:"TRINH THANH HUNG",Position:"General Director",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6351,Name:"TRAN NGOC HIEN",Position:"General Deputy Director",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6352,Name:"VO THI HUYEN TRANG",Position:"General Deputy Director",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6353,Name:"NGUYEN NGOC PHUONG KHANH",Position:"Director of Human Resources ",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6354,Name:"TRAN TRUNG KIEN",Position:"Deputy Head of Sales and Project Development",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6355,Name:"LAI XUAN KHOA",Position:"Staff",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6356,Name:"LE TAN CONG",Position:"Staff",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6357,Name:"TU VU UY CHAU",Position:"Staff",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6358,Name:"DO THE VIEN",Position:"Staff",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6359,Name:"PHAM VAN TRONG",Position:"Staff",Organization:"Becamex Infrastructure Development JSC "},{QRCodeID:6360,Name:"NGUYEN MINH DONG",Position:"President",Organization:"Becamex Urban Development JSC "},{QRCodeID:6361,Name:"HUYNH GIA DAT",Position:"General Director",Organization:"Becamex Urban Development JSC "},{QRCodeID:6362,Name:"DUONG NGOC HOANG VU",Position:"President",Organization:"Viet Nam Technology & Telecommunication JSC"},{QRCodeID:6363,Name:"LAI XUAN NGHIA",Position:"General Deputy Director",Organization:"Viet Nam Technology & Telecommunication JSC"},{QRCodeID:6364,Name:"NGUYEN VAN PHUC",Position:"Chief Accountant ",Organization:"Viet Nam Technology & Telecommunication JSC"},{QRCodeID:6365,Name:"LE THI DIEU XUAN",Position:"Director of Human Resources ",Organization:"Viet Nam Technology & Telecommunication JSC"},{QRCodeID:6366,Name:"LE NGOC VINH",Position:"Director of Information Technology",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6367,Name:"VU DUC THUAN",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6368,Name:"PHAM HOANG PHUONG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6369,Name:"NGUYEN THANH TIEN",Position:"Purchasing Director",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6370,Name:"TRUONG TAN BUU",Position:"Technical Director",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6371,Name:"VO PHU HAU",Position:"Head of Electrical Engineering",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6372,Name:"NGUYEN THE LIM",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6373,Name:"NGUYEN THANH TUNG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6374,Name:"NGUYEN GIA LONG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6375,Name:"MAI NHAT TAN",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6376,Name:"DO TONG PHU QUYNH",Position:"Head of Water and Wastewater Treatment",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6377,Name:"TRIEU THANH PHONG",Position:"Head of Water and Wastewater Treatment",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6378,Name:"NGUYEN ANH DUY",Position:"Head of Water and Wastewater Treatment",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6379,Name:"JACK TAN",Position:"Marketing Manager of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6380,Name:"NGUYEN THI KIM PHUONG",Position:"Marketing Head of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6381,Name:"CHOI KEUN HWAN",Position:"Marketing Head of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6382,Name:"NGUYEN LE TRUC AN",Position:"Marketing Head of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6383,Name:"MICHIAKI MORITA",Position:"Marketing Head of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6384,Name:"NGUYEN PHAN VU AN",Position:"Marketing Deputy Head of Industrial Park ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6385,Name:"VO THUY THANH XUAN",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6386,Name:"PHAM MINH NGHIA",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6387,Name:"VU MINH THONG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6388,Name:"VU QUANG VINH",Position:"Director of Urban Development and Services",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6389,Name:"NGUYEN TIEN DAT",Position:"Marketing Head of Commercial & Housing ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6390,Name:"NGUYEN MINH THONG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6391,Name:"TANG LE NGUYEN",Position:"Marketing Deputy Head of Commercial & Housing ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6392,Name:"NGUYEN DUC TUAN",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6393,Name:"TRAN THI ANH DAO",Position:"Director of Customer Services",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6394,Name:"CHIHIRO WATANABE",Position:"Head of Customer Services",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6395,Name:"NGUYEN THI THU TRANG",Position:"Deputy Head of Customer Services",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6396,Name:"NGO PHOI QUYNH",Position:"Deputy Head of Customer Services",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6397,Name:"NGUYEN THE VU",Position:"Director of VSIPProject Development",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6398,Name:"NGUYEN MINH HIEN",Position:"Board of Directors Assistant",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6399,Name:"TRUONG LE THUY",Position:"Board of Directors Assistant",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6400,Name:"DANG TRAN BAO AN ",Position:"Board of Directors Assistant",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6401,Name:"BUI TAN LOC",Position:"Head of Real Estate Management ",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6402,Name:"ANG SIONG SENG",Position:"Construction & Development Director",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6403,Name:"NGUYEN CHI BINH",Position:"Construction & Development Head",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6404,Name:"NGUYEN VAN PHUONG",Position:"Staff",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6405,Name:"HUYNH TAN DINH",Position:"Head of Construction",Organization:"Vietnam Singapore Industrial Park (VSIP)"},{QRCodeID:6406,Name:"VO ANH KHOA",Position:"Operations Director",Organization:"Block 71"},{QRCodeID:6407,Name:"VU THI HUYEN TRANG",Position:"Program Manager",Organization:"Block 71"},{QRCodeID:6408,Name:"VO LE DAI DANH",Position:"Senior Operation Executive",Organization:"Block 71"},{QRCodeID:6409,Name:"NGUYEN TRAN GIA KHANH",Position:"Program Manager",Organization:"Block 71"},{QRCodeID:6410,Name:"NGUYEN THAO NGUYEN",Position:"Program Executive",Organization:"Block 71"},{QRCodeID:6411,Name:"NGUYEN NGOC BICH TRAM",Position:"Program Executive",Organization:"Block 71"},{QRCodeID:6412,Name:"VO MANH TUAN",Position:"Program Intern",Organization:"Block 71"},{QRCodeID:6413,Name:"SHERMAN KAM HOCK LEONG",Position:"General Director",Organization:"SetiaBecamex JSC"},{QRCodeID:6414,Name:"NGUYEN THANH ANH TU",Position:"General Deputy Director",Organization:"SetiaBecamex JSC"},{QRCodeID:6415,Name:"PHAM HUU TRUNG",Position:"General Deputy Director",Organization:"SetiaBecamex JSC"},{QRCodeID:6416,Name:"LE DUC DUONG",Position:"Staff",Organization:"SetiaBecamex JSC"},{QRCodeID:6417,Name:"CAO VAN TAN",Position:"Staff",Organization:"SetiaBecamex JSC"},{QRCodeID:6418,Name:"NGUYEN VAN THUONG",Position:"Staff",Organization:"SetiaBecamex JSC"},{QRCodeID:6419,Name:"TRAN CHIEN CONG",Position:"General Director",Organization:"Binh Duong Water - Enviroment Corporation JSC (BIWASE)"},{QRCodeID:6420,Name:"MAI SONG HAO",Position:"General Deputy Director",Organization:"Binh Duong Water - Enviroment Corporation JSC (BIWASE)"},{QRCodeID:6421,Name:"PHAM THANH HUNG",Position:"General Deputy Director",Organization:"Binh Duong Water - Enviroment Corporation JSC (BIWASE)"},{QRCodeID:6422,Name:"PHAM THAI BINH",Position:"General Director",Organization:"East Saigon Investment & Industry Development JSC"},{QRCodeID:6423,Name:"DOAN VAN THUAN",Position:"Ch\u1EE7 t\u1ECBch H\u1ED9i \u0111\u1ED3ng qu\u1EA3n tr\u1ECB",Organization:"Binh Duong Trade And Development JSC  "},{QRCodeID:6424,Name:"HO HOAN THANH",Position:"General Director",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6425,Name:"LY THI BINH",Position:"General Deputy Director",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6426,Name:"LE VAN HIEN",Position:"General Deputy Director",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6427,Name:"TRINH THI THU",Position:"Secretary Head  ",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6428,Name:"DO DUC CHUNG",Position:"Director of Human Resources ",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6429,Name:"HUYNH THI NGOC TUYET",Position:"Director of Accouting and Finance",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6430,Name:"TRAN THANH TAI",Position:"Sales Director",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6431,Name:"PHAM THANH SON",Position:"Director of Construction",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6432,Name:"NGUYEN NGO HUONG DUONG",Position:"Head of project management",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6433,Name:"DOAN VAN NGAN",Position:"Binh Phuoc Branch",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6434,Name:"NGUYEN THI KIM PHU",Position:"Assistant General Director",Organization:"Binh Duong Trade And Development JSC "},{QRCodeID:6435,Name:"NGUYEN VAN LOI",Position:"Secretary",Organization:"Binh Duong Party Committee"},{QRCodeID:6436,Name:"NGUYEN HOANG THAO",Position:"Standing Deputy Secretary",Organization:"Binh Duong Party Committee"},{QRCodeID:6437,Name:"VO VAN MINH",Position:"Chairman",Organization:"Binh Duong People's Committee"},{QRCodeID:6438,Name:"MAI HUNG DUNG",Position:"Standing Vice Chairman",Organization:"Binh Duong People's Committee"},{QRCodeID:6439,Name:"NGUYEN MINH THUY",Position:"Head of Organization Committee",Organization:"Binh Duong Party Committee"},{QRCodeID:6440,Name:"NGUYEN VAN LOC",Position:"Chairman",Organization:"Binh Duong People's Council"},{QRCodeID:6441,Name:"VO VAN BA",Position:"Head of Internal Affairs",Organization:"Binh Duong Party Committee"},{QRCodeID:6442,Name:"NGUYEN VAN DONG",Position:"Secretary",Organization:"Thu Dau Mot City Party Committee"},{QRCodeID:6443,Name:"NGUYEN HOANG MINH",Position:"Commander",Organization:"Binh Duong Military Command"},{QRCodeID:6444,Name:"HO QUANG DIEP",Position:"Secretary",Organization:"Di An City Party Committee"},{QRCodeID:6445,Name:"NGUYEN LOC HA",Position:"Vice Chairman",Organization:"Binh Duong People's Committee"},{QRCodeID:6446,Name:"BUI THANH NHAN",Position:"Head of Commission for Mass Mobilization",Organization:"Binh Duong Party Committee"},{QRCodeID:6447,Name:"TRUONG THI BICH HANH",Position:"Head of Propaganda and Training Commission",Organization:"Binh Duong Party Committee"},{QRCodeID:6448,Name:"TA VAN DEP",Position:"Director",Organization:"Binh Duong Public Security"},{QRCodeID:6449,Name:"NGUYEN CHI TRUNG",Position:"Permanent Deputy Head of Organization Committee",Organization:"Binh Duong Party Committee"},{QRCodeID:6450,Name:"NGUYEN VAN HUNG",Position:"President",Organization:"Becamex IDC"},{QRCodeID:6451,Name:"NGUYEN DANH TUNG",Position:"Director of Human Resources",Organization:"Becamex IDC"},{QRCodeID:6452,Name:"PHAM NGOC THUAN",Position:"General Director",Organization:"Becamex IDC"},{QRCodeID:6453,Name:"QUANG VAN VIET CUONG",Position:"Deputy General Director",Organization:"Becamex IDC"},{QRCodeID:6454,Name:"TRINH XUAN DUC",Position:"Deputy General Director",Organization:"Becamex IDC"},{QRCodeID:6455,Name:"GIANG QUOC DUNG",Position:"Deputy General Director",Organization:"Becamex IDC"},{QRCodeID:6456,Name:"NGUYEN VAN THANH HUY",Position:"Deputy General Director",Organization:"Becamex IDC"},{QRCodeID:6457,Name:"NGUYEN PHU THINH",Position:"General Director",Organization:"VSIP"},{QRCodeID:6458,Name:"NGUYEN VAN HIEN PHUONG",Position:"Member of the Board of Directors",Organization:"Becamex IDC"},{QRCodeID:6459,Name:"NGUYEN THI THANH NHAN",Position:"Chief Accountant ",Organization:"Becamex IDC"},{QRCodeID:6460,Name:"FRANK-J\xDCRGEN RICHTER",Position:"Chairman",Organization:"Horasis"},{QRCodeID:6461,Name:"COLLEY HWANG",Position:"President & Chief Executive Officer",Organization:"Digitimes"},{QRCodeID:6462,Name:"JOHN JUNG",Position:"Chairman and Co-founder",Organization:"Intelligent Community Forum"},{QRCodeID:6463,Name:"MURAT SEITNEPESOV",Position:"Chief Executive Officer",Organization:"Integral Petroleum"},{QRCodeID:6464,Name:"SHIRIN SEITNEPESOVA"},{QRCodeID:6465,Name:"MARJORIE YANG",Position:"Chairman",Organization:"Esquel Group"},{QRCodeID:6466,Name:"MICHAEL YEOH",Position:"President",Organization:"KSI  Strategic Institute for Asia Pacific"},{QRCodeID:6467,Name:"ROGER KING",Position:"Founder and Chairman",Organization:"ODS Holdings Inc. "},{QRCodeID:6468,Name:"CLAUDE B\xC9GL\xC9",Position:"Chairman ",Organization:"SymbioSwiss"},{QRCodeID:6469,Name:"CAN VAN LUC",Position:"President",Organization:"BIDV Training and Research Institute"},{QRCodeID:6470,Name:"HARRY HUI",Position:"Founder and Managing Partner",Organization:"ClearVue Partners"},{QRCodeID:6471,Name:"TADAHIRO KANEKO",Position:"Deputy Head of Sustainability",Organization:"Sumitomo Mitsui Financial Group"},{QRCodeID:6472,Name:"VIVIAN CLAIRE LIEW",Position:"Founder and CEO",Organization:"Climate Smart Investments"},{QRCodeID:6473,Name:"NGUYEN QUANG HUAN",Position:"Chairman",Organization:"Halcom"},{QRCodeID:6474,Name:"BEN NELSON",Position:"Chairman and Chief Executive Officer",Organization:"Minerva Project"},{QRCodeID:6475,Name:"XIAOYIN QU",Position:"Founder",Organization:"Run The World"},{QRCodeID:6476,Name:"QUYNH ANH NGUYEN",Position:"Managing Director",Organization:"SwissEP"},{QRCodeID:6477,Name:"YIP THY-DIEP TA",Position:"Founder",Organization:"J3d.ai Labs"},{QRCodeID:6478,Name:"CHARLES TANG",Position:"President",Organization:"Brazil China Chamber of Xiaoyin Qu Commerce"},{QRCodeID:6479,Name:"NATALIA TANG"},{QRCodeID:6480,Name:"EDDIE THAI",Position:"General Partner",Organization:"Ascend Vietnam Ventures"},{QRCodeID:6481,Name:"WANG DONG",Position:"Executive Director",Organization:"Institute for Global Cooperation & Understanding (iGCU)"},{QRCodeID:6482,Name:"RICHARD DAVID HAMES",Position:"Founding Director",Organization:"The Asian Foresight Institute"},{QRCodeID:6483,Name:"MOHAMED IRSHAD",Position:"Head of Corporate Affairs for ASEAN ",Organization:"TCS"},{QRCodeID:6484,Name:"PETER PORTHEINE",Position:"Director ",Organization:"Eindhoven International Project Office"},{QRCodeID:6485,Name:"YOSHITO HORI",Position:"Founder and Chairman",Organization:"Globis"},{QRCodeID:6486,Name:"DON LAM",Position:"Chief Executive Officer and Founding Partner",Organization:"VinaCapital"},{QRCodeID:6487,Name:"VAN DANG",Position:"Chief Executive Officer",Organization:"Savvycom"},{QRCodeID:6488,Name:"TADAHIRO KAWADA",Position:"President",Organization:"Kawada Technologies"},{QRCodeID:6489,Name:"JOHAN NYVENE",Position:"Chairman",Organization:"Ho Chi Minh City Securities Corporation"}].forEach(t=>{t.QRCodeID,t.Name,t.Position,t.Organization})}},async created(){}},ei=p("iShowroom Networks"),ti=i("h3",null,"C\u1EA3m \u01A1n \u0111\xE3 s\u1EED d\u1EE5ng iShowroom Vi\u1EC7t Nam",-1),ii=i("p",null,"\u0110\u1EC3 bi\u1EBFt th\xEAm chi ti\u1EBFt c\u0169ng nh\u01B0 li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i",-1),ni=p("V\u1EC1 trang ch\u1EE7"),oi={class:"block-footer"};function si(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-button"),v=a("f7-block"),I=a("f7-page");return d(),D(I,{name:"home"},{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[ei]),_:1})]),_:1}),n(v,{strong:""},{default:s(()=>[ti,ii,n(g,{onClick:t[0]||(t[0]=C=>r.gotoHome()),class:"fill large"},{default:s(()=>[ni]),_:1})]),_:1}),i("div",oi,"iShowroom v"+u(l.f7router.app.version),1)]),_:1})}var ai=S(Zt,[["render",si]]);const li={props:["countImages","maxImages"],emits:["uploaded","toggleCamera"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},methods:{doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,t=this.video.videoHeight,l=t/4*3,c=(e-l)/2,o=0;this.photoTaken.width=l,this.photoTaken.height=t,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+t+")",this.photoTakenCtx.drawImage(this.video,c,o,l,t,0,0,l,t)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.$emit("toggleCamera",this.isCameraOpen),this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.$emit("toggleCamera",this.isCameraOpen),this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,w.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(t=>{this.isLoading=!1,w.preloader.hide(),this.$refs.camera.srcObject=t,this.doLoad()}).catch(t=>{this.isLoading=!1,w.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(t){console.log("createCameraElement()",t)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(t=>{t.stop()})},async takePhoto(){if(console.log("takePhoto",this.countImages,this.maxImages),this.countImages>=this.maxImages){w.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p t\u1EDBi gi\u1EDBi h\u1EA1n l\xE0 "+this.countImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var t=this.dataURItoBlob(e);const l=new FormData;l.append("canvasImage",t);try{let c="https://media.vinaas.com/upload/qrcare-vn";const{data:o}=await this.$axios.post(c,l,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(o&&o.id){const r="https://apps.vinaas.com/file/"+o.id;this.imageUrls.push(r),this.$emit("uploaded",r)}}catch(c){console.log("err",c)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var l=e.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(t.length),o=0;o<t.length;o++)c[o]=t.charCodeAt(o);return new Blob([c],{type:l})}}},ri={class:"web-camera-container"},di=["width","height"],ci=["src","width","height"],ui={id:"photoTaken"},pi=p(" Ch\u1EE5p h\xECnh"),hi=p("Close");function mi(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-button"),g=a("f7-col"),v=a("f7-row"),I=a("f7-block");return d(),D(I,null,{default:s(()=>[i("div",ri,[o.isCameraOpen?A((d(),h("div",{key:0,class:fe(["camera-box",{flash:o.isShotPhoto}])},[i("div",{class:fe(["camera-shutter",{flash:o.isShotPhoto}])},null,2),A(i("video",{id:"camera-video",ref:"camera",width:o.width/2,height:o.height/2,autoplay:"",muted:"",playsinline:""},null,8,di),[[F,!o.isPhotoTaken]]),A(i("img",{src:o.dataUrl,id:"showPhotoTaken",width:o.height/8*3,height:o.height/2},null,8,ci),[[F,o.isPhotoTaken]]),A(i("canvas",ui,null,512),[[F,!1]])],2)),[[F,!o.isLoading]]):k("",!0)]),o.isCameraOpen?(d(),D(v,{key:1},{default:s(()=>[n(g,{width:"30"},{default:s(()=>[o.isCameraOpen?(d(),D(f,{key:0,raised:"",round:"",large:"",color:"gray",onClick:r.toggleCamera},{default:s(()=>[hi]),_:1},8,["onClick"])):k("",!0)]),_:1}),n(g,{width:"10"}),n(g,{width:"60"},{default:s(()=>[o.isCameraOpen?(d(),D(f,{key:0,raised:"",outline:"",round:"",large:"",onClick:r.takePhoto},{default:s(()=>[n(_,{f7:"camera"})]),_:1},8,["onClick"])):k("",!0)]),_:1})]),_:1})):(d(),D(v,{key:0},{default:s(()=>[n(g,{width:"100"},{default:s(()=>[n(f,{raised:"",outline:"",round:"",large:"",onClick:r.toggleCamera},{default:s(()=>[n(_,{f7:"camera"}),pi]),_:1},8,["onClick"])]),_:1})]),_:1}))]),_:1})}var De=S(li,[["render",mi],["__scopeId","data-v-01ed4286"]]);const _i={},fi=i("p",null,"Sorry",-1),gi=i("p",null,"Requested content not found.",-1);function vi(e,t,l,c,o,r){const _=a("f7-navbar"),f=a("f7-block"),g=a("f7-page");return d(),D(g,null,{default:s(()=>[n(_,{title:"Not found","back-link":"Back"}),n(f,{strong:""},{default:s(()=>[fi,gi]),_:1})]),_:1})}var Ci=S(_i,[["render",vi]]);const z={BASE_URL:"https://api.qrcare.net/api/"},bi=G({setup(){return{supporter:ye("supporter")}},data(){return{status:"FREE"}},computed:{waitingTime(){if(this.status=="FREE")return 1;if(this.status=="WAITING")return 5}},methods:{updateSupplierStatus(){}},mounted(){this.updateSupplierStatus()}}),Ii=p("Close"),yi={style:{height:"100%"},class:"display-flex justify-content-center align-items-center"},ki=p("G\u1ECDi l\u1EA1i theo s\u1ED1 (xxx022)"),Di=p("Nh\u1EADp s\u1ED1");function Ei(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-list-item"),I=a("f7-list"),C=a("f7-page");return d(),D(C,null,{default:s(()=>[n(g,{title:"Simple QRCall"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{"popup-close":""},{default:s(()=>[Ii]),_:1})]),_:1})]),_:1}),i("div",yi,[n(I,null,{default:s(()=>[n(v,null,{default:s(()=>[ki]),_:1}),n(v,null,{default:s(()=>[Di]),_:1}),n(v,null,{default:s(()=>[p("ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i trong v\xF2ng "+u(e.waitingTime)+" ph\xFAt",1)]),_:1})]),_:1})])]),_:1})}var wi=S(bi,[["render",Ei]]);const Ni=G({props:{orgId:Number,userId:Number},components:{SimpleCall:wi},computed:{item(){let e={id:111,name:"QRCare Vi\u1EC7t Nam",staffName:"Qu\xE2n",address:"11 \u0110\u1EB7ng Th\u1EBF Phong",phoneNumber:"+84xxxxxx4088"};return this.orgId>1e3,e}},mounted(){}}),Ai={key:0,class:"one-step-qrcall"},Ti=p("G\u1ECDi l\u1EA1i cho t\xF4i"),Pi=i("div",{style:{height:"50px"}},null,-1),$i=p("Close"),Ui={style:{height:"100%"},class:"display-flex justify-content-center align-items-center"},Si=p("Vui l\xF2ng \u0111\u1EC3 l\u1EA1i s\u1ED1 \u0111i\u1EC7n tho\u1EA1i");function Ri(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-button"),g=a("f7-card-content"),v=a("f7-card"),I=a("f7-link"),C=a("f7-nav-right"),b=a("f7-navbar"),m=a("f7-list-item"),y=a("f7-list"),E=a("f7-page"),T=a("f7-popup");return d(),h(N,null,[n(v,null,{default:s(()=>[n(_,null,{default:s(()=>[p("C\u1EA7n h\u1ED7 tr\u1EE3, "+u(e.item.name)+" s\u1EBD ph\u1EE5c v\u1EE5",1)]),_:1}),n(g,null,{default:s(()=>[(d(),h("div",Ai,[n(f,{fill:"","popup-open":".demo-popup-swipe"},{default:s(()=>[Ti]),_:1})]))]),_:1})]),_:1}),Pi,n(T,{class:"demo-popup-swipe","swipe-to-close":""},{default:s(()=>[n(E,null,{default:s(()=>[n(b,{title:"QRCall: Ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i"},{default:s(()=>[n(C,null,{default:s(()=>[n(I,{"popup-close":""},{default:s(()=>[$i]),_:1})]),_:1})]),_:1}),i("div",Ui,[n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[Si]),_:1}),n(m,null,{default:s(()=>[p("B\u1EA1n "+u(e.item.staffName)+" ("+u(e.item.phoneNumber)+") s\u1EBD g\u1ECDi l\u1EA1i trong v\xF2ng 1 ph\xFAt",1)]),_:1})]),_:1})])]),_:1})]),_:1})],64)}var ut=S(Ni,[["render",Ri]]);const xi={components:{ImageUpload:De,Supporter:ut},props:{f7route:Object,f7router:Object},setup(){const e=ye("isAuthen"),t=ye("userInfo");return{isAuthen:e,userInfo:t}},data(){return{activityImages:0,maxActivityImages:2,deviceImages:0,maxDeviceImages:4,isCameraOpen:!1,isCameraOpen2:!1,enablePopup:{editDevice:!1,editUser:!1,activeUsing:!1,sendRequest:!1,addNote:!1,submitTask:!1,confirmTask:!1,activity:!1},listSupplier:[],qrid:{},history:[],supporter:{},supplier:{},activity:{},view_activity:{},ACT_POPUP:{nar_bar_title:"G\u1EEDi y\xEAu c\u1EA7u"},isSellProduct:!0}},computed:{isEdit(){return this.isAuthen},isActive(){return this.qrid.status?this.qrid.status=="QRID_STATUS.ACTIVE":!0},hasData(){return this.qrid.title&&this.qrid.ownerName},listHistory(){return this.history}},methods:{formatDate(e){return this.$utils.formatDate(e)},formatDateTime(e){return this.$utils.formatDateTime(e)},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)},clickLogin(){this.f7router.navigate("/login/")},clickLogout(){he.dispatch("logout")},clickEditDevice(){if(this.deviceImages=0,this.qrid.imageUrls.length>0){const e=this.maxDeviceImages-this.qrid.imageUrls.length;console.log("diff",e),e>0?this.deviceImages=this.qrid.imageUrls.length:this.deviceImages=this.maxDeviceImages}console.log("clickEditDevice()",this.deviceImages,this.qrid.imageUrls,this.qrid.imageUrls.length),this.enablePopup.editDevice=!0},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},toggleCamera2(e){console.log("toggleCamera2()",e),this.isCameraOpen2=e},async addImageDevices(e){this.qrid.imageUrls||(this.qrid.imageUrls=[]),this.qrid.imageUrls.push(e),this.deviceImages++},async addImageActivity(e){this.activity.imageUrls||(this.activity.imageUrls=[]),this.activity.imageUrls.push(e),this.activityImages++},cancelEditDevice(){this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},stopCameraImageUpload(){this.isCameraOpen&&this.$refs.deviceImages.toggleCamera(),this.isCameraOpen2&&this.$refs.activityImages.toggleCamera()},async processEditDevice(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.isSellProduct?(this.qrid.sellerId=this.supporter.id,this.qrid.sellerName=this.supporter.name,this.qrid.sellerAddress=this.supporter.address):this.qrid.sellerId==this.supporter.id&&(this.qrid.sellerId=0,this.qrid.sellerName="",this.qrid.sellerAddress=""),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editDevice()",this.qrid)),this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},async editUser(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editUser()",this.qrid),this.enablePopup.editUser=!1},clickActive(){this.enablePopup.activeUsing=!0},async activeUsing(){this.isActive||(this.qrid.status="QRID_STATUS.ACTIVE",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.qrid.activatedDate=new Date),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("activeUsing()",this.qrid),this.enablePopup.activeUsing=!1},clickSendRequest(e){e.type="ACTIVITY.QR_REQUEST",this.activity=e,this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action:"G\u1EEDi y\xEAu c\u1EA7u",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},clickAddNote(e){e.type="ACTIVITY.QRNOTE",e.supplierOrganizationId=0,this.activity=e,this.ACT_POPUP={nar_bar_title:"N\u1ED9i dung ghi ch\xFA",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action:"L\u01B0u Ghi ch\xFA",action_footer:"Ghi ch\xFA n\xE0y ch\u1EC9 \u0111\u01B0\u1EE3c th\u1EA5y khi qu\xE9t Th\u1EBB"},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async clickViewActivity(e){if(this.view_activity=e,this.view_activity.supplierOrganizationId||(this.view_activity.supplierOrganizationId=111),this.view_activity.supplierOrganizationId==this.supporter.id)this.supplier=this.supporter;else{var t=await this.$axios.get("/Organizations/"+this.view_activity.supplierOrganizationId);t&&t.data&&(this.supplier=t.data)}this.view_activity.type=="ACTIVITY.QRTASK"&&(this.view_activity.status=="CREATED"&&(this.ACT_POPUP={nar_bar_title:"Ch\u1EDD x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"Sau khi x\xE1c nh\u1EADn, c\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc."}),this.view_activity.status=="CONFIRMED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\u01B0\u1EE3c x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc, c\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 l\u1EF1a ch\u1ECDn!"}),this.view_activity.status=="REJECTED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c b\u1ECB t\u1EEB ch\u1ED1i",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"T\u1EEB ch\u1ED1i",action_footer:""})),this.view_activity.type=="ACTIVITY.QR_REQUEST"&&(this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u \u0111\xE3 g\u1EEDi",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),this.view_activity.type=="ACTIVITY.QRNOTE"&&(this.ACT_POPUP={nar_bar_title:"Ghi ch\xFA \u0111\xE3 l\u01B0u",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),console.log("clickViewActivity()",this.view_activity),this.enablePopup.view_activity=!0},async confirmQRTask(){let e={id:this.view_activity.id,qrid:this.activity.qrid,userComment:this.view_activity.userComment,status:"CONFIRMED",modified:new Date};await this.patchActivity(e)},async rejectQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"REJECTED",modified:new Date};await this.patchActivity(e)},clickNewActivity(e){const t=this.supporter;let l={qrid:this.qrid.id,title:"",description:"",imageUrls:[],customerName:this.qrid.ownerName,customerPhoneNumber:this.qrid.ownerPhoneNumber,customerAddress:this.qrid.ownerAddress,supplierOrganizationId:t.id,status:"CREATED",created:new Date};this.supplier=t,console.log("clickNewActivity()",l,this.supplier),e=="SEND_REQUEST"&&this.clickSendRequest(l),e=="ADD_NOTE"&&this.clickAddNote(l),e=="SUBMIT_TASK"&&this.clickSubmitTask(l)},clickSubmitTask(e){e.type="ACTIVITY.QRTASK",e.supplierStaffId=this.userInfo.id,this.activity=e,this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\xE3 th\u1EF1c hi\u1EC7n",content:"Chi ti\u1EBFt c\xF4ng vi\u1EC7c",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"",action:"G\u1EEDi k\u1EBFt qu\u1EA3",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async closeNewActivity(){this.stopCameraImageUpload(),this.enablePopup.activity=!1},async postActivity(){let e=await this.$axios.post("/QRActivities",this.activity);if(console.log("rs",e),e.data){let t=parseInt(e.data.id),l=await this.$axios.post("/QRActivities/notify",{activityId:t});console.log("notify",l)}this.history.unshift(e.data),this.stopCameraImageUpload(),this.enablePopup.activity=!1},async patchActivity(e){let t=await this.$axios.patch("/QRActivities/"+e.id,e);if(console.log("rs",t.data),t.data){let c=parseInt(t.data.id);await this.$axios.post("/QRActivities/notify",{activityId:c})}if(t.data){for(var l in this.history)if(this.history[l].id==t.data.id){this.history[l]=t.data;break}}return this.enablePopup.view_activity=!1,t.data},changeDesc(e,t){for(var l in projects)if(projects[l].value==e){projects[l].desc=t;break}},async getDeviceData(){try{var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.$axios.defaults.baseURL=z.BASE_URL;var l=await this.$axios.get("QRIDs/getLifecycle",{params:{qrid:e,privateCode:t}}),c=l.data;console.log(c),c&&c.id&&(this.qrid=c,this.supporter=this.qrid.supporter,this.supporter&&this.supporter.id=="888"?he.dispatch("updateDemoCard",!0):he.dispatch("updateDemoCard",!1),this.history=this.qrid.history)}catch(o){console.log("error",o)}}},async created(){await Promise.all([this.getDeviceData()])}},Oi=p("\u0110\u0103ng nh\u1EADp"),Bi=p("\u0110\u0103ng xu\u1EA5t"),Hi=p("\u0110\u01A1n v\u1ECB ph\xE1t h\xE0nh Th\u1EBB"),Qi={key:0},Vi=p("\u0110\xE3 \u0111\u0103ng nh\u1EADp b\u1EDFi"),Li=p("V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB"),zi={key:0},qi=p(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),Fi=p("Edit"),Mi={class:"list media-list no-hairlines-between"},Gi={class:"item-content"},Ki={class:"item-inner"},Yi={class:"item-title"},ji={class:"item-content"},Ji={class:"item-inner"},Wi=["innerHTML"],Xi=["src"],Zi={key:0},en={class:"item-content"},tn={class:"item-inner"},nn={class:"item-title"},on={class:"item-checkbox item-content"},sn={class:"item-inner"},an=i("div",{class:"item-title-row"},[i("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),ln={class:"item-subtitle"},rn={class:"item-text"},dn=i("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),cn=p(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),un=p("Edit"),pn={class:"list media-list no-hairlines-between"},hn={class:"item-content"},mn=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),_n={class:"item-inner"},fn={class:"item-title"},gn={key:0},vn={class:"item-content"},Cn=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),bn={class:"item-inner"},In={class:"item-subtitle"},yn={class:"item-content"},kn=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"house")],-1),Dn={class:"item-inner"},En={class:"item-subtitle"},wn=i("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),Nn=p("L\u1ECBch s\u1EED ho\u1EA1t \u0111\u1ED9ng"),An={class:"list media-list medium-inset"},Tn=["onClick"],Pn={class:"item-media"},$n=["src"],Un={class:"item-inner"},Sn={class:"item-header"},Rn={class:"item-title-row"},xn=i("div",{class:"item-after"},null,-1),On={class:"item-subtitle"},Bn={class:"item-text"},Hn={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Qn=["src"],Vn=i("i",{class:"f7-icons"},"xmark_circle",-1),Ln=p("Cancel"),zn=i("i",{class:"f7-icons"},"cloud_upload",-1),qn=p("L\u01B0u"),Fn=p("Ng\u01B0\u1EDDi s\u1EDF h\u1EEFu (mua) thi\u1EBFt b\u1ECB"),Mn=i("i",{class:"f7-icons"},"xmark_circle",-1),Gn=p("Cancel"),Kn=p("C\u1EADp nh\u1EADt"),Yn=p("X\xE1c nh\u1EADn th\xF4ng tin"),jn=p("sau khi k\xEDch ho\u1EA1t, kh\xF4ng th\u1EC3 thay \u0111\u1ED5i th\xF4ng tin c\u1EE7a Th\u1EBB. B\u1EA1n c\xF3 d\xE1m ch\u1EAFc"),Jn=i("i",{class:"f7-icons"},"xmark_circle",-1),Wn=p("Hu\u1EF7"),Xn=i("i",{class:"f7-icons"},"checkmark_circle",-1),Zn=p(" X\xE1c nh\u1EADn"),eo=["src"],to=i("i",{class:"f7-icons"},"xmark_circle",-1),io=p("Hu\u1EF7"),no=i("i",{class:"f7-icons"},"checkmark_circle",-1),oo=["src"],so=p("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),ao=p("ch\u01B0a c\xF3"),lo=p("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),ro=p("T\u1EEB ch\u1ED1i"),co=i("i",{class:"f7-icons"},"checkmark_circle",-1),uo=p("X\xE1c nh\u1EADn"),po=i("i",{class:"f7-icons"},"xmark_circle",-1),ho=p(" \u0110\xF3ng");function mo(e,t,l,c,o,r){const _=a("f7-navbar"),f=a("f7-link"),g=a("f7-list"),v=a("f7-block"),I=a("f7-block-title"),C=a("f7-card-header"),b=a("f7-card-content"),m=a("f7-card"),y=a("f7-page"),E=a("f7-view"),T=a("f7-panel"),P=a("f7-nav-right"),O=a("f7-nav-title"),x=a("f7-button"),B=a("f7-swiper-slide"),H=a("f7-swiper"),$=a("f7-icon"),M=a("f7-fab"),j=a("f7-list-input"),Y=a("image-upload"),R=a("f7-col"),q=a("f7-row"),Z=a("f7-list-item"),Te=a("f7-popup"),Ot=a("f7-card-footer"),nt=a("f7-block-footer");return d(),D(y,null,{default:s(()=>[n(T,{left:"",cover:"","theme-dark":""},{default:s(()=>[n(E,null,{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:l.f7router.app.name+" v"+l.f7router.app.version},null,8,["title"]),n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[r.isEdit?k("",!0):(d(),D(f,{key:0,onClick:t[0]||(t[0]=L=>r.clickLogin()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[Oi]),_:1})),r.isEdit?(d(),D(f,{key:1,onClick:t[1]||(t[1]=L=>r.clickLogout()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[Bi]),_:1})):k("",!0)]),_:1})]),_:1}),n(I,null,{default:s(()=>[Hi]),_:1}),n(m,null,{default:s(()=>[n(C,null,{default:s(()=>[p(u(o.supporter.name),1)]),_:1}),n(b,null,{default:s(()=>[i("p",null,u(o.supporter.address),1),i("p",null,"Ng\xE0y ph\xE1t h\xE0nh "+u(r.formatDate(o.qrid.created)),1),r.isActive?(d(),h("p",Qi," Ng\xE0y k\xEDch ho\u1EA1t "+u(r.formatDate(o.qrid.activatedDate)),1)):k("",!0)]),_:1})]),_:1}),c.userInfo.id?(d(),D(m,{key:0},{default:s(()=>[n(C,null,{default:s(()=>[Vi]),_:1}),n(b,null,{default:s(()=>[p(u(c.userInfo.username)+", vai tr\xF2: "+u(c.userInfo.roleCode)+", id: "+u(c.userInfo.id),1)]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1}),n(_,{sliding:!1},{default:s(()=>[n(P,null,{default:s(()=>[n(f,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),n(O,{sliding:""},{default:s(()=>[Li]),_:1})]),_:1}),n(m,{"bg-color":r.isActive?"blue":"red"},{default:s(()=>[n(C,null,{default:s(()=>[p("ID: "+u(l.f7route.params.id),1),r.isActive?k("",!0):(d(),h("span",zi,"ch\u01B0a k\xEDch ho\u1EA1t"))]),_:1})]),_:1},8,["bg-color"]),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[qi,!r.isActive&&r.isEdit?(d(),D(x,{key:0,onClick:r.clickEditDevice},{default:s(()=>[Fi]),_:1},8,["onClick"])):k("",!0)]),_:1}),o.qrid.title?(d(),D(b,{key:0},{default:s(()=>[i("div",Mi,[i("ul",null,[i("li",null,[i("div",Gi,[i("div",Ki,[i("div",Yi,u(o.qrid.title),1)])])]),i("li",null,[i("div",ji,[i("div",Ji,[i("div",{class:"item-text",innerHTML:o.qrid.description},null,8,Wi)])])]),i("li",null,[n(H,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(d(!0),h(N,null,Q(o.qrid.imageUrls,L=>(d(),D(B,{key:L},{default:s(()=>[i("img",{class:"small",src:L},null,8,Xi)]),_:2},1024))),128))]),_:1})]),r.isActive?(d(),h("li",Zi,[i("div",en,[i("div",tn,[i("div",nn," Ng\xE0y k\xEDch ho\u1EA1t: "+u(r.formatDate(o.qrid.activatedDate)),1)])])])):k("",!0),i("li",null,[i("label",on,[i("div",sn,[an,i("div",ln,u(o.qrid.sellerName),1),i("div",rn,u(o.qrid.sellerAddress),1)])])])])])]),_:1})):(d(),D(b,{key:1},{default:s(()=>[dn]),_:1}))]),_:1}),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[cn,!r.isActive&&r.isEdit?(d(),D(x,{key:0,"popup-open":"#edit-user"},{default:s(()=>[un]),_:1})):k("",!0)]),_:1}),o.qrid.ownerName?(d(),D(b,{key:0},{default:s(()=>[i("div",pn,[i("ul",null,[i("li",null,[i("div",hn,[mn,i("div",_n,[i("div",fn,u(o.qrid.ownerName),1)])])]),o.qrid.ownerPhoneNumber?(d(),h("li",gn,[i("div",vn,[Cn,i("div",bn,[i("div",In,u(o.qrid.ownerPhoneNumber),1)])])])):k("",!0),i("li",null,[i("div",yn,[kn,i("div",Dn,[i("div",En,u(o.qrid.ownerAddress),1)])])])])])]),_:1})):(d(),D(b,{key:1},{default:s(()=>[wn]),_:1}))]),_:1}),r.isActive?(d(),D(I,{key:0},{default:s(()=>[Nn]),_:1})):k("",!0),i("div",An,[i("ul",null,[(d(!0),h(N,null,Q(o.history,L=>(d(),h("li",{key:L.id},[i("a",{onClick:OB=>r.clickViewActivity(L),class:"item-link item-content chevron-center"},[i("div",Pn,[i("img",{style:{border:"1px solid #ccc"},src:L.imageUrls&&L.imageUrls[0]?L.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,$n)]),i("div",Un,[i("div",Sn,u(r.formatDateTime(L.modified)),1),i("div",Rn,[i("div",{class:fe(r.getActivityColor(L)),style:{"font-size":"16px"}},u(r.getActivityName(L)),3),xn]),i("div",On,u(L.title),1),i("div",Bn,u(L.description),1),i("div",Hn,u(L.money>0?r.formatMoney(L.money):" "),1)])],8,Tn)]))),128))])]),!r.isActive&&!r.isEdit?(d(),D(M,{key:1,position:"center-bottom",text:"\u0110\u0103ng nh\u1EADp",color:"red",onClick:t[2]||(t[2]=L=>r.clickLogin())},{default:s(()=>[n($,{ios:"f7:lock_open",aurora:"f7:lock_open",md:"material:lock_open"})]),_:1})):k("",!0),!r.isActive&&r.isEdit&&r.hasData?(d(),D(M,{key:2,position:"center-bottom",text:"K\xEDch ho\u1EA1t",color:"red",onClick:t[3]||(t[3]=L=>r.clickActive())},{default:s(()=>[n($,{ios:"f7:house",aurora:"f7:house",md:"material:house"})]),_:1})):k("",!0),r.isActive&&r.isEdit?(d(),D(M,{key:3,position:"center-bottom",text:"C\xF4ng vi\u1EC7c",color:"blue",onClick:t[4]||(t[4]=L=>r.clickNewActivity("SUBMIT_TASK"))},{default:s(()=>[n($,{f7:"bell_fill"})]),_:1})):k("",!0),r.isActive&&!r.isEdit?(d(),D(M,{key:4,position:"left-bottom",text:"Ghi ch\xFA",color:"green",onClick:t[5]||(t[5]=L=>r.clickNewActivity("ADD_NOTE"))},{default:s(()=>[n($,{f7:"pencil_ellipsis_rectangle"})]),_:1})):k("",!0),r.isActive&&!r.isEdit?(d(),D(M,{key:5,position:"right-bottom",text:"Y\xEAu c\u1EA7u",color:"blue",onClick:t[6]||(t[6]=L=>r.clickNewActivity("SEND_REQUEST"))},{default:s(()=>[n($,{f7:"paperplane_fill"})]),_:1})):k("",!0),n(Te,{id:"edit-device",opened:o.enablePopup.editDevice,"onUpdate:opened":t[10]||(t[10]=L=>o.enablePopup.editDevice=L)},{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:"C\u1EADp nh\u1EADt thi\u1EBFt b\u1ECB"}),n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[n(j,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn thi\u1EBFt b\u1ECB","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.qrid.title,"onUpdate:value":t[7]||(t[7]=L=>o.qrid.title=L)},null,8,["value"])]),_:1})]),_:1}),n(v,null,{default:s(()=>[n(Y,{ref:"deviceImages",countImages:o.deviceImages,maxImages:o.maxDeviceImages,onToggleCamera:r.toggleCamera,onUploaded:r.addImageDevices},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),n(q,{"no-gap":""},{default:s(()=>[(d(!0),h(N,null,Q(o.qrid.imageUrls,L=>(d(),D(R,{width:"50",key:L},{default:s(()=>[i("img",{width:"100",src:L},null,8,Qn)]),_:2},1024))),128))]),_:1}),n(g,null,{default:s(()=>[n(j,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.qrid.description,"onUpdate:value":t[8]||(t[8]=L=>o.qrid.description=L)},null,8,["value"])]),_:1}),n(g,{"media-list":""},{default:s(()=>[n(Z,{checkbox:"",checked:"","onUpdate:checked":t[9]||(t[9]=L=>o.isSellProduct=L),title:"S\u1EA3n ph\u1EA9m c\u1EE7a",after:"",subtitle:o.supporter.name,text:o.supporter.address},null,8,["checked","subtitle","text"])]),_:1})]),_:1}),n(q,null,{default:s(()=>[n(R,{width:"40"},{default:s(()=>[n(x,{round:"",large:"",color:"gray",onClick:r.cancelEditDevice},{default:s(()=>[Vn,Ln]),_:1},8,["onClick"])]),_:1}),n(R,{width:"60"},{default:s(()=>[n(x,{fill:"",round:"",large:"",onClick:r.processEditDevice},{default:s(()=>[zn,qn]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),n(Te,{id:"edit-user",opened:o.enablePopup.editUser,"onUpdate:opened":t[14]||(t[14]=L=>o.enablePopup.editUser=L)},{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:"Th\xF4ng tin ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"}),n(v,null,{default:s(()=>[n(I,null,{default:s(()=>[Fn]),_:1}),n(g,{"no-hairlines-md":""},{default:s(()=>[n(j,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.qrid.ownerName,"onUpdate:value":t[11]||(t[11]=L=>o.qrid.ownerName=L)},null,8,["value"]),n(j,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:o.qrid.ownerPhoneNumber,"onUpdate:value":t[12]||(t[12]=L=>o.qrid.ownerPhoneNumber=L)},null,8,["value"]),n(j,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.qrid.ownerAddress,"onUpdate:value":t[13]||(t[13]=L=>o.qrid.ownerAddress=L)},null,8,["value"])]),_:1})]),_:1}),n(q,null,{default:s(()=>[n(R,{width:"40"},{default:s(()=>[n(x,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[Mn,Gn]),_:1})]),_:1}),n(R,{width:"60"},{default:s(()=>[n(x,{fill:"",round:"",large:"",onClick:r.editUser},{default:s(()=>[Kn]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),n(Te,{id:"active-using",opened:o.enablePopup.activeUsing,"onUpdate:opened":t[15]||(t[15]=L=>o.enablePopup.activeUsing=L)},{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:"C\u1EA3nh b\xE1o"}),n(m,{strong:""},{default:s(()=>[n(C,null,{default:s(()=>[Yn]),_:1}),n(b,null,{default:s(()=>[jn]),_:1}),n(Ot,null,{default:s(()=>[n(R,null,{default:s(()=>[n(x,{"popup-close":""},{default:s(()=>[Jn,Wn]),_:1})]),_:1}),n(R,null,{default:s(()=>[n(x,{fill:"",onClick:r.activeUsing},{default:s(()=>[Xn,Zn]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),n(Te,{id:"new-activity",opened:o.enablePopup.activity,"onUpdate:opened":t[22]||(t[22]=L=>o.enablePopup.activity=L)},{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:o.ACT_POPUP.nar_bar_title},null,8,["title"]),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[p(u(o.ACT_POPUP.content),1)]),_:1}),n(b,null,{default:s(()=>[n(g,null,{default:s(()=>[n(j,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"Ti\xEAu \u0111\u1EC1","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.activity.title,"onUpdate:value":t[16]||(t[16]=L=>o.activity.title=L)},null,8,["value"]),n(j,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.activity.description,"onUpdate:value":t[17]||(t[17]=L=>o.activity.description=L)},null,8,["value"]),o.activity.type=="ACTIVITY.QRTASK"?(d(),D(j,{key:0,outline:"",type:"number",label:"Ti\u1EC1n \u0111\xE3 thu","floating-label":"",placeholder:"","clear-button":"",value:o.activity.money,"onUpdate:value":t[18]||(t[18]=L=>o.activity.money=L)},null,8,["value"])):k("",!0),o.activity.type=="ACTIVITY.QRTASK"?(d(),D(Z,{key:1},{default:s(()=>[p("V\xE0o l\xFAc : "+u(r.formatDateTime(o.activity.created)),1)]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1}),n(v,null,{default:s(()=>[n(Y,{ref:"activityImages",countImages:o.activityImages,maxImages:o.maxActivityImages,onToggleCamera:r.toggleCamera2,onUploaded:r.addImageActivity},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),n(q,{"no-gap":""},{default:s(()=>[(d(!0),h(N,null,Q(o.activity.imageUrls,L=>(d(),D(R,{width:"50",key:L},{default:s(()=>[i("img",{width:"100",src:L},null,8,eo)]),_:2},1024))),128))]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[p(u(o.ACT_POPUP.sender),1)]),_:1}),n(b,null,{default:s(()=>[n(g,{"no-hairlines-md":""},{default:s(()=>[n(j,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.activity.customerName,"onUpdate:value":t[19]||(t[19]=L=>o.activity.customerName=L)},null,8,["value"]),o.activity.type=="ACTIVITY.QR_REQUEST"?(d(),D(j,{key:0,outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:o.activity.customerPhoneNumber,"onUpdate:value":t[20]||(t[20]=L=>o.activity.customerPhoneNumber=L)},null,8,["value"])):k("",!0),n(j,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.activity.customerAddress,"onUpdate:value":t[21]||(t[21]=L=>o.activity.customerAddress=L)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o.activity.type=="ACTIVITY.QR_REQUEST"?(d(),D(m,{key:0},{default:s(()=>[n(C,{"bg-color":"blue"},{default:s(()=>[p(u(o.ACT_POPUP.receiver),1)]),_:1}),n(b,null,{default:s(()=>[n(C,null,{default:s(()=>[p(u(o.supplier.name),1)]),_:1}),n(b,null,{default:s(()=>[p(u(o.supplier.address),1)]),_:1})]),_:1})]),_:1})):k("",!0),n(v,null,{default:s(()=>[n(q,null,{default:s(()=>[n(R,{width:"30"},{default:s(()=>[n(x,{raised:"",round:"",large:"",color:"gray",onClick:r.closeNewActivity},{default:s(()=>[to,io]),_:1},8,["onClick"])]),_:1}),n(R,{width:"60"},{default:s(()=>[n(x,{raised:"",round:"",fill:"",large:"",onClick:r.postActivity},{default:s(()=>[no,p(u(o.ACT_POPUP.action),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),n(nt,null,{default:s(()=>[p(u(o.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),n(Te,{id:"view-activity",opened:o.enablePopup.view_activity,"onUpdate:opened":t[26]||(t[26]=L=>o.enablePopup.view_activity=L)},{default:s(()=>[n(y,null,{default:s(()=>[n(_,{title:o.ACT_POPUP.nar_bar_title},null,8,["title"]),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[p(u(o.ACT_POPUP.content),1)]),_:1}),n(b,null,{default:s(()=>[n(g,{"no-hairlines-md":""},{default:s(()=>[n(Z,null,{default:s(()=>[p(u(o.view_activity.title),1)]),_:1}),n(Z,null,{default:s(()=>[p(u(o.view_activity.description),1)]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"?(d(),D(Z,{key:0},{default:s(()=>[p("\u0110\xE3 thu: "+u(r.formatMoney(o.view_activity.money)),1)]),_:1})):k("",!0),o.view_activity.type=="ACTIVITY.QRTASK"?(d(),D(Z,{key:1},{default:s(()=>[p("Th\u1EF1c hi\u1EC7n l\xFAc: "+u(r.formatDateTime(o.view_activity.created)),1)]),_:1})):(d(),D(Z,{key:2},{default:s(()=>[p("G\u1EEDi l\xFAc: "+u(r.formatDateTime(o.view_activity.created)),1)]),_:1})),n(v,null,{default:s(()=>[n(q,{"no-gap":""},{default:s(()=>[(d(!0),h(N,null,Q(o.view_activity.imageUrls,L=>(d(),D(R,{width:"50",key:L},{default:s(()=>[i("img",{width:"100",src:L},null,8,oo)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[p(u(o.ACT_POPUP.sender),1)]),_:1}),n(b,null,{default:s(()=>[n(g,{"no-hairlines-md":""},{default:s(()=>[n(Z,null,{default:s(()=>[p(u(o.view_activity.customerName),1)]),_:1}),n(Z,null,{default:s(()=>[p(u(o.view_activity.customerPhoneNumber),1)]),_:1}),n(Z,null,{default:s(()=>[p(u(o.view_activity.customerAddress),1)]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CONFIRMED"?(d(),D(Z,{key:0},{default:s(()=>[p("X\xE1c nh\u1EADn l\xFAc "+u(r.formatDateTime(o.view_activity.modified)),1)]),_:1})):k("",!0),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="REJECTED"?(d(),D(Z,{key:1},{default:s(()=>[p("T\u1EEB ch\u1ED1i l\xFAc "+u(r.formatDateTime(o.view_activity.modified)),1)]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"&&(o.view_activity.status=="CONFIRMED"||o.view_activity.status=="REJECTED")?(d(),D(m,{key:0},{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[so]),_:1}),n(b,null,{default:s(()=>[o.view_activity.userComment?(d(),D(g,{key:0},{default:s(()=>[n(Z,null,{default:s(()=>[p(u(o.view_activity.userComment),1)]),_:1})]),_:1})):(d(),D(g,{key:1},{default:s(()=>[n(Z,null,{default:s(()=>[ao]),_:1})]),_:1}))]),_:1})]),_:1})):k("",!0),o.view_activity.type=="ACTIVITY.QR_REQUEST"||o.view_activity.type=="ACTIVITY.QRTASK"?(d(),D(m,{key:1},{default:s(()=>[n(C,{"bg-color":"blue"},{default:s(()=>[p(u(o.ACT_POPUP.receiver)+" ",1),n($,{f7:o.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),n(b,null,{default:s(()=>[n(g,null,{default:s(()=>[n(Z,null,{default:s(()=>[p(u(o.supplier.name),1)]),_:1}),n(Z,null,{default:s(()=>[p(u(o.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CREATED"?(d(),D(m,{key:2},{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[lo]),_:1}),n(b,null,{default:s(()=>[n(g,null,{default:s(()=>[n(j,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:o.view_activity.userComment,"onUpdate:value":t[23]||(t[23]=L=>o.view_activity.userComment=L)},null,8,["value"])]),_:1})]),_:1})]),_:1})):k("",!0),n(v,null,{default:s(()=>[o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CREATED"?(d(),D(q,{key:0},{default:s(()=>[n(R,{width:"40"},{default:s(()=>[n(x,{raised:"",round:"",large:"",color:"gray",onClick:t[24]||(t[24]=L=>r.rejectQRTask())},{default:s(()=>[ro]),_:1})]),_:1}),n(R,{width:"60"},{default:s(()=>[n(x,{fill:"",large:"",onClick:t[25]||(t[25]=L=>r.confirmQRTask())},{default:s(()=>[co,uo]),_:1})]),_:1})]),_:1})):(d(),D(q,{key:1},{default:s(()=>[n(R,{width:"100"},{default:s(()=>[n(x,{fill:"",round:"",large:"","popup-close":""},{default:s(()=>[po,ho]),_:1})]),_:1})]),_:1})),n(nt,null,{default:s(()=>[p(u(o.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var _o=S(xi,[["render",mo]]);const fo={props:["maxImages","enableCamera"],emits:["save"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},computed:{textSaveButton(){return this.imageUrls.length>0?`Save(${this.imageUrls.length})`:"Save"}},methods:{close(e=!0){console.log("closeCamera",e),this.toggleCamera(),e?this.$emit("save",this.imageUrls):this.$emit("save",null)},closeCamera(){this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()},openCamera(){this.imageUrls=[],this.toggleCamera()},doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,t=this.video.videoHeight,l=t/4*3,c=(e-l)/2,o=0;this.photoTaken.width=l,this.photoTaken.height=t,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+t+")",this.photoTakenCtx.drawImage(this.video,c,o,l,t,0,0,l,t)},toggleCamera(){console.log("toggleCamera()",this.isCameraOpen),this.isCameraOpen?(this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,w.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(t=>{this.isLoading=!1,w.preloader.hide(),this.$refs.camera.srcObject=t,this.doLoad()}).catch(t=>{this.isLoading=!1,w.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(t){console.log("createCameraElement()",t)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(t=>{t.stop()})},async takePhoto(){if(this.imageUrls.length>=this.maxImages){w.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p qu\xE1 "+this.maxImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var t=this.dataURItoBlob(e);const l=new FormData;l.append("canvasImage",t);try{let c="https://media.vinaas.com/upload/qrcare-vn";const{data:o}=await this.$axios.post(c,l,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(o&&o.id){const r="https://apps.vinaas.com/file/"+o.id;this.imageUrls.push(r)}}catch(c){console.log("err",c)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var l=e.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(t.length),o=0;o<t.length;o++)c[o]=t.charCodeAt(o);return new Blob([c],{type:l})}}},go={class:"web-camera-container"},vo=["width","height"],Co=["src","width","height"],bo={id:"photoTaken"},Io=["src"];function yo(e,t,l,c,o,r){const _=a("f7-row"),f=a("f7-col"),g=a("f7-block"),v=a("f7-icon"),I=a("f7-fab"),C=a("f7-page");return d(),D(C,null,{default:s(()=>[i("div",go,[o.isCameraOpen?A((d(),h("div",{key:0,class:fe(["camera-box",{flash:o.isShotPhoto}])},[i("div",{class:fe(["camera-shutter",{flash:o.isShotPhoto}])},null,2),A(i("video",{id:"camera-video",ref:"camera",width:o.width/2,height:o.height/2,autoplay:"",muted:"",playsinline:""},null,8,vo),[[F,!o.isPhotoTaken]]),A(i("img",{src:o.dataUrl,id:"showPhotoTaken",width:o.height/8*3,height:o.height/2},null,8,Co),[[F,o.isPhotoTaken]]),A(i("canvas",bo,null,512),[[F,!1]])],2)),[[F,!o.isLoading]]):k("",!0)]),n(g,null,{default:s(()=>[n(_,null,{default:s(()=>[p("H\xECnh \u0111\xE3 ch\u1EE5p ("+u(o.imageUrls.length)+" t\u1EA5m)",1)]),_:1}),n(_,null,{default:s(()=>[(d(!0),h(N,null,Q(o.imageUrls,b=>(d(),D(f,{width:"50",key:b},{default:s(()=>[i("img",{style:{"max-width":"50%",height:"auto"},src:b},null,8,Io)]),_:2},1024))),128))]),_:1})]),_:1}),n(I,{position:"center-bottom",onClick:r.takePhoto,text:"",color:"red"},{default:s(()=>[n(v,{f7:"camera"})]),_:1},8,["onClick"]),n(I,{position:"right-bottom",color:"blue",onClick:t[0]||(t[0]=b=>r.close(!0)),text:r.textSaveButton},null,8,["text"]),n(I,{position:"left-bottom",color:"gray",onClick:t[1]||(t[1]=b=>r.close(!1)),text:"X"})]),_:1})}var Ee=S(fo,[["render",yo],["__scopeId","data-v-b151db60"]]);const ko=G({props:{isView:Boolean,id:Number,status:String},emits:["updated"],components:{ImageUpload:Ee},data(){return{locationName:"M\xF4 t\u1EA3 \u0111\u1ECBa \u0111i\u1EC3m",adminCardTitle:"Nh\xE2n s\u1EF1 ti\u1EBFp nh\u1EADn",isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{imageUrls:[],sellerName:null}}},watch:{id:"loadData",status:"loadData"},computed:{isActive(){return this.status!=="QRID_STATUS.ACTIVE"?this.isView:!0}},methods:{async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getQRID(this.id,"111"),this.isLoading=!1)},async updateData(){this.id&&await this.$api.activeQRMember(this.id,this.data)&&(w.dialog.alert("K\xEDch ho\u1EA1t th\xE0nh c\xF4ng!"),this.$emit("updated","ACTIVE"))},async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)}},async mounted(){await this.loadData()}}),Do={class:"list media-list no-hairlines-between"},Eo={class:"item-content"},wo={class:"item-inner"},No={class:"item-title"},Ao={class:"item-content"},To={class:"item-inner"},Po=["innerHTML"],$o=["src"],Uo=p("H\xECnh \u1EA3nh minh ho\u1EA1 \u0111\u1ECBa \u0111i\u1EC3m"),So=["src"],Ro=p("Ch\u1EE5p"),xo={class:"list media-list no-hairlines-between"},Oo={class:"item-content"},Bo=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),Ho={class:"item-inner"},Qo={class:"item-title"},Vo={key:0},Lo={class:"item-content"},zo=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),qo={class:"item-inner"},Fo={class:"item-subtitle"},Mo={key:1},Go={class:"item-checkbox item-content"},Ko={class:"item-inner"},Yo=i("div",{class:"item-title-row"},[i("div",{class:"item-title"},"Qu\u1EA3n l\xFD b\u1EDFi")],-1),jo={class:"item-subtitle"},Jo={class:"item-text"},Wo=p("K\xEDch ho\u1EA1t");function Xo(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-swiper-slide"),v=a("f7-swiper"),I=a("f7-card-content"),C=a("f7-card"),b=a("f7-list-input"),m=a("f7-list"),y=a("f7-row"),E=a("f7-col"),T=a("f7-icon"),P=a("f7-button"),O=a("f7-block"),x=a("image-upload"),B=a("f7-popup");return d(),h(N,null,[e.isActive?(d(),D(C,{key:0},{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[p(u(e.locationName)+" ",1),A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),n(I,null,{default:s(()=>[i("div",Do,[i("ul",null,[i("li",null,[i("div",Eo,[i("div",wo,[i("div",No,u(e.data.title),1)])])]),i("li",null,[i("div",Ao,[i("div",To,[i("div",{class:"item-text",innerHTML:e.data.description},null,8,Po)])])]),i("li",null,[n(v,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,H=>(d(),D(g,{key:H},{default:s(()=>[i("img",{class:"small",src:H},null,8,$o)]),_:2},1024))),128))]),_:1})])])])]),_:1})]),_:1})):(d(),D(C,{key:1},{default:s(()=>[n(f,{"bg-color":"blue"},{default:s(()=>[p(u(e.locationName),1)]),_:1}),n(I,null,{default:s(()=>[n(m,null,{default:s(()=>[n(b,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn \u0111\u1ECBa \u0111i\u1EC3m d\xE1n th\u1EBB","floating-label":"","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:e.data.title,"onUpdate:value":t[0]||(t[0]=H=>e.data.title=H)},null,8,["value"])]),_:1}),n(m,null,{default:s(()=>[n(b,{outline:"",label:"N\u1ED9i dung c\u1EA7n ph\u1EA3n \xE1nh(n\u1EBFu c\xF3)","floating-label":"",type:"textarea",resizable:"",maxlength:"200","clear-button":"",value:e.data.description,"onUpdate:value":t[1]||(t[1]=H=>e.data.description=H)},null,8,["value"])]),_:1}),n(O,{style:{"margin-top":"20px","margin-bottom":"10px"}},{default:s(()=>[n(y,null,{default:s(()=>[Uo]),_:1}),n(y,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,H=>(d(),D(E,{width:"50",key:H},{default:s(()=>[i("img",{style:{"max-width":"100%",height:"auto"},src:H},null,8,So)]),_:2},1024))),128))]),_:1}),n(P,{large:"",round:"",outline:"",onClick:t[2]||(t[2]=H=>e.showCamera())},{default:s(()=>[n(T,{f7:"camera"}),Ro]),_:1})]),_:1})]),_:1})]),_:1})),e.isActive?(d(),D(C,{key:2},{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[p(u(e.adminCardTitle),1)]),_:1}),n(I,null,{default:s(()=>[i("div",xo,[i("ul",null,[i("li",null,[i("div",Oo,[Bo,i("div",Ho,[i("div",Qo,u(e.data.ownerName),1)])])]),e.data.ownerPhoneNumber?(d(),h("li",Vo,[i("div",Lo,[zo,i("div",qo,[i("div",Fo,u(e.data.ownerPhoneNumber),1)])])])):k("",!0),e.data.sellerName?(d(),h("li",Mo,[i("label",Go,[i("div",Ko,[Yo,i("div",jo,u(e.data.sellerName),1),i("div",Jo,u(e.data.sellerAddress),1)])])])):k("",!0)])])]),_:1})]),_:1})):(d(),D(C,{key:3},{default:s(()=>[n(f,{"bg-color":"blue"},{default:s(()=>[p(u(e.adminCardTitle),1)]),_:1}),n(I,null,{default:s(()=>[n(m,{"no-hairlines-md":""},{default:s(()=>[n(b,{type:"text",outline:"",label:"Nh\xE2n vi\xEAn ph\u1EE5 tr\xE1ch","floating-label":"",placeholder:"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.ownerName,"onUpdate:value":t[3]||(t[3]=H=>e.data.ownerName=H)},null,8,["value"]),n(b,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (khi kh\u1EA9n c\u1EA5p)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.data.ownerPhoneNumber,"onUpdate:value":t[4]||(t[4]=H=>e.data.ownerPhoneNumber=H)},null,8,["value"])]),_:1})]),_:1})]),_:1})),e.isActive?k("",!0):(d(),D(O,{key:4},{default:s(()=>[n(y,null,{default:s(()=>[n(E,{width:"100"},{default:s(()=>[n(P,{fill:"",round:"",large:"",onClick:t[5]||(t[5]=H=>e.updateData()),color:"red"},{default:s(()=>[Wo]),_:1})]),_:1})]),_:1})]),_:1})),n(B,{opened:e.enablePopup,"onUpdate:opened":t[6]||(t[6]=H=>e.enablePopup=H)},{default:s(()=>[n(x,{ref:"camera",maxImages:2,onSave:e.saveImageUrls},null,8,["onSave"])]),_:1},8,["opened"])],64)}var pt=S(ko,[["render",Xo]]);const Zo=G({props:{qrid:Number,type:String},emits:["send"],components:{Camera:Ee,ImageUpload:De},data(){return{isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{title:"",imageUrls:[],sellerName:null,type:"",qrid:0,userComment:0,status:"CREATED",metadata:{enableSender:!1}}}},methods:{async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)},uploaded(e){console.log("uploaded",e),this.data.imageUrls.push(e)},close(){this.enablePopup=!1,this.$emit("send","CANCEL")},async postActivity(){this.data.qrid=this.qrid,this.data.type=this.type||"ACTIVITY.QR_REQUEST";let e=await this.$api.createQRFeedback(this.data);console.log("rs",e),w.dialog.alert("G\u1EEDi th\xE0nh c\xF4ng, c\u1EA3m \u01A1n b\u1EA1n!"),this.$emit("send","SUCCESS")}}}),es=p("Ph\u1EA3n \xE1nh hi\u1EC7n tr\u01B0\u1EDDng"),ts=p(" Ch\u1EE5p h\xECnh ho\u1EB7c ghi ph\u1EA3n \xE1nh "),is=["src"],ns=p("Ng\u01B0\u1EDDi g\u1EEDi (tu\u1EF3 ch\u1ECDn) "),os=i("i",{class:"f7-icons"},"xmark_circle",-1),ss=p("Hu\u1EF7"),as=i("i",{class:"f7-icons"},"checkmark_circle",-1),ls=p("G\u1EEDi");function rs(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-col"),I=a("f7-row"),C=a("image-upload"),b=a("f7-block"),m=a("f7-list-input"),y=a("f7-list");a("f7-icon");const E=a("f7-button"),T=a("f7-card-content"),P=a("f7-card"),O=a("f7-toggle"),x=a("camera"),B=a("f7-popup"),H=a("f7-page");return d(),D(H,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[es]),_:1})]),_:1}),n(P,null,{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[ts]),_:1}),n(T,null,{default:s(()=>[n(b,null,{default:s(()=>[n(I,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,$=>(d(),D(v,{width:"50",key:$},{default:s(()=>[i("img",{style:{"max-width":"50%",height:"auto"},src:$},null,8,is)]),_:2},1024))),128))]),_:1}),n(C,{ref:"activityImages",countImages:0,maxImages:4,onUploaded:e.uploaded},null,8,["onUploaded"])]),_:1}),n(y,{style:{"margin-top":"15px"}},{default:s(()=>[n(m,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"V\xE0i t\u1EEB ng\u1EAFn g\u1ECDn","floating-label":"","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:e.data.title,"onUpdate:value":t[0]||(t[0]=$=>e.data.title=$)},null,8,["value"])]),_:1}),k("",!0)]),_:1})]),_:1}),n(P,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[ns,n(O,{checked:e.data.metadata.enableSender,"onUpdate:checked":t[2]||(t[2]=$=>e.data.metadata.enableSender=$)},null,8,["checked"])]),_:1}),n(T,null,{default:s(()=>[A(n(y,{"no-hairlines-md":""},{default:s(()=>[n(m,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.customerName,"onUpdate:value":t[3]||(t[3]=$=>e.data.customerName=$)},null,8,["value"]),n(m,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9 (tu\u1EF3 ch\u1ECDn)","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.customerAddress,"onUpdate:value":t[4]||(t[4]=$=>e.data.customerAddress=$)},null,8,["value"])]),_:1},512),[[F,e.data.metadata.enableSender]])]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(I,null,{default:s(()=>[n(v,{width:"30"},{default:s(()=>[n(E,{raised:"",round:"",large:"",color:"gray",onClick:t[5]||(t[5]=$=>e.close())},{default:s(()=>[os,ss]),_:1})]),_:1}),n(v,{width:"60"},{default:s(()=>[n(E,{raised:"",round:"",fill:"",large:"",onClick:t[6]||(t[6]=$=>e.postActivity())},{default:s(()=>[as,ls]),_:1})]),_:1})]),_:1})]),_:1}),n(B,{opened:e.enablePopup,"onUpdate:opened":t[7]||(t[7]=$=>e.enablePopup=$)},{default:s(()=>[n(x,{ref:"camera",maxImages:2,onSave:e.saveImageUrls},null,8,["onSave"])]),_:1},8,["opened"])]),_:1})}var ds=S(Zo,[["render",rs]]);const cs=G({props:{id:Number,type:String},data(){return{isLoading:!1,filter:{skip:0,limit:10},data:{metadata:{enableSender:!0}},ACT_POPUP:{nar_bar_title:"Chi ti\u1EBFt Ph\u1EA3n \xE1nh",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi g\u1EEDi",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\u1EA3m \u01A1n ph\u1EA3n \xE1nh c\u1EE7a Qu\xFD c\u01B0 d\xE2n!"}}},watch:{id:"loadData"},methods:{async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getCardActivity(this.id),this.isLoading=!1)}}}),us=["src"],ps=i("div",null,"\u0110\xE3 \u1EA9n th\xF4ng tin",-1),hs=p("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),ms=p("ch\u01B0a c\xF3"),_s=p("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),fs=p("T\u1EEB ch\u1ED1i"),gs=i("i",{class:"f7-icons"},"checkmark_circle",-1),vs=p("X\xE1c nh\u1EADn"),Cs=i("i",{class:"f7-icons"},"xmark_circle",-1),bs=p(" \u0110\xF3ng");function Is(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-list-item"),I=a("f7-col"),C=a("f7-row"),b=a("f7-block"),m=a("f7-list"),y=a("f7-card-content"),E=a("f7-card"),T=a("f7-icon"),P=a("f7-list-input"),O=a("f7-button"),x=a("f7-block-footer"),B=a("f7-page");return d(),D(B,null,{default:s(()=>[n(f,{title:e.ACT_POPUP.nar_bar_title},{default:s(()=>[A(n(_,null,null,512),[[F,e.isLoading]])]),_:1},8,["title"]),n(E,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[p(u(e.ACT_POPUP.content),1)]),_:1}),n(y,null,{default:s(()=>[n(m,{"no-hairlines-md":""},{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.data.title),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.data.description),1)]),_:1}),e.data.type=="ACTIVITY.QRTASK"?(d(),D(v,{key:0},{default:s(()=>[p("\u0110\xE3 thu: "+u(e.$utils.formatMoney(e.data.money)),1)]),_:1})):k("",!0),e.data.type=="ACTIVITY.QRTASK"?(d(),D(v,{key:1},{default:s(()=>[p("Th\u1EF1c hi\u1EC7n l\xFAc: "+u(e.$utils.formatDateTime(e.data.created)),1)]),_:1})):(d(),D(v,{key:2},{default:s(()=>[p("G\u1EEDi l\xFAc: "+u(e.$utils.formatDateTime(e.data.created)),1)]),_:1})),n(b,null,{default:s(()=>[n(C,{"no-gap":""},{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,H=>(d(),D(I,{width:"50",key:H},{default:s(()=>[i("img",{width:"100",src:H},null,8,us)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(E,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[p(u(e.ACT_POPUP.sender),1)]),_:1}),n(y,null,{default:s(()=>[ps,e.data.metadata.enableSender!=!1?(d(),D(m,{key:0,"no-hairlines-md":""},{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.data.customerName),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.data.customerPhoneNumber),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.data.customerAddress),1)]),_:1}),e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="CONFIRMED"?(d(),D(v,{key:0},{default:s(()=>[p("X\xE1c nh\u1EADn l\xFAc "+u(e.$utils.formatDateTime(e.data.modified)),1)]),_:1})):k("",!0),e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="REJECTED"?(d(),D(v,{key:1},{default:s(()=>[p("T\u1EEB ch\u1ED1i l\xFAc "+u(e.$utils.formatDateTime(e.data.modified)),1)]),_:1})):k("",!0)]),_:1})):k("",!0)]),_:1})]),_:1}),e.data.type=="ACTIVITY.QRTASK"&&(e.data.status=="CONFIRMED"||e.data.status=="REJECTED")?(d(),D(E,{key:0},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[hs]),_:1}),n(y,null,{default:s(()=>[e.data.userComment?(d(),D(m,{key:0},{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.data.userComment),1)]),_:1})]),_:1})):(d(),D(m,{key:1},{default:s(()=>[n(v,null,{default:s(()=>[ms]),_:1})]),_:1}))]),_:1})]),_:1})):k("",!0),e.data.type=="ACTIVITY.QR_REQUEST"||e.data.type=="ACTIVITY.QRTASK"?(d(),D(E,{key:1},{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[p(u(e.ACT_POPUP.receiver)+" ",1),n(T,{f7:e.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.supplier.name),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="CREATED"?(d(),D(E,{key:2},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[_s]),_:1}),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(P,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:e.data.userComment,"onUpdate:value":t[0]||(t[0]=H=>e.data.userComment=H)},null,8,["value"])]),_:1})]),_:1})]),_:1})):k("",!0),n(b,null,{default:s(()=>[e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="CREATED"?(d(),D(C,{key:0},{default:s(()=>[n(I,{width:"40"},{default:s(()=>[n(O,{raised:"",round:"",large:"",color:"gray",onClick:t[1]||(t[1]=H=>e.rejectQRTask())},{default:s(()=>[fs]),_:1})]),_:1}),n(I,{width:"60"},{default:s(()=>[n(O,{fill:"",large:"",onClick:t[2]||(t[2]=H=>e.confirmQRTask())},{default:s(()=>[gs,vs]),_:1})]),_:1})]),_:1})):(d(),D(C,{key:1},{default:s(()=>[n(I,{width:"100"},{default:s(()=>[n(O,{fill:"",round:"",large:"","popup-close":""},{default:s(()=>[Cs,bs]),_:1})]),_:1})]),_:1})),n(x,null,{default:s(()=>[p(u(e.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})}var ht=S(cs,[["render",Is]]);const ys=G({props:{isView:Boolean,id:Number,privateCode:String},components:{Activity:ht},data(){return{isLoading:!1,filter:{skip:0,limit:10},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getCardHistory(this.id,this.privateCode,this.filter),this.isLoading=!1)}},async mounted(){this.loadData()}}),ks=p("Ph\u1EA3n \xE1nh g\u1EA7n nh\u1EA5t (10) "),Ds={class:"list media-list medium-inset"},Es=["onClick"],ws={class:"item-media"},Ns=["src"],As={class:"item-inner"},Ts={class:"item-header"},Ps={class:"item-title-row"},$s=i("div",{class:"item-after"},null,-1),Us={class:"item-subtitle"},Ss={class:"item-text"},Rs={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}};function xs(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-card"),v=a("activity"),I=a("f7-popup");return d(),h(N,null,[n(g,null,{default:s(()=>[n(f,{"bg-color":"blue"},{default:s(()=>[ks,A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),i("div",Ds,[i("ul",null,[(d(!0),h(N,null,Q(e.data,C=>(d(),h("li",{key:C.id},[i("a",{onClick:b=>e.clickViewActivity(C),class:"item-link item-content chevron-center"},[i("div",ws,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(C.imageUrls),width:"80"},null,8,Ns)]),i("div",As,[i("div",Ts,u(e.$utils.formatDateTime(C.modified)),1),i("div",Ps,[i("div",{class:fe(e.$utils.getActivityColor(C)),style:{"font-size":"16px"}},u(e.$utils.getActivityName(C)),3),$s]),i("div",Us,u(C.title||"kh\xF4ng c\xF3"),1),i("div",Ss,u(C.description),1),i("div",Rs,u(e.$utils.formatMoney(C.money)),1)])],8,Es)]))),128))])])]),_:1}),n(I,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[0]||(t[0]=C=>e.enablePopup=C),"tablet-fullscreen":!0},{default:s(()=>[n(v,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var He=S(ys,[["render",xs]]);const Os=G({props:{isView:Boolean,id:Number,privateCode:String},components:{Activity:ht},data(){return{isLoading:!1,filter:{skip:0,limit:10},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getRecentActivity(this.id,this.privateCode,this.filter),this.isLoading=!1)}},async mounted(){this.loadData()}}),Bs=p("Ph\u1EA3n \xE1nh m\u1EDBi nh\u1EA5t (10) "),Hs={class:"list media-list medium-inset"},Qs=["onClick"],Vs={class:"item-media"},Ls=["src"],zs={class:"item-inner"},qs={class:"item-header"},Fs={class:"item-title-row"},Ms=i("div",{class:"item-after"},null,-1),Gs={class:"item-subtitle"},Ks={class:"item-text"},Ys={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}};function js(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-card"),v=a("activity"),I=a("f7-popup");return d(),h(N,null,[n(g,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[Bs,A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),i("div",Hs,[i("ul",null,[(d(!0),h(N,null,Q(e.data,C=>(d(),h("li",{key:C.id},[i("a",{onClick:b=>e.clickViewActivity(C),class:"item-link item-content chevron-center"},[i("div",Vs,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(C.imageUrls),width:"80"},null,8,Ls)]),i("div",zs,[i("div",qs,u(e.$utils.formatDateTime(C.modified)),1),i("div",Fs,[i("div",{class:fe(e.$utils.getActivityColor(C)),style:{"font-size":"16px"}},u(e.$utils.getActivityName(C)),3),Ms]),i("div",Gs,u(C.title||"kh\xF4ng c\xF3"),1),i("div",Ks,u(C.description),1),i("div",Ys,u(e.$utils.formatMoney(C.money)),1)])],8,Qs)]))),128))])])]),_:1}),n(I,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[0]||(t[0]=C=>e.enablePopup=C)},{default:s(()=>[n(v,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var mt=S(Os,[["render",js]]);const Js=G({props:{id:Number},data(){return{data:{ownerName:"Ban Qu\u1EA3n l\xFD Emerald Precint",ownerAddress:"string",logoUrl:"",status:"ACTIVE"}}},watch:{id:"loadData"},methods:{async loadData(){this.id>0&&(this.data=await this.$api.getQRID(this.id,"111"))}},async mounted(){await this.loadData()}}),Ws=p("Ban qu\u1EA3n l\xFD"),Xs={class:"list media-list no-hairlines-between"},Zs={class:"item-content"},ea=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),ta={class:"item-inner"},ia={class:"item-title"},na={class:"item-content"},oa=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"house")],-1),sa={class:"item-inner"},aa={class:"item-subtitle"};function la(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-card-content"),g=a("f7-card");return d(),D(g,null,{default:s(()=>[n(_,{"bg-color":"green"},{default:s(()=>[Ws]),_:1}),n(f,null,{default:s(()=>[i("div",Xs,[i("ul",null,[i("li",null,[i("div",Zs,[ea,i("div",ta,[i("div",ia,u(e.data.ownerName),1)])])]),i("li",null,[i("div",na,[oa,i("div",sa,[i("div",aa,u(e.data.ownerAddress),1)])])])])])]),_:1})]),_:1})}var ra=S(Js,[["render",la]]);const da={props:{f7route:Object,f7router:Object},components:{Location:pt,History:He,RecentHistory:mt,Feedback:ds,Company:ra},computed:{isActive(){return this.data.status=="QRID_STATUS.ACTIVE"}},data(){var e=parseInt(this.f7route.params.id),t=this.f7route.params.privateCode;return{title:"Ph\u1EA3n \xE1nh hi\u1EC7n tr\u01B0\u1EDDng",enablePopup:!1,qrid:e,privateCode:t,setupId:0,data:{id:e,packageId:"10001001029",private:"19717042",status:"QRID_STATUS.ACTIVE",cardType:"CARD_TYPE.PUBLIC_LOCATION",ownerPhoneNumber:""}}},methods:{async loadvcard(){var e=await this.$api.getVcard(this.data.id);window.open("data:text/x-vcard;urlencoded,"+e)},async loadData(){console.log("loadData");var e=parseInt(this.f7route.params.id),t=this.f7route.params.privateCode;if(e>0){this.data=await this.$api.getQRID(e,"111"),console.log("loadData",this.data);let l=this.$utils.qrid_setup(e);this.setupId=l,this.isActive&&(this.qrid=e,this.privateCode=t)}},async locationUpdated(e){console.log("locationUpdate",e),e=="ACTIVE"&&await this.loadData()},async clickFeedback(){this.enablePopup=!0},feedbackClose(e){e=="CANCEL"&&console.log("do nothing"),this.enablePopup=!1},async clickCall(e){console.log("clickCall",e),e&&(window.location="tel:"+e)}},async mounted(){await this.loadData()}},ca=p("qrFeedback v.16");function ua(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("location"),v=a("company"),I=a("history"),C=a("f7-card-header"),b=a("f7-card-content"),m=a("f7-card"),y=a("f7-icon"),E=a("f7-fab"),T=a("feedback"),P=a("f7-popup"),O=a("f7-page");return d(),D(O,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(o.title),1)]),_:1})]),_:1}),n(g,{isView:!1,id:o.data.id,status:o.data.status,onUpdated:r.locationUpdated},null,8,["id","status","onUpdated"]),n(v,{id:o.setupId},null,8,["id"]),r.isActive?(d(),D(I,{key:0,id:o.qrid},null,8,["id"])):k("",!0),n(m,null,{default:s(()=>[n(C,null,{default:s(()=>[ca]),_:1}),n(b,null,{default:s(()=>[i("div",null,u(o.data.id),1),i("div",null,u(o.data.status),1)]),_:1})]),_:1}),r.isActive?(d(),D(E,{key:1,position:"center-bottom",onClick:t[0]||(t[0]=x=>r.clickFeedback()),text:"Ph\u1EA3n \xE1nh",color:"green"},{default:s(()=>[n(y,{f7:"camera"})]),_:1})):k("",!0),o.data.ownerPhoneNumber?(d(),D(E,{key:2,position:"right-bottom",onClick:t[1]||(t[1]=x=>r.clickCall(o.data.ownerPhoneNumber)),text:"",color:"red"},{default:s(()=>[n(y,{f7:"phone_fill"})]),_:1})):k("",!0),n(P,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=x=>o.enablePopup=x),"tablet-fullscreen":!0},{default:s(()=>[n(T,{qrid:o.qrid,type:"ACTIVITY.QRFEEDBACK",onSend:r.feedbackClose},null,8,["qrid","onSend"])]),_:1},8,["opened"])]),_:1})}var pa=S(da,[["render",ua]]);const ha={},ma={color:"green"};function _a(e,t,l,c,o,r){const _=a("f7-navbar"),f=a("f7-block"),g=a("f7-page");return d(),D(g,null,{default:s(()=>[n(_,{title:"Th\xF4ng tin Ch\xEDnh h\xE3ng","back-link":"Back"}),n(f,null,{default:s(()=>[i("h2",ma,u(e.f7route.params.id),1)]),_:1})]),_:1})}var fa=S(ha,[["render",_a]]);const ga={computed:{isActive(){return!1}}},va=p("V\xF2ng \u0111\u1EDDi t\xE0i s\u1EA3n"),Ca=i("span",null,"ch\u01B0a k\xEDch ho\u1EA1t",-1),ba=p(" Th\xF4ng tin t\xE0i s\u1EA3n "),Ia={class:"list media-list no-hairlines-between"},ya={class:"item-content"},ka={class:"item-inner"},Da={class:"item-title"},Ea={class:"item-content"},wa={class:"item-inner"},Na=["innerHTML"],Aa=["src"],Ta={key:0},Pa={class:"item-content"},$a={class:"item-inner"},Ua={class:"item-title"},Sa={class:"item-checkbox item-content"},Ra={class:"item-inner"},xa=i("div",{class:"item-title-row"},[i("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),Oa={class:"item-subtitle"},Ba={class:"item-text"};function Ha(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-nav-title"),v=a("f7-navbar"),I=a("f7-card-header"),C=a("f7-card"),b=a("f7-swiper-slide"),m=a("f7-swiper"),y=a("f7-card-content"),E=a("f7-page");return d(),D(E,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),n(g,{sliding:""},{default:s(()=>[va]),_:1})]),_:1}),r.isActive()?(d(),D(C,{key:0,"bg-color":"blue"},{default:s(()=>[n(I,null,{default:s(()=>[p("ID: "+u(e.f7route.params.id),1)]),_:1})]),_:1})):(d(),D(C,{key:1,"bg-color":"red"},{default:s(()=>[n(I,null,{default:s(()=>[p("ID: "+u(e.f7route.params.id)+" ",1),Ca]),_:1})]),_:1})),n(C,null,{default:s(()=>[n(I,{"bg-color":"green"},{default:s(()=>[ba]),_:1}),n(y,null,{default:s(()=>[i("div",Ia,[i("ul",null,[i("li",null,[i("div",ya,[i("div",ka,[i("div",Da,u(e.data.title),1)])])]),i("li",null,[i("div",Ea,[i("div",wa,[i("div",{class:"item-text",innerHTML:e.data.description},null,8,Na)])])]),i("li",null,[n(m,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,T=>(d(),D(b,{key:T},{default:s(()=>[i("img",{class:"small",src:T},null,8,Aa)]),_:2},1024))),128))]),_:1})]),r.isActive?(d(),h("li",Ta,[i("div",Pa,[i("div",$a,[i("div",Ua," Ng\xE0y k\xEDch ho\u1EA1t: "+u(e.formatDate(e.data.activatedDate)),1)])])])):k("",!0),i("li",null,[i("label",Sa,[i("div",Ra,[xa,i("div",Oa,u(e.data.sellerName),1),i("div",Ba,u(e.data.sellerAddress),1)])])])])])]),_:1})]),_:1})]),_:1})}var Qa=S(ga,[["render",Ha]]);const Va=G({name:"QrLogin",emits:["detect","warning"],components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),e.includes("backend.qrcare.net/api/ApplicationUsers/")||e.includes("m.qrcare.vn/u/")?(this.qrUrl=e,this.$emit("detect",e)):this.$emit("warning",e)}}}),La=e=>(W("data-v-5749cdf0"),e=e(),X(),e),za={class:"reader"},qa={class:"center stream"},Fa=La(()=>i("div",{style:{color:"red"},class:"frame"},null,-1)),Ma={key:0,"text-color":"red"};function Ga(e,t,l,c,o,r){const _=a("qr-stream");return d(),h("div",za,[i("div",null,[i("div",qa,[n(_,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[Fa]),_:1},8,["onDecode"])])]),e.warning?(d(),h("h3",Ma,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):k("",!0)])}var Ka=S(Va,[["render",Ga],["__scopeId","data-v-5749cdf0"]]);const Ya=G({props:{f7route:Object,f7router:Object},components:{QrScanOne:Ka},data(){const e=Pe();return e.desktop?console.log("It is desktop"):console.log("It is mobile"),{qrUrl:"",device:e,username:"",password:""}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){w.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!<br>",e)},async clickLogin(){if(this.qrUrl){let e=this.qrUrl;this.qrUrl.includes("backend.qrcare.net")&&(e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net")),await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),he.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};let l=(await this.$axios.post(z.BASE_URL+"ApplicationUsers/login",e)).data;if(l.id&&l.userId){console.log("loginAction",l);let c=z.BASE_URL+"ApplicationUsers/"+l.userId+"?access_token="+l.id;await this.loginByUrl(c)}}},mounted(){const e=ye("isDemoCard");console.log("isDemoCard",e),e.value&&(this.username="888.10",this.password="QRcare888.10")}}),ja=p("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),Ja=p("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),Wa=p("\u0110\u0103ng nh\u1EADp"),Xa=i("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Za=i("p",null,"Email: sales@qrcare.net ",-1),el=i("p",null,"Phone: +84 906 826 807",-1);function tl(e,t,l,c,o,r){const _=a("qr-scan-one"),f=a("f7-block-footer"),g=a("f7-block"),v=a("f7-block-title"),I=a("f7-list-input"),C=a("f7-list"),b=a("f7-button"),m=a("f7-page");return d(),D(m,{name:"Login Desktop"},{default:s(()=>[e.device.desktop?k("",!0):(d(),D(g,{key:0},{default:s(()=>[n(_,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),n(f,{style:{"margin-top":"20px"}},{default:s(()=>[ja]),_:1})]),_:1})),n(g,null,{default:s(()=>[n(v,null,{default:s(()=>[Ja]),_:1}),n(C,{form:""},{default:s(()=>[n(I,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=y=>e.username=y)},null,8,["value"]),n(I,{type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=y=>e.password=y)},null,8,["value"])]),_:1}),n(b,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:s(()=>[Wa]),_:1},8,["onClick"]),n(C,null,{default:s(()=>[n(f,null,{default:s(()=>[Xa,Za,el]),_:1})]),_:1})]),_:1})]),_:1})}var il=S(Ya,[["render",tl]]);const nl={},ol=G({emits:["updated"],props:{isView:Boolean,data:Object},computed:{isActive(){return!1},isEdit(){return!this.isView&&this.item.id>0}},watch:{data(e){e&&e.id&&(console.log("to update",this.data.ownerName),this.item={id:e.id,ownerName:e.ownerName||"",ownerPhoneNumber:e.ownerPhoneNumber||"",ownerAddress:e.ownerAddress||""})}},data(){return{item:{id:0,ownerName:"",ownerPhoneNumber:"",ownerAddress:""}}},methods:{updateData(){const e=this;this.item,this.$api.activeQRMember(this.item.id,this.item).then(t=>{e.$emit("updated","DONE"),w.dialog.alert("C\u1EADp nh\u1EADt Th\xE0nh c\xF4ng")}).catch(t=>{e.$emit("updated","ERROR"),w.dialog.alert("C\u1EADp nh\u1EADt b\u1ECB l\u1ED7i")})}},mounted(){}}),sl=p(" Th\xE0nh vi\xEAn "),al=p("Edit"),ll={class:"list media-list no-hairlines-between"},rl={class:"item-content"},dl=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),cl={class:"item-inner"},ul={class:"item-title"},pl={key:0},hl={class:"item-content"},ml=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),_l={class:"item-inner"},fl={class:"item-subtitle"},gl=p("K\xEDch ho\u1EA1t"),vl=p("Danh x\u01B0ng"),Cl=i("i",{class:"f7-icons"},"xmark_circle",-1),bl=p("Cancel"),Il=p("C\u1EADp nh\u1EADt");function yl(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-card-header"),g=a("f7-card-content"),v=a("f7-list-input"),I=a("f7-list"),C=a("f7-card"),b=a("f7-navbar"),m=a("f7-block-title"),y=a("f7-block"),E=a("f7-col"),T=a("f7-row"),P=a("f7-page"),O=a("f7-popup");return d(),h(N,null,[n(C,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[sl,!e.isActive&&e.isEdit?(d(),D(_,{key:0,"popup-open":".member-popup"},{default:s(()=>[al]),_:1})):k("",!0)]),_:1}),e.item.ownerName?(d(),D(g,{key:0},{default:s(()=>[i("div",ll,[i("ul",null,[i("li",null,[i("div",rl,[dl,i("div",cl,[i("div",ul,u(e.item.ownerName),1)])])]),e.item.ownerPhoneNumber?(d(),h("li",pl,[i("div",hl,[ml,i("div",_l,[i("div",fl,u(e.item.ownerPhoneNumber),1)])])])):k("",!0)])])]),_:1})):(d(),D(g,{key:1},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.item.ownerName,"onUpdate:value":t[0]||(t[0]=x=>e.item.ownerName=x)},null,8,["value"]),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i","error-message":"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1!",minlength:"6",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.item.ownerPhoneNumber,"onUpdate:value":t[1]||(t[1]=x=>e.item.ownerPhoneNumber=x)},null,8,["value"]),n(_,{fill:"",round:"",large:"",onClick:t[2]||(t[2]=x=>e.updateData())},{default:s(()=>[gl]),_:1})]),_:1})]),_:1}))]),_:1}),n(O,{class:"member-popup"},{default:s(()=>[n(P,null,{default:s(()=>[n(b,{title:"QRMember Th\xE0nh vi\xEAn"}),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[vl]),_:1}),n(I,{"no-hairlines-md":""},{default:s(()=>[n(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.item.ownerName,"onUpdate:value":t[3]||(t[3]=x=>e.item.ownerName=x)},null,8,["value"]),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i","error-message":"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1!",minlength:"6",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.item.ownerPhoneNumber,"onUpdate:value":t[4]||(t[4]=x=>e.item.ownerPhoneNumber=x)},null,8,["value"]),n(v,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.item.ownerAddress,"onUpdate:value":t[5]||(t[5]=x=>e.item.ownerAddress=x)},null,8,["value"])]),_:1})]),_:1}),n(T,null,{default:s(()=>[n(E,{width:"40"},{default:s(()=>[n(_,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[Cl,bl]),_:1})]),_:1}),n(E,{width:"60"},{default:s(()=>[n(_,{fill:"",round:"",large:"",onClick:t[6]||(t[6]=x=>e.updateData())},{default:s(()=>[Il]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}var kl=S(ol,[["render",yl]]);const Dl={},El={class:"card card-expandable"},wl=Lt('<div class="card-content"><div class="bg-color-red" style="height:300px;"><div class="card-header text-color-white display-block">Ti\xEAu chu\u1EA9n an to\xE0n th\xF4ng tin <br><small style="opacity:0.7;"> kh\xE1ch h\xE0ng an t\xE2m khi k\xEDch ho\u1EA1t v\xE0 s\u1EED d\u1EE5ng Th\u1EBB</small></div><a href="#" class="link card-close card-opened-fade-in color-white" style="position:absolute;right:15px;top:15px;"><i class="icon f7-icons">xmark_circle_fill</i></a></div><div class="card-content-padding"><p>Thu th\u1EADp \xEDt nh\u1EA5t c\xF3 th\u1EC3</p><p>1 ph\u1EA7n c\u1EE7a s\u1ED1 \u0111i\u1EC7n tho\u1EA1i (6 s\u1ED1 cu\u1ED1i) \u0111\u1EC3 \u0111\u1ED1i chi\u1EBFu qua QRCall ho\u1EB7c OTP khi c\u1EA7n</p><p>1. kh\xE1ch h\xE0ng cung c\u1EA5p s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EA7y \u0111\u1EE7, tr\xF9ng v\u1EDBi 6 s\u1ED1 \u0111\xE3 \u0111\u0103ng k\xFD</p><p>2. X\xE1c th\u1EF1c b\u1EB1ng c\xE1ch: - QRCall t\u1EDBi s\u1ED1 \u0111i\u1EC7n tho\u1EA1i n\xE0y ho\u1EB7c g\u1EEDi OTP \u0111\u1ED1i chi\u1EBFu 6 s\u1ED1 CMND/ CCCD</p><p>Cung c\u1EA5p s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EA7y \u0111\u1EE7 khi c\xF3 nhu c\u1EA7u QRCall</p><p>Th\u1EBB l\xE0 c\xE1ch x\xE1c th\u1EF1c tin c\u1EADy</p></div></div>',1),Nl=[wl];function Al(e,t){return d(),h("div",El,Nl)}var Tl=S(Dl,[["render",Al]]);const Pl=G({emits:["updated"],props:{isView:Boolean,data:Object},computed:{isActive(){return!1},isEdit(){return this.isView}},watch:{data(e){e&&e.id&&(console.log("to update",this.data.ownerName),this.item={id:e.id,ownerName:e.ownerName||"",ownerPhoneNumber:e.ownerPhoneNumber||"",ownerAddress:e.ownerAddress||""})}},data(){return{item:{id:0,ownerName:"",ownerPhoneNumber:"",ownerAddress:""}}},methods:{updateData(){const e=this;this.$api.activeQRLoyalty(this.item.id,this.item).then(t=>{e.$emit("updated","DONE"),w.dialog.alert("C\u1EADp nh\u1EADt Th\xE0nh c\xF4ng"),w.popup.close()}).catch(t=>{e.$emit("updated","ERROR"),w.popup.close()})}}}),$l=p(" Th\xE0nh vi\xEAn th\xE2n thi\u1EBFt "),Ul=p("Edit"),Sl={class:"list media-list no-hairlines-between"},Rl={class:"item-content"},xl=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),Ol={class:"item-inner"},Bl={class:"item-title"},Hl={key:0},Ql={class:"item-content"},Vl=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),Ll={class:"item-inner"},zl={class:"item-subtitle"},ql={class:"item-content"},Fl=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"house")],-1),Ml={class:"item-inner"},Gl={class:"item-subtitle"},Kl=i("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),Yl=p("Danh x\u01B0ng c\u1EE7a kh\xE1ch h\xE0ng"),jl=i("i",{class:"f7-icons"},"xmark_circle",-1),Jl=p("Cancel"),Wl=p("C\u1EADp nh\u1EADt");function Xl(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-card-header"),g=a("f7-card-content"),v=a("f7-card"),I=a("f7-navbar"),C=a("f7-block-title"),b=a("f7-list-input"),m=a("f7-list"),y=a("f7-block"),E=a("f7-col"),T=a("f7-row"),P=a("f7-page"),O=a("f7-popup");return d(),h(N,null,[n(v,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[$l,!e.isActive&&e.isEdit?(d(),D(_,{key:0,"popup-open":".loyalty-popup"},{default:s(()=>[Ul]),_:1})):k("",!0)]),_:1}),e.item.ownerName?(d(),D(g,{key:0},{default:s(()=>[i("div",Sl,[i("ul",null,[i("li",null,[i("div",Rl,[xl,i("div",Ol,[i("div",Bl,u(e.item.ownerName),1)])])]),e.item.ownerPhoneNumber?(d(),h("li",Hl,[i("div",Ql,[Vl,i("div",Ll,[i("div",zl,u(e.item.ownerPhoneNumber),1)])])])):k("",!0),i("li",null,[i("div",ql,[Fl,i("div",Ml,[i("div",Gl,u(e.item.ownerAddress),1)])])])])])]),_:1})):(d(),D(g,{key:1},{default:s(()=>[Kl]),_:1}))]),_:1}),n(O,{class:"loyalty-popup"},{default:s(()=>[n(P,null,{default:s(()=>[n(I,{title:"QRLoyalty: Th\xE0nh vi\xEAn th\xE2n thi\u1EBFt"}),n(y,null,{default:s(()=>[n(C,null,{default:s(()=>[Yl]),_:1}),n(m,{"no-hairlines-md":""},{default:s(()=>[n(b,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.item.ownerName,"onUpdate:value":t[0]||(t[0]=x=>e.item.ownerName=x)},null,8,["value"]),n(b,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.item.ownerPhoneNumber,"onUpdate:value":t[1]||(t[1]=x=>e.item.ownerPhoneNumber=x)},null,8,["value"]),n(b,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.item.ownerAddress,"onUpdate:value":t[2]||(t[2]=x=>e.item.ownerAddress=x)},null,8,["value"])]),_:1})]),_:1}),n(T,null,{default:s(()=>[n(E,{width:"40"},{default:s(()=>[n(_,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[jl,Jl]),_:1})]),_:1}),n(E,{width:"60"},{default:s(()=>[n(_,{fill:"",round:"",large:"",onClick:t[3]||(t[3]=x=>e.updateData())},{default:s(()=>[Wl]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}var Zl=S(Pl,[["render",Xl]]);G({name:"CUSTOMER_MEMBER",components:{supporter:ut,Member:kl,MemberPrivacy:Tl,loyalty:Zl},props:{f7route:Object,f7router:Object},data(){return{rs:{}}},computed:{isActive(){return!1}},methods:{updatedMember(e){console.log("updatedMember()",e)},updatedLoyalty(e){console.log("updatedLoyalty()",e)},async getDeviceData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;let l=await this.$api.getLifecycle(e,t);console.log("rs",l),this.rs=l}},async created(){await Promise.all([this.getDeviceData()])}});const er=G({emits:["updated"],props:{isView:Boolean,data:Object},computed:{isActive(){return!1},isEdit(){return!this.isView&&this.item.id>0}},watch:{data(e){e&&e.id&&(console.log("to update",this.data.ownerName),this.item={id:e.id,ownerId:e.ownerId,ownerName:e.ownerName||"",ownerPhoneNumber:e.ownerPhoneNumber||"",ownerAddress:e.ownerAddress||""})}},data(){return{selectedUserId:0,item:{},users:[{fullName:"H\u1ECD t\xEAn c\u1EE7a: S888.2",roleCode:"SALE",phoneNumber:null,username:"S888.2",id:172},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.3",roleCode:"WORKER",phoneNumber:null,username:"888.3",id:173},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.4",roleCode:"WORKER",phoneNumber:null,username:"888.4",id:174},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.5",roleCode:"WORKER",phoneNumber:null,username:"888.5",id:175},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.6",roleCode:"WORKER",phoneNumber:null,username:"888.6",id:176},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.7",roleCode:"WORKER",phoneNumber:null,username:"888.7",id:177},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.8",roleCode:"WORKER",phoneNumber:null,username:"888.8",id:178},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.9",roleCode:"WORKER",phoneNumber:null,username:"888.9",id:179},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.10",roleCode:"WORKER",phoneNumber:null,username:"888.10",id:180}]}},methods:{updateData(){const e=this;this.item,this.$api.activeQRMember(this.item.id,this.item).then(t=>{e.$emit("updated","DONE"),w.dialog.alert("C\u1EADp nh\u1EADt Th\xE0nh c\xF4ng")}).catch(t=>{e.$emit("updated","ERROR"),w.dialog.alert("C\u1EADp nh\u1EADt b\u1ECB l\u1ED7i")})}},mounted(){}}),tr=p("Edit"),ir={class:"list media-list no-hairlines-between"},nr={class:"item-content"},or=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),sr={class:"item-inner"},ar={class:"item-title"},lr={class:"item-content"},rr=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),dr={class:"item-inner"},cr={class:"item-subtitle"},ur={class:"item-content"},pr=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"house")],-1),hr={class:"item-inner"},mr={class:"item-subtitle"},_r={class:"list"},fr=i("option",{disabled:"",value:""},"Please select one",-1),gr=["selected","value"],vr=p("K\xEDch ho\u1EA1t"),Cr=p("Danh x\u01B0ng"),br=i("i",{class:"f7-icons"},"xmark_circle",-1),Ir=p("Cancel"),yr=p("C\u1EADp nh\u1EADt");function kr(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-card-header"),g=a("f7-card-content"),v=a("f7-list-input"),I=a("f7-list"),C=a("f7-card"),b=a("f7-navbar"),m=a("f7-block-title"),y=a("f7-block"),E=a("f7-col"),T=a("f7-row"),P=a("f7-page"),O=a("f7-popup");return d(),h(N,null,[n(C,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[p(" Th\xE0nh vi\xEAn "+u(e.data.ownerId)+" ",1),n(_,{"popup-open":".member-popup"},{default:s(()=>[tr]),_:1})]),_:1}),e.data.ownerId>0?(d(),D(g,{key:0},{default:s(()=>[i("div",ir,[i("ul",null,[i("li",null,[i("div",nr,[or,i("div",sr,[i("div",ar,u(e.item.ownerName),1)])])]),i("li",null,[i("div",lr,[rr,i("div",dr,[i("div",cr,u(e.item.ownerPhoneNumber||"Ch\u01B0a c\u1EADp nh\u1EADt"),1)])])]),i("li",null,[i("div",ur,[pr,i("div",hr,[i("div",mr,u(e.item.ownerAddress||"Ch\u01B0a c\u1EADp nh\u1EADt"),1)])])])])])]),_:1})):(d(),D(g,{key:1},{default:s(()=>[i("div",_r,[i("ul",null,[i("li",null,[A(i("select",{class:"item-content","onUpdate:modelValue":t[0]||(t[0]=x=>e.selectedUserId=x)},[fr,(d(!0),h(N,null,Q(e.users,x=>(d(),h("option",{key:x.id,selected:x.id==e.selectedUserId,value:x.id},u(x.fullName),9,gr))),128))],512),[[xe,e.selectedUserId]])])])]),e.selectedUserId>0?(d(),D(I,{key:0},{default:s(()=>[n(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"danh x\u01B0ng ",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.item.ownerName,"onUpdate:value":t[1]||(t[1]=x=>e.item.ownerName=x)},null,8,["value"]),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i","error-message":"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1!",minlength:"6",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.item.ownerPhoneNumber,"onUpdate:value":t[2]||(t[2]=x=>e.item.ownerPhoneNumber=x)},null,8,["value"]),n(_,{fill:"",round:"",large:"",onClick:t[3]||(t[3]=x=>e.updateData())},{default:s(()=>[vr]),_:1})]),_:1})):k("",!0)]),_:1}))]),_:1}),n(O,{class:"member-popup"},{default:s(()=>[n(P,null,{default:s(()=>[n(b,{title:"QRMember Th\xE0nh vi\xEAn"}),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[Cr]),_:1}),n(I,{"no-hairlines-md":""},{default:s(()=>[n(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.item.ownerName,"onUpdate:value":t[4]||(t[4]=x=>e.item.ownerName=x)},null,8,["value"]),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i","error-message":"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1!",minlength:"6",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:e.item.ownerPhoneNumber,"onUpdate:value":t[5]||(t[5]=x=>e.item.ownerPhoneNumber=x)},null,8,["value"]),n(v,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.item.ownerAddress,"onUpdate:value":t[6]||(t[6]=x=>e.item.ownerAddress=x)},null,8,["value"])]),_:1})]),_:1}),n(T,null,{default:s(()=>[n(E,{width:"40"},{default:s(()=>[n(_,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[br,Ir]),_:1})]),_:1}),n(E,{width:"60"},{default:s(()=>[n(_,{fill:"",round:"",large:"",onClick:t[7]||(t[7]=x=>e.updateData())},{default:s(()=>[yr]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}var _t=S(er,[["render",kr]]);const Dr={emits:["selected"],setup(){},data(){return{orgs:[],selectedUser:0,users:[{fullName:"H\u1ECD t\xEAn c\u1EE7a: S888.2",roleCode:"SALE",phoneNumber:null,username:"S888.2",id:172},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.3",roleCode:"WORKER",phoneNumber:null,username:"888.3",id:173},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.4",roleCode:"WORKER",phoneNumber:null,username:"888.4",id:174},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.5",roleCode:"WORKER",phoneNumber:null,username:"888.5",id:175},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.6",roleCode:"WORKER",phoneNumber:null,username:"888.6",id:176},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.7",roleCode:"WORKER",phoneNumber:null,username:"888.7",id:177},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.8",roleCode:"WORKER",phoneNumber:null,username:"888.8",id:178},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.9",roleCode:"WORKER",phoneNumber:null,username:"888.9",id:179},{fullName:"H\u1ECD t\xEAn c\u1EE7a: 888.10",roleCode:"WORKER",phoneNumber:null,username:"888.10",id:180}]}},computed:{},methods:{getUser(e){this.users.forEach(t=>{if(console.log(t.id,e),t.id===e)return console.log(t),t})}},watch:{selectedUser(e){if(e){console.log("selected",e);let t=this.getUser(e);this.$emit("selected",t)}}}},Er={class:"list"},wr=i("li",null,null,-1),Nr={class:"item-link smart-select smart-select-init","data-open-in":"popup","data-searchbar":"true","data-searchbar-placeholder":"Search users"},Ar=["value"],Tr=i("div",{class:"item-content"},[i("div",{class:"item-inner"},[i("div",{class:"item-title"},"Users")])],-1);function Pr(e,t,l,c,o,r){return d(),h("div",Er,[i("ul",null,[wr,i("li",null,[i("a",Nr,[A(i("select",{name:"car","onUpdate:modelValue":t[0]||(t[0]=_=>o.selectedUser=_)},[(d(!0),h(N,null,Q(o.users,_=>(d(),h("option",{key:_.id,value:_.id},u(_.fullName),9,Ar))),128))],512),[[xe,o.selectedUser]]),Tr])])])])}var ft=S(Dr,[["render",Pr]]);const $r={name:"QRCUSTOMER",components:{Sale:_t,User:ft},props:{f7route:Object,f7router:Object},setup(){},data(){let e=[{qrUrl:"/m/100010010960002/i/529/p/3031"},{qrUrl:"/m/100010010960002/i/530/p/8117"},{qrUrl:"/m/100010010960002/i/531/p/9741"}],t={id:100010010970001,packageId:"10001001097",private:42743589,cardType:"CARD_TYPE.QRSALE",phase:"MANAGER",title:"Th\u1EBB c\u1ED9ng t\xE1c vi\xEAn",description:"",imageUrls:["https://apps.vinaas.com/file/qRa7o3Xw9"],productId:0,activatedDate:"2021-12-03T04:13:39.602Z",endDate:"2021-12-03T04:13:39.602Z",deviceMetadata:{index:577,pdfUrl:"qrcustomer_1638520256647.pdf",pdfUrls:["qrcustomer_1638520011773.pdf","qrcustomer_1638520256647.pdf"]},ownerName:"GENKI GYM",ownerAddress:"187-189 Tr\u1EA7n Th\u1ECB C\u1EDD, P Th\u1EDBi An, Q.12",ownerPhoneNumber:"0906.836.977",ownerId:180,ownerOrganizationId:888,ownerMetadata:{from:0,to:1e3},sellerName:"Thanh Hoang Sport",sellerAddress:"Quan 12, Tp HCM",supportId:111,status:"ACTIVE",created:"2021-12-03T04:13:39.602Z",createdBy:0,modified:"2021-12-03T04:13:39.602Z",modifiedBy:0,metadata:{discount:{enable:!1,title:"",content:""},introduction:{enable:!1,title:"",content:""},quotation:{enable:!1,title:"",content:""},qrcall:{enable:!0,title:"G\u1ECDi l\u1EA1i cho t\xF4i",name:"Quang",phoneNumber:"02800224088",workTime:"gi\u1EDD h\xE0nh ch\xEDnh"},call:{enable:!0,title:"G\u1ECDi ch\xFAng t\xF4i",phoneNumber:""}}};return{item:t,customer:{qrUrl:"",name:"",status:"CREATED",history:[]},fix:t,qrUrls:e}},computed:{background(){if(this.item.imageUrls)return this.item.imageUrls[0]||""},voucherContent(){return this.item.metadata&&this.item.metadata.VoucherContent||""}},methods:{async clickCall(e){console.log("clickCall",e),e&&(window.location="tel:"+e),this.customer.history.unshift({type:"CALL",date:new Date().toISOString()})},async getDeviceData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;let l=await this.$api.getQRID(e,t);console.log("rs",l),this.item=l,this.item.metadata.introduction||(this.item.metadata.introduction={enable:!1,title:"",content:""}),this.item.metadata.discount||(this.item.metadata.discount={enable:!1,title:"",content:""}),this.item.metadata.quotation||(this.item.metadata.quotation={enable:!1,title:"",content:""}),this.item.metadata.call||(this.item.metadata.call={enable:!1,title:"",phoneNumber:""}),this.item.metadata.qrcall||(this.item.metadata.qrcall={enable:!1,title:"G\u1ECDi l\u1EA1i cho t\xF4i",name:"Quang",phoneNumber:"",workTime:""})},async getCustomerData(){let e=await this.$api.scanQRCustomer(this.f7route.params.id,this.f7route.params.index,this.f7route.params.privateCode);this.customer=e,console.log("%cqrcustomer.vue line:253 object","color: #007acc;",this.customer.history)},toQRCustomer(e){this.f7router.navigate(e.qrUrl)},selectedUser(e){console.log("selectedUser()",e)},updateItem(e){}},async mounted(){await this.getDeviceData(),await this.getCustomerData()}},Ur={class:"content",style:{"padding-bottom":"70px"}},Sr={class:"card demo-card-header-pic"},Rr={class:"card-content card-content-padding"},xr={class:"card-footer"},Or={href:"#",class:"link"},Br=p("\u01AFu \u0111\xE3i khi s\u1EED d\u1EE5ng Th\u1EBB"),Hr=["innerHTML"],Qr=["innerHTML"],Vr=["innerHTML"],Lr=["innerHTML"],zr=p("Th\u1EBB Kh\xE1ch h\xE0ng v1.4"),qr=i("div",null,"L\u1ECBch s\u1EED t\u01B0\u01A1ng t\xE1c",-1);function Fr(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-fab"),g=a("f7-card-header"),v=a("f7-card-content"),I=a("f7-card"),C=a("f7-page");return d(),D(C,{"no-navbar":!0},{default:s(()=>[o.item.metadata.call.enable?(d(),D(f,{key:0,onClick:t[0]||(t[0]=b=>r.clickCall(o.item.metadata.call.phoneNumber)),class:"style-call",position:"center-bottom",text:o.item.metadata.call.title,color:"red"},{default:s(()=>[n(_,{f7:"phone_fill"})]),_:1},8,["text"])):k("",!0),o.item.metadata.qrcall.enable?(d(),D(f,{key:1,class:"style-call",position:"center-bottom",text:o.item.metadata.qrcall.title,color:"red"},{default:s(()=>[n(_,{f7:"phone_fill"})]),_:1},8,["text"])):k("",!0),i("div",Ur,[i("div",Sr,[i("div",{style:Oe("background-image:url("+r.background+")"),class:"card-header align-items-flex-end"},u(o.item.ownerName),5),i("div",Rr,[i("p",null,"\u0110\u1ECBa ch\u1EC9: "+u(o.item.ownerAddress),1)]),i("div",xr,[i("a",Or,u(o.item.ownerPhoneNumber),1)])]),r.voucherContent?(d(),D(I,{key:0},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[Br]),_:1}),n(v,null,{default:s(()=>[i("div",{innerHTML:r.voucherContent},null,8,Hr)]),_:1})]),_:1})):k("",!0),o.item.metadata.introduction.enable?(d(),D(I,{key:1},{default:s(()=>[n(g,{"bg-color":"green",innerHTML:o.item.metadata.introduction.title},null,8,["innerHTML"]),n(v,null,{default:s(()=>[i("div",{innerHTML:o.item.metadata.introduction.content},null,8,Qr)]),_:1})]),_:1})):k("",!0),o.item.metadata.discount.enable?(d(),D(I,{key:2},{default:s(()=>[n(g,{"bg-color":"green",innerHTML:o.item.metadata.discount.title},null,8,["innerHTML"]),n(v,null,{default:s(()=>[i("div",{innerHTML:o.item.metadata.discount.content},null,8,Vr)]),_:1})]),_:1})):k("",!0),o.item.metadata.quotation.enable?(d(),D(I,{key:3},{default:s(()=>[n(g,{"bg-color":"green",innerHTML:o.item.metadata.quotation.title},null,8,["innerHTML"]),n(v,null,{default:s(()=>[i("div",{innerHTML:o.item.metadata.quotation.content},null,8,Lr)]),_:1})]),_:1})):k("",!0),n(I,null,{default:s(()=>[n(g,null,{default:s(()=>[zr]),_:1}),n(v,null,{default:s(()=>[qr,i("ul",null,[(d(!0),h(N,null,Q(o.customer.history.slice(0,10),b=>(d(),h("li",{key:b},u(e.$utils.formatDateTime(b.date))+" : "+u(b.type=="SCAN"?"Qu\xE9t th\u1EBB":b.type),1))),128))])]),_:1})]),_:1})])]),_:1})}var Mr=S($r,[["render",Fr]]);const Gr={name:"QRSALE",components:{Sale:_t,User:ft},props:{f7route:Object,f7router:Object},setup(){},data(){let e={id:100010010960001,title:"Th\u1EBB Gi\xE1m s\xE1t (L\u1EDBp tr\u01B0\u1EDFng)",description:"D\xE0nh cho l\u1EDBp tr\u01B0\u1EDFng: 1 Th\u1EBB",imageUrls:[],productId:0,ownerName:"A B\u1EA3o",ownerAddress:"11 Dtp, Tan Phu",ownerPhoneNumber:"02822004088",ownerId:180,ownerOrganizationId:888,deviceMetadata:{start:1,index:577,pdfUrl:"qrcustomer_1638520256647.pdf",pdfUrls:["qrcustomer_1638520011773.pdf","qrcustomer_1638520256647.pdf"]},ownerMetadata:{enable:!0,qrid:"100010010960001",from:0,to:577,list:["m/100010010960003/i/1/p/30","m/100010010960003/i/2/p/11"]},supportId:111,status:"ACTIVE",metadata:{discount:{enable:!0,title:"\u01AFu \u0111\xE3i khi s\u1EED d\u1EE5ng th\u1EBB n\xE0y",content:"N\u1ED9i dung \u01B0u \u0111\xE3i"},introduction:{enable:!1,title:"Gi\u1EDBi thi\u1EC7u v\u1EC1 s\u1EA3n ph\u1EA9m, d\u1ECBch v\u1EE5",content:"N\u1ED9i dung"},quotation:{enable:!1,title:"B\u1EA3ng gi\xE1 s\u1EA3n ph\u1EA9m, d\u1ECBch v\u1EE5",content:"N\u1ED9i dung b\u1EA3ng gi\xE1"},qrcall:{enable:!0,title:"",phoneNumber:"02800224088",workTime:""}}};return{item:e,fix:e,customers:[],paidCustomers:[],customValue:""}},watch:{imageUrl(e){this.item.imageUrls[0]=e,console.log(this.item.imageUrls)},customValue(e){this.item.metadata?this.item.metadata.VoucherContent=this.customValue:this.item.metadata={VoucherContent:this.customValue}}},computed:{idFrom(){if(this.item.ownerMetadata.qrid&&this.item.ownerMetadata.from){let e=this.item.ownerMetadata.qrid.slice(8),t=this.item.ownerMetadata.from;return`${e}.${t}`}else return""},idTo(){},discount(){return this.metadata&&this.metadata.discount?this.metadata.discount:{enable:!1}}},methods:{actionText(e){var t=e.status!="PAID"?"Qu\xE9t Th\u1EBB":"\u0110\xE3 mua";return e.name+" "+t},idText(e){return e.substring(9)},async getQRCustomer(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.customers=await this.$api.getQRCustomerBySale(e,t),this.paidCustomers=this.customers.filter(l=>l.status=="PAID"),console.log("sorted"),this.customers.sort((l,c)=>new Date(c.modified)-new Date(l.modified))},async getDeviceData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;let l=await this.$api.getQRID(e,t);this.item=l;const c=l.ownerMetadata;console.log("meta",c),await this.getQRCustomer(),this.item.ownerMetadata&&this.item.ownerMetadata.qrid||(this.item.ownerMetadata={enable:!0,qrid:"100010010970001",from:1,to:100}),this.item.metadata||(this.item.metadata={}),this.item.imageUrls&&(this.imageUrl=this.item.imageUrls[0])},async active(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.item.status="QRID_STATUS.ACTIVE",await this.$api.updateQRSaleInfo(e,this.item,t),w.dialog.alert("SUCCESS active()")},async updateData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;console.log("updateData()",this.item),await this.$api.updateQRSaleInfo(e,this.item,t),w.dialog.alert("SUCCESS updateData()")},toQRCustomer(e){this.f7router.navigate(e.qrUrl)},selectedUser(e){console.log("selectedUser()",e)},updateItem(e){}},async mounted(){let e=this.f7route.params.id.toString().slice(11);var t=parseInt(e);this.$utils.qrid_index(this.f7route.params.id)>=10?(console.log("num_last_4",t,e),await this.getDeviceData()):(w.dialog.alert("ID kh\xF4ng h\u1EE3p l\u1EC7, v\u1EC1 trang ch\u1EE7"),this.f7router.navigate("HomePage"))}},Kr=p("Th\u1EBB c\u1ED9ng t\xE1c"),Yr={class:"content"},jr=p("Th\xF4ng tin b\xEAn c\u1ED9ng t\xE1c"),Jr=p("Th\u1EBB \u0111\xE3 \u0111\u0103ng k\xFD (mua h\xE0ng)"),Wr=p("Th\u1EBB c\xF3 ho\u1EA1t \u0111\u1ED9ng g\u1EA7n \u0111\xE2y"),Xr=p("C\u1EADp nh\u1EADt"),Zr=p("Thi\u1EBFt l\u1EADp Leader (T\u1ED5 tr\u01B0\u1EDFng)"),ed=p("Update"),td=p(" Active");function id(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-list-input"),I=a("f7-list"),C=a("f7-card"),b=a("f7-list-item"),m=a("f7-button"),y=a("f7-card-footer"),E=a("f7-col"),T=a("f7-row"),P=a("f7-page");return d(),D(P,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[Kr]),_:1})]),_:1}),i("div",Yr,[n(C,null,{default:s(()=>[n(g,null,{default:s(()=>[jr]),_:1}),n(I,{"no-hairlines-md":""},{default:s(()=>[n(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.ownerName,"onUpdate:value":t[0]||(t[0]=O=>o.item.ownerName=O)},null,8,["value"]),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i",pattern:"[0-9]*","clear-button":"",value:o.item.ownerPhoneNumber,"onUpdate:value":t[1]||(t[1]=O=>o.item.ownerPhoneNumber=O)},null,8,["value"]),n(v,{outline:"",type:"textarea",label:"T\xE0i kho\u1EA3n ng\xE2n h\xE0ng",placeholder:"T\xEAn ng\xE2n h\xE0ng, chi nh\xE1nh, s\u1ED1 t\xE0i kho\u1EA3n","floating-label":"",maxlength:"300","clear-button":"",value:o.item.description,"onUpdate:value":t[2]||(t[2]=O=>o.item.description=O)},null,8,["value"])]),_:1})]),_:1}),o.item.status=="QRID_STATUS.ACTIVE"?(d(),D(C,{key:0},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[Jr]),_:1}),n(I,{"no-hairlines-md":"","media-list":""},{default:s(()=>[(d(!0),h(N,null,Q(o.paidCustomers,O=>(d(),D(b,{key:O.qrUrl,header:e.$utils.formatDateTime(O.modified),title:O.name||"Ch\u01B0a c\u1EADp nh\u1EADt",subtitle:"Id: "+r.idText(O.qrUrl)},null,8,["header","title","subtitle"]))),128))]),_:1})]),_:1})):k("",!0),o.item.status=="QRID_STATUS.ACTIVE"?(d(),D(C,{key:1},{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[Wr]),_:1}),n(I,{"no-hairlines-md":"","media-list":""},{default:s(()=>[(d(!0),h(N,null,Q(o.customers,O=>(d(),D(b,{key:O.qrUrl,header:e.$utils.formatDateTime(O.modified),title:"Id: "+r.idText(O.qrUrl),subtitle:r.actionText(O)},null,8,["header","title","subtitle"]))),128))]),_:1}),n(y,null,{default:s(()=>[n(m,{rounded:"",fill:"",onClick:t[3]||(t[3]=O=>r.getQRCustomer())},{default:s(()=>[Xr]),_:1})]),_:1})]),_:1})):k("",!0),o.item.status!="QRID_STATUS.ACTIVE"?(d(),D(C,{key:2},{default:s(()=>[n(g,null,{default:s(()=>[Zr]),_:1}),o.item.status!="QRID_STATUS.ACTIVE"?(d(),D(I,{key:0,"no-hairlines-md":""},{default:s(()=>[n(v,{outline:"",label:"QRID","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:o.item.ownerMetadata.qrid,"onUpdate:value":t[4]||(t[4]=O=>o.item.ownerMetadata.qrid=O)},null,8,["value"]),n(v,{outline:"",label:"B\u1EAFt \u0111\u1EA7u","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:o.item.ownerMetadata.from,"onUpdate:value":t[5]||(t[5]=O=>o.item.ownerMetadata.from=O)},null,8,["value"]),n(v,{outline:"",label:"K\u1EBFt th\xFAc","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:o.item.ownerMetadata.to,"onUpdate:value":t[6]||(t[6]=O=>o.item.ownerMetadata.to=O)},null,8,["value"])]),_:1})):k("",!0)]),_:1})):(d(),D(C,{key:3},{default:s(()=>[n(g,null,{default:s(()=>[p("Th\u1EBB \u0111\u01B0\u1EE3c c\u1EA5p ("+u(o.item.ownerMetadata.to-o.item.ownerMetadata.from+1)+" th\u1EBB)",1)]),_:1}),n(I,{"no-hairlines-md":""},{default:s(()=>[n(b,null,{default:s(()=>[p("B\u1EAFt \u0111\u1EA7u: "+u(o.item.ownerMetadata.from),1)]),_:1}),n(b,null,{default:s(()=>[p(" K\u1EBFt th\xFAc: "+u(o.item.ownerMetadata.to),1)]),_:1})]),_:1})]),_:1})),n(T,null,{default:s(()=>[n(E,{width:"40"},{default:s(()=>[n(m,{fill:"",round:"",large:"",onClick:t[7]||(t[7]=O=>r.updateData())},{default:s(()=>[ed]),_:1})]),_:1}),o.item.status=="QRID_STATUS.GENERATED"?(d(),D(E,{key:0,width:"40"},{default:s(()=>[n(m,{fill:"",round:"",large:"",color:"red",onClick:t[8]||(t[8]=O=>r.active())},{default:s(()=>[td]),_:1})]),_:1})):k("",!0)]),_:1})])]),_:1})}var nd=S(Gr,[["render",id]]);const od=G({props:{qrid:Number,privateCode:String,isSetup:{type:Boolean,defaut:!1}},components:{},data(){return{isLoading:!1,filter:{skip:0,limit:10},enablePopup:!1,selectedId:0,data:{},customers:[]}},watch:{id:"loadData"},methods:{idText(e){return e.substring(9)},async getQRCustomer(){this.qrid>0&&(this.customers=await this.$api.getQRCustomers(this.qrid,this.privateCode),console.log("sorted"))},async loadData(){this.qrid>0&&(this.isLoading=!0,await this.getQRCustomer(),this.isLoading=!1)}},async mounted(){this.loadData()}}),sd=p("T\u01B0\u01A1ng t\xE1c m\u1EDBi nh\u1EA5t t\u1EEB kh\xE1ch h\xE0ng "),ad={class:"list media-list medium-inset"},ld=["onClick"],rd={class:"item-inner"},dd={class:"item-header"},cd={class:"item-title-row"},ud={style:{"font-size":"16px"}},pd=i("div",{class:"item-after"},null,-1),hd={class:"item-subtitle"},md={class:"item-text"},_d=p("C\u1EADp nh\u1EADt");function fd(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-button"),v=a("f7-card-footer"),I=a("f7-card"),C=a("activity"),b=a("f7-popup");return d(),h(N,null,[n(I,null,{default:s(()=>[n(f,{"bg-color":"blue"},{default:s(()=>[sd,A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),i("div",ad,[i("ul",null,[(d(!0),h(N,null,Q(e.customers,m=>(d(),h("li",{key:m.id},[i("a",{onClick:y=>e.clickViewActivity(m),class:"item-link item-content chevron-center"},[i("div",rd,[i("div",dd,u(e.$utils.formatDateTime(m.modified)),1),i("div",cd,[i("div",ud,u(e.idText(m.qrUrl)),1),pd]),i("div",hd,u(m.name),1),i("div",md,u(m.status=="CREATED"?"Qu\xE9t Th\u1EBB":m.status),1)])],8,ld)]))),128))])]),n(v,null,{default:s(()=>[n(g,{rounded:"",fill:"",onClick:t[0]||(t[0]=m=>e.getQRCustomer())},{default:s(()=>[_d]),_:1})]),_:1})]),_:1}),n(b,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[1]||(t[1]=m=>e.enablePopup=m)},{default:s(()=>[n(C,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var gt=S(od,[["render",fd]]);const gd={name:"QRSALE",components:{ListPeople:gt},props:{f7route:Object,f7router:Object},setup(){},data(){let e=[{qrUrl:"/m/100010010960002/i/529/p/3031"},{qrUrl:"/m/100010010960002/i/530/p/8117"},{qrUrl:"/m/100010010960002/i/531/p/9741"}],t={id:100010010960001,title:"Th\u1EBB Gi\xE1m s\xE1t (L\u1EDBp tr\u01B0\u1EDFng)",description:"D\xE0nh cho l\u1EDBp tr\u01B0\u1EDFng: 1 Th\u1EBB",imageUrls:[],productId:0,ownerName:"QRCare Vi\u1EC7t Nam",ownerAddress:"11 Dtp, Tan Phu",ownerPhoneNumber:"02822004088",ownerId:180,ownerOrganizationId:888,deviceMetadata:{start:1,index:577,pdfUrl:"qrcustomer_1638520256647.pdf",pdfUrls:["qrcustomer_1638520011773.pdf","qrcustomer_1638520256647.pdf"]},ownerMetadata:{enable:!0,qrid:"100010010960001",from:0,to:577,list:["m/100010010960003/i/1/p/30","m/100010010960003/i/2/p/11"]},supportId:111,status:"ACTIVE",metadata:{discount:{enable:!0,title:"\u01AFu \u0111\xE3i khi s\u1EED d\u1EE5ng th\u1EBB n\xE0y",content:"N\u1ED9i dung \u01B0u \u0111\xE3i"},introduction:{enable:!1,title:"Gi\u1EDBi thi\u1EC7u v\u1EC1 s\u1EA3n ph\u1EA9m, d\u1ECBch v\u1EE5",content:"N\u1ED9i dung"},quotation:{enable:!1,title:"B\u1EA3ng gi\xE1 s\u1EA3n ph\u1EA9m, d\u1ECBch v\u1EE5",content:"N\u1ED9i dung b\u1EA3ng gi\xE1"},qrcall:{enable:!0,title:"G\u1ECDi l\u1EA1i cho t\xF4i",name:"Quang",phoneNumber:"02800224088",workTime:"gi\u1EDD h\xE0nh ch\xEDnh"},call:{enable:!0,title:"G\u1ECDi ch\xFAng t\xF4i",phoneNumber:"02800224088"}}};return{qrid:this.f7route.params.id,privateCode:this.f7route.params.privateCode,item:t,fix:t,qrUrls:e,imageUrl:"https://apps.vinaas.com/file/OmEkiJOFm",customValue:""}},watch:{imageUrl(e){this.item.imageUrls[0]=e,console.log(this.item.imageUrls)},customValue(e){this.item.metadata?this.item.metadata.VoucherContent=this.customValue:this.item.metadata={VoucherContent:this.customValue}}},computed:{discount(){return this.metadata&&this.metadata.discount?this.metadata.discount:{enable:!1}}},methods:{async getDeviceData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;let l=await this.$api.getQRID(e,t);l&&(console.log("rs",l),this.item=l,this.item.metadata||(this.item.metadata={}),this.item.metadata.introduction||(this.item.metadata.introduction={enable:!1,title:"",content:""}),this.item.metadata.discount||(this.item.metadata.discount={enable:!1,title:"",content:""}),this.item.metadata.quotation||(this.item.metadata.quotation={enable:!1,title:"",content:""}),this.item.metadata.call||(this.item.metadata.call={enable:!1,phoneNumber:"02800224088"}),this.item.imageUrls&&(this.imageUrl=this.item.imageUrls[0]))},async updateData(){var e=this.f7route.params.id,t=this.f7route.params.privateCode;console.log("updateData()",this.item);let l=await this.$api.updateQRSaleInfo(e,this.item,t);console.log("rs",l),w.dialog.alert("SUCCESS updateData()")},toQRCustomer(e){this.f7router.navigate(e.qrUrl)},selectedUser(e){console.log("selectedUser()",e)},updateItem(e){}},async mounted(){await this.getDeviceData()}},vd=p("Th\u1EBB Thi\u1EBFt l\u1EADp"),Cd={class:"content"},bd=p("Th\xF4ng tin c\xF4ng ty (c\xE1 nh\xE2n)"),Id={key:0,class:"item-content"},yd={class:"item-media"},kd=["src"],Dd=i("div",{class:"item-inner"},[i("div",{class:"item-title-row"})],-1),Ed=p("Hi\u1EC3n th\u1ECB Ph\u1EA7n gi\u1EDBi thi\u1EC7u"),wd=p("Content show to customer"),Nd=p("Hi\u1EC3n th\u1ECB M\u1EE5c Khuy\u1EBFn m\xE3i "),Ad=p("Content show to customer"),Td=p("Hi\u1EC3n th\u1ECB B\u1EA3ng gi\xE1 "),Pd=p("Content show to customer"),$d=p('Hi\u1EC7n n\xFAt "Hotline"'),Ud=p("C\u1EADp nh\u1EADt"),Sd=p("Th\u1EBB thi\u1EBFt l\u1EADp v1.5");function Rd(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("list-people"),v=a("f7-card-header"),I=a("f7-list-input"),C=a("f7-list"),b=a("f7-card"),m=a("f7-toggle"),y=a("f7-block-header"),E=a("f7-text-editor"),T=a("f7-card-content"),P=a("f7-button"),O=a("f7-col"),x=a("f7-row"),B=a("f7-block"),H=a("f7-page");return d(),D(H,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[vd]),_:1})]),_:1}),i("div",Cd,[n(g,{qrid:o.qrid,privateCode:o.privateCode},null,8,["qrid","privateCode"]),n(b,null,{default:s(()=>[n(v,{"bg-color":"blue"},{default:s(()=>[bd]),_:1}),n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.ownerName,"onUpdate:value":t[0]||(t[0]=$=>o.item.ownerName=$)},null,8,["value"]),n(I,{outline:"",label:"H\xECnh \u0111\u1EA1i di\u1EC7n ","floating-label":"",type:"text",placeholder:"link h\xECnh","clear-button":"",value:o.imageUrl,"onUpdate:value":t[1]||(t[1]=$=>o.imageUrl=$)},null,8,["value"]),o.imageUrl?(d(),h("li",Id,[i("div",yd,[i("img",{src:o.imageUrl,style:{"max-width":"240px"}},null,8,kd)]),Dd])):k("",!0),n(I,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i",pattern:"[0-9]*","clear-button":"",value:o.item.ownerPhoneNumber,"onUpdate:value":t[2]||(t[2]=$=>o.item.ownerPhoneNumber=$)},null,8,["value"]),n(I,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.item.ownerAddress,"onUpdate:value":t[3]||(t[3]=$=>o.item.ownerAddress=$)},null,8,["value"])]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(v,null,{default:s(()=>[Ed,n(m,{checked:o.item.metadata.introduction.enable,"onUpdate:checked":t[4]||(t[4]=$=>o.item.metadata.introduction.enable=$)},null,8,["checked"])]),_:1}),n(T,null,{default:s(()=>[A(n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{type:"text",outline:"","floating-label":"",placeholder:"",info:"show on tieu de",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.metadata.introduction.title,"onUpdate:value":t[5]||(t[5]=$=>o.item.metadata.introduction.title=$)},null,8,["value"]),n(y,null,{default:s(()=>[wd]),_:1}),n(E,{placeholder:"Enter text...",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"],["link","image"],["paragraph","h1","h2","h3"],["alignLeft","alignCenter","alignRight","alignJustify"],["subscript","superscript"]],value:o.item.metadata.introduction.content,"onTexteditor:change":t[6]||(t[6]=$=>o.item.metadata.introduction.content=$)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.introduction.enable]])]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(v,null,{default:s(()=>[Nd,n(m,{checked:o.item.metadata.discount.enable,"onUpdate:checked":t[7]||(t[7]=$=>o.item.metadata.discount.enable=$)},null,8,["checked"])]),_:1}),n(T,null,{default:s(()=>[A(n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{type:"text",outline:"","floating-label":"",placeholder:"",info:"show on tieu de",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.metadata.discount.title,"onUpdate:value":t[8]||(t[8]=$=>o.item.metadata.discount.title=$)},null,8,["value"]),n(y,null,{default:s(()=>[Ad]),_:1}),n(E,{placeholder:"Enter text...",value:o.item.metadata.discount.content,"onTexteditor:change":t[9]||(t[9]=$=>o.item.metadata.discount.content=$)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.discount.enable]])]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(v,null,{default:s(()=>[Td,n(m,{checked:o.item.metadata.quotation.enable,"onUpdate:checked":t[10]||(t[10]=$=>o.item.metadata.quotation.enable=$)},null,8,["checked"])]),_:1}),n(T,null,{default:s(()=>[A(n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{type:"text",outline:"","floating-label":"",placeholder:"",info:"show on tieu de",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.metadata.quotation.title,"onUpdate:value":t[11]||(t[11]=$=>o.item.metadata.quotation.title=$)},null,8,["value"]),n(y,null,{default:s(()=>[Pd]),_:1}),n(E,{placeholder:"Enter text...",value:o.item.metadata.quotation.content,"onTexteditor:change":t[12]||(t[12]=$=>o.item.metadata.quotation.content=$)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.quotation.enable]])]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(v,null,{default:s(()=>[$d,n(m,{checked:o.item.metadata.call.enable,"onUpdate:checked":t[13]||(t[13]=$=>o.item.metadata.call.enable=$)},null,8,["checked"])]),_:1}),n(T,null,{default:s(()=>[A(n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{type:"text",outline:"","floating-label":"",placeholder:"",info:"ti\xEAu \u0111\u1EC1 button Call",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.item.metadata.call.title,"onUpdate:value":t[14]||(t[14]=$=>o.item.metadata.call.title=$)},null,8,["value"]),n(I,{type:"text",outline:"","floating-label":"",placeholder:"",info:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i h\u1EE3p l\u1EC7",required:"","clear-button":"",value:o.item.metadata.call.phoneNumber,"onUpdate:value":t[15]||(t[15]=$=>o.item.metadata.call.phoneNumber=$)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.call.enable]])]),_:1})]),_:1}),n(B,null,{default:s(()=>[n(x,null,{default:s(()=>[n(O,{width:"100"},{default:s(()=>[n(P,{fill:"",round:"",large:"",onClick:t[16]||(t[16]=$=>r.updateData())},{default:s(()=>[Ud]),_:1})]),_:1})]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(v,null,{default:s(()=>[Sd]),_:1}),n(T,null,{default:s(()=>[p(u(l.f7route.params.id),1)]),_:1})]),_:1})])]),_:1})}var xd=S(gd,[["render",Rd]]);const Od=G({props:{isView:Boolean,id:Number},data(){return{isLoading:!1,data:{}}},watch:{id:"loadData"},methods:{async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getQRID(this.id,"111"),this.isLoading=!1)}},async mounted(){this.loadData()}}),Bd=p(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),Hd={class:"list media-list no-hairlines-between"},Qd={class:"item-content"},Vd={class:"item-inner"},Ld={class:"item-title"},zd={class:"item-content"},qd={class:"item-inner"},Fd=["innerHTML"],Md=["src"],Gd={class:"item-content"},Kd={class:"item-inner"},Yd={class:"item-title"},jd={class:"item-checkbox item-content"},Jd={class:"item-inner"},Wd=i("div",{class:"item-title-row"},[i("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),Xd={class:"item-subtitle"},Zd={class:"item-text"},ec=p(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),tc={class:"list media-list no-hairlines-between"},ic={class:"item-content"},nc=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"person_fill")],-1),oc={class:"item-inner"},sc={class:"item-title"},ac={key:0},lc={class:"item-content"},rc=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"device_phone_portrait")],-1),dc={class:"item-inner"},cc={class:"item-subtitle"},uc={class:"item-content"},pc=i("div",{class:"item-media"},[i("i",{class:"f7-icons"},"house")],-1),hc={class:"item-inner"},mc={class:"item-subtitle"};function _c(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-swiper-slide"),v=a("f7-swiper"),I=a("f7-card-content"),C=a("f7-card");return d(),h(N,null,[n(C,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[Bd,A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),n(I,null,{default:s(()=>[i("div",Hd,[i("ul",null,[i("li",null,[i("div",Qd,[i("div",Vd,[i("div",Ld,u(e.data.title),1)])])]),i("li",null,[i("div",zd,[i("div",qd,[i("div",{class:"item-text",innerHTML:e.data.description},null,8,Fd)])])]),i("li",null,[n(v,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,b=>(d(),D(g,{key:b},{default:s(()=>[i("img",{class:"small",src:b},null,8,Md)]),_:2},1024))),128))]),_:1})]),i("li",null,[i("div",Gd,[i("div",Kd,[i("div",Yd," Ng\xE0y k\xEDch ho\u1EA1t: "+u(e.$utils.formatDate(e.data.activatedDate)),1)])])]),i("li",null,[i("label",jd,[i("div",Jd,[Wd,i("div",Xd,u(e.data.sellerName),1),i("div",Zd,u(e.data.sellerAddress),1)])])])])])]),_:1})]),_:1}),n(C,null,{default:s(()=>[n(f,{"bg-color":"green"},{default:s(()=>[ec]),_:1}),n(I,null,{default:s(()=>[i("div",tc,[i("ul",null,[i("li",null,[i("div",ic,[nc,i("div",oc,[i("div",sc,u(e.data.ownerName),1)])])]),e.data.ownerPhoneNumber?(d(),h("li",ac,[i("div",lc,[rc,i("div",dc,[i("div",cc,u(e.data.ownerPhoneNumber),1)])])])):k("",!0),i("li",null,[i("div",uc,[pc,i("div",hc,[i("div",mc,u(e.data.ownerAddress),1)])])])])])]),_:1})]),_:1})],64)}var vt=S(Od,[["render",_c]]);const fc=G({components:{DetailQrid:vt,History:He},props:{f7route:Object,f7router:Object},data(){return{name:"Th\u1EBB gi\xE1m s\xE1t D\u1EF1 \xE1n",enablePopup:!1,items:[],selectedId:0,item:{},id:this.f7route.params.packageId,privateCode:"",org:{name:"",address:""},project:{title:"DEMO - VINAAS",cardType:"CARD_TYPE.EXIST_DEVICE",count:108,organizationId:888,status:"ACTIVE"}}},computed:{},methods:{async showItem(e){console.log("click showItem()"),this.selectedId=e.id,this.enablePopup=!0},async loadData(){let e={id:10001001053,title:"DEMO - VINAAS",cardType:"CARD_TYPE.EXIST_DEVICE",count:108,organizationId:888,status:"ACTIVE",organization:{name:"",address:""},qridList:[{id:100010010530026,packageId:"10001001053",title:"Vsmart Active 3",imageUrls:[],activatedDate:"2021-12-28T01:52:59.981Z",ownerName:"Nguy\u1EC5n M\u1EA1nh H\xE0",status:"QRID_STATUS.ACTIVE"},{id:100010010530031,packageId:"10001001053",title:"M\u1EB7t sau c\u1EEDa ch\xEDnh",imageUrls:["https://apps.vinaas.com/file/ru9CQThTA","https://apps.vinaas.com/file/RLwdCELBA","https://apps.vinaas.com/file/AIAHKgmk7","https://apps.vinaas.com/file/NsarQsF2n"],activatedDate:"2021-11-29T23:56:18.922Z",ownerName:"A b\u1EA3o",status:"QRID_STATUS.ACTIVE"},{id:100010010530028,packageId:"10001001053",title:"\u0110i\u1EC7n tho\u1EA1i trong nh\xE0",imageUrls:["https://apps.vinaas.com/file/myuy7kknk","https://apps.vinaas.com/file/nT3MbPc3I"],activatedDate:"2021-11-29T23:53:36.845Z",ownerName:"A b\u1EA3o",status:"QRID_STATUS.ACTIVE"},{id:100010010530027,packageId:"10001001053",title:"Laptop Asus ",imageUrls:["https://apps.vinaas.com/file/r5uvOPkcs","https://apps.vinaas.com/file/plm25aLDq"],activatedDate:"2021-11-17T02:35:08.572Z",ownerName:"A Quang",status:"QRID_STATUS.ACTIVE"},{id:100010010530088,packageId:"10001001053",title:"B\xE0n ph\xEDm c\u01A1",imageUrls:[],activatedDate:"2021-11-17T02:27:11.578Z",ownerName:"Quang t\xE8o",status:"QRID_STATUS.ACTIVE"},{id:100010010530087,packageId:"10001001053",title:"M\xE1y Mac mini",imageUrls:["https://apps.vinaas.com/file/3YFASbh8C","https://apps.vinaas.com/file/03HbRRiG1","https://apps.vinaas.com/file/XDb7lTtVl"],activatedDate:"2021-11-17T02:23:54.741Z",ownerName:"Qu\xE2n ",status:"QRID_STATUS.ACTIVE"},{id:100010010530085,packageId:"10001001053",title:"B\xE0n ph\xEDm c\u01A1 filco",imageUrls:["https://apps.vinaas.com/file/Fu5gRnWof","https://apps.vinaas.com/file/6ncWsokIC"],activatedDate:"2021-11-17T02:15:48.717Z",ownerName:"A b\u1EA3o",status:"QRID_STATUS.ACTIVE"},{id:100010010530083,packageId:"10001001053",title:"B\xE0n ph\xEDm c\u01A1 zero",imageUrls:["https://apps.vinaas.com/file/LuyYLtpKG","https://apps.vinaas.com/file/8ig2ZBJfy"],activatedDate:"2021-11-17T02:10:00.643Z",ownerName:"A qu\xE2n",status:"QRID_STATUS.ACTIVE"},{id:100010010530082,packageId:"10001001053",title:"Laptop Panasonic ",imageUrls:["https://media.vinaas.com/file/nCzWPJLaY","https://media.vinaas.com/file/QRMVaE1Bb","https://media.vinaas.com/file/fQRDWpAtZ","https://media.vinaas.com/file/eNTzIq9BV"],activatedDate:"2021-11-17T02:07:37.254Z",ownerName:"A Quang",status:"QRID_STATUS.ACTIVE"},{id:100010010530084,packageId:"10001001053",title:"M\xE0n h\xECnh philip",imageUrls:["https://apps.vinaas.com/file/icZg42sYz","https://apps.vinaas.com/file/HkjWkXA1g","https://apps.vinaas.com/file/488IHrxAv","https://apps.vinaas.com/file/wqxFUw3mS"],activatedDate:"2021-11-17T02:05:38.758Z",ownerName:"A quang",status:"QRID_STATUS.ACTIVE"},{id:100010010530081,packageId:"10001001053",title:"B\xE0n ph\xEDm c\u01A1 leopold",imageUrls:["https://apps.vinaas.com/file/GVTZpR1sk","https://apps.vinaas.com/file/rgwFU4ujn","https://apps.vinaas.com/file/1wOyxulmT","https://apps.vinaas.com/file/lGtnrGJWZ"],activatedDate:"2021-11-17T01:57:51.814Z",ownerName:"A b\u1EA3o",status:"QRID_STATUS.ACTIVE"},{id:100010010530011,packageId:"10001001053",title:"Xe m\xE1y Air Blade 2008",imageUrls:["https://media.vinaas.com/file/1Np2nCWT9","https://media.vinaas.com/file/F5n4LBeUr"],activatedDate:"2021-11-04T02:36:11.823Z",ownerName:"Anh Hu\u1EC7",status:"QRID_STATUS.ACTIVE"},{id:100010010530001,packageId:"10001001053",title:"T\u1EE7 m\xE1t DarLing",imageUrls:["https://media.vinaas.com/file/3XdMOIoYd"],activatedDate:"2021-10-17T08:38:44.940Z",ownerName:"Dingtea 03 \xC2u C\u01A1",status:"QRID_STATUS.ACTIVE"},{id:100010010530106,packageId:"10001001053",title:"M\xE1y l\u1EA1nh 1",imageUrls:["https://media.vinaas.com/file/8p7qpJiBk"],activatedDate:"2021-07-29T08:20:37.924Z",ownerName:"H\u1EADu",status:"QRID_STATUS.ACTIVE"},{id:100010010530100,packageId:"10001001053",title:"Lan \u0111\u1ED9t bi\u1EBFn",imageUrls:["https://media.vinaas.com/file/ZPssCHCKl","https://media.vinaas.com/file/UkiKsvhuT"],activatedDate:"2021-07-23T03:01:20.236Z",ownerName:"L\xEA thi lan Nhi\xEAn",status:"QRID_STATUS.ACTIVE"},{id:100010010530063,packageId:"10001001053",title:"Sunhose 09789",imageUrls:["https://media.vinaas.com/file/iFY0GXmME","https://media.vinaas.com/file/ruJb3FnX1"],activatedDate:"2021-06-08T10:14:03.703Z",ownerName:"Anh Quang",status:"QRID_STATUS.ACTIVE"},{id:100010010530072,packageId:"10001001053",title:"M\xE1y t\xEDnh",imageUrls:["https://media.vinaas.com/file/FZYlfwQTS"],activatedDate:"2021-05-29T05:15:34.013Z",ownerName:"Ch\u1ECB vy",status:"QRID_STATUS.ACTIVE"},{id:10001001053e4,packageId:"10001001053",title:"DEmo",imageUrls:["https://media.vinaas.com/file/WtQwiOaUV","https://media.vinaas.com/file/leCfZsktH"],activatedDate:"2021-05-26T02:06:06.447Z",ownerName:"A d\u01B0\u01A1ng",status:"QRID_STATUS.ACTIVE"},{id:100010010530097,packageId:"10001001053",title:"Xe ",imageUrls:[],activatedDate:"2021-04-25T07:24:25.326Z",ownerName:"L\u01B0\u01A1ng v\u0103n thanh",status:"QRID_STATUS.ACTIVE"}]};e=await this.$api.getProjectSummary(this.id,this.privateCode),this.project={title:e.title,cardType:e.cardType,count:e.count,organizationId:e.organizationId,status:e.status},this.org=e.organization,this.items=e.qridList}},async mounted(){await this.loadData()}}),gc={class:"content"},vc=["src"],Cc=p("Close");function bc(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-list-item"),I=a("f7-list"),C=a("f7-card-content"),b=a("f7-card"),m=a("f7-link"),y=a("f7-nav-right"),E=a("detail-qrid"),T=a("history"),P=a("f7-page"),O=a("f7-popup");return d(),D(P,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(e.name),1)]),_:1})]),_:1}),i("div",gc,[n(b,null,{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[p("ID "+u(e.f7route.params.packageId),1)]),_:1}),n(C,null,{default:s(()=>[n(I,null,{default:s(()=>[n(v,null,{default:s(()=>[p("Lo\u1EA1i Th\u1EBB "+u(e.project.cardType),1)]),_:1}),n(v,null,{default:s(()=>[p("T\u1ED5ng s\u1ED1 "+u(e.project.count)+" th\u1EBB",1)]),_:1}),n(v,null,{default:s(()=>[p("C\xF4ng ty: "+u(e.org.name),1)]),_:1}),n(v,null,{default:s(()=>[p("\u0110\u1ECBa ch\u1EC9: "+u(e.org.address),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[p(u(e.items.length)+" / "+u(e.project.count)+" Th\u1EBB \u0111\xE3 \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t",1)]),_:1}),n(C,null,{default:s(()=>[n(I,{"media-list":""},{default:s(()=>[(d(!0),h(N,null,Q(e.items,x=>(d(),D(v,{key:x.id,onClick:B=>e.showItem(x),subtitle:x.title,header:e.$utils.formatQRID(x.id),title:x.ownerName,text:"K\xEDch ho\u1EA1t: "+e.$utils.formatDate(x.activatedDate)},{media:s(()=>[i("img",{src:e.$utils.firstImage(x.imageUrls),width:"60"},null,8,vc)]),_:2},1032,["onClick","subtitle","header","title","text"]))),128))]),_:1})]),_:1})]),_:1})]),n(O,{opened:e.enablePopup,"onUpdate:opened":t[0]||(t[0]=x=>e.enablePopup=x),"tablet-fullscreen":!0},{default:s(()=>[n(P,null,{default:s(()=>[n(f,{title:"Chi ti\u1EBFt"},{default:s(()=>[n(y,null,{default:s(()=>[n(m,{"popup-close":""},{default:s(()=>[Cc]),_:1})]),_:1})]),_:1}),n(E,{isView:!0,id:e.selectedId},null,8,["id"]),n(T,{id:e.selectedId},null,8,["id"])]),_:1})]),_:1},8,["opened"])]),_:1})}var Ic=S(fc,[["render",bc]]);const yc=G({props:{id:Number,privateCode:String},components:{History:He,Location:pt},data(){return{isLoading:!1,filter:{skip:0,limit:10},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){if(this.id>0){this.isLoading=!0;let e=this.$utils.qrid_package(this.id),t=parseInt(e);this.data=await this.$api.getQRList(t,this.privateCode),this.isLoading=!1}}},async mounted(){this.loadData()}}),kc=p("\u0110\u1ECBa \u0111i\u1EC3m \u0111\u01B0\u1EE3c d\xE1n v\xE0 k\xEDch ho\u1EA1t Th\u1EBB "),Dc={class:"list media-list medium-inset"},Ec=["onClick"],wc={class:"item-media"},Nc=["src"],Ac={class:"item-inner"},Tc={class:"item-header"},Pc={class:"item-title-row"},$c={style:{"font-size":"16px"}},Uc=i("div",{class:"item-after"},null,-1),Sc={class:"item-text"},Rc={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},xc=p("Close");function Oc(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-card-header"),g=a("f7-card"),v=a("f7-link"),I=a("f7-nav-right"),C=a("f7-navbar"),b=a("location"),m=a("history"),y=a("f7-page"),E=a("f7-popup");return d(),h(N,null,[n(g,null,{default:s(()=>[n(f,{"bg-color":"blue"},{default:s(()=>[kc,A(n(_,null,null,512),[[F,e.isLoading]])]),_:1}),i("div",Dc,[i("ul",null,[(d(!0),h(N,null,Q(e.data,T=>(d(),h("li",{key:T.id},[i("a",{onClick:P=>e.clickViewActivity(T),class:"item-link item-content chevron-center"},[i("div",wc,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(T.imageUrls),width:"80"},null,8,Nc)]),i("div",Ac,[i("div",Tc,u(e.$utils.formatQRID(T.id)),1),i("div",Pc,[i("div",$c,u(T.title),1),Uc]),i("div",Sc,u(T.description),1),i("div",Rc,u(e.$utils.formatMoney(T.money)),1)])],8,Ec)]))),128))])])]),_:1}),n(E,{id:"view-card",opened:e.enablePopup,"onUpdate:opened":t[0]||(t[0]=T=>e.enablePopup=T),"tablet-fullscreen":!0},{default:s(()=>[n(y,null,{default:s(()=>[n(C,{title:"Chi ti\u1EBFt"},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{"popup-close":""},{default:s(()=>[xc]),_:1})]),_:1})]),_:1}),n(b,{isView:!1,id:e.selectedId,status:"QRID_STATUS.ACTIVE"},null,8,["id"]),n(m,{id:e.selectedId},null,8,["id"])]),_:1})]),_:1},8,["opened"])],64)}var Bc=S(yc,[["render",Oc]]);const Hc=G({components:{DetailQrid:vt,RecentHistory:mt,History:He,CardList:Bc},props:{f7route:Object,f7router:Object},data(){let e="admin",t="CARD_TYPE.PUBLIC_LOCATION",l=parseInt(this.f7route.params.id);return{name:e,title:"Th\u1EBB qu\u1EA3n l\xFD Ph\u1EA3n \xE1nh",enablePopup:!1,data:{title:e,cardType:t,status:"NOT_GENERATED",ownerName:"",ownerPhoneNumber:"",ownerAddress:"",metadata:{qrid:0,from:1,to:20,listIds:[]}},items:[],selectedId:0,item:{},id:l,privateCode:this.f7route.params.privateCode}},computed:{listIds(){if(this.id>0){let e=this.$utils.qrid_package(this.id),t=this.$utils.list_qrid(e,this.data.metadata.from,this.data.metadata.to);return this.data.metadata.listIds=t,console.log(t.toString()),t}else return[]},firstId(){let e=this.listIds[0];return e>0?this.$utils.formatQRID(e):""},lastId(){let e=this.listIds[this.listIds.length-1];return e>0?this.$utils.formatQRID(e):""}},methods:{async showItem(e){console.log("click showItem()"),this.selectedId=e.id,this.enablePopup=!0},async loadData(){try{let e=await this.$api.verifyCard(this.id,this.privateCode);e&&(e.status=="INVALID_PRIVATE"?(console.log(e),this.f7router.navigate("/")):e.status=="NOT_GENERATED"||(this.data=await this.$api.getQRID(this.id,this.privateCode)))}catch(e){}},async updateCard(){if(this.id){console.log("initData()",this.id,this.privateCode,this.data);let e=await this.$api.updateCard(this.id,this.privateCode,this.data);e&&(w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),this.data=e)}},async activeCard(){if(this.id){console.log("initData()",this.id,this.privateCode,this.data);let e=await this.$api.activeCard(this.id,this.privateCode,this.data);e&&(w.dialog.alert("K\xEDch hoat th\xE0nh c\xF4ng"),this.data=e)}},async initData(){console.log("initData()",this.id,this.privateCode,this.data);let e=await this.$api.initCard(this.id,this.privateCode,this.data);e&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng"),this.data=e)}},async mounted(){await this.loadData()}}),Qc=p("Thi\u1EBFt l\u1EADp Th\u1EBB"),Vc=p("Kh\u1EDFi t\u1EA1o"),Lc=p("B\u1ED9 ph\u1EADn qu\u1EA3n l\xFD"),zc=p("C\u1EADp nh\u1EADt"),qc=p("K\xEDch ho\u1EA1t"),Fc=p("Close");function Mc(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("recent-history"),v=a("card-list"),I=a("f7-card-header"),C=a("f7-list-input"),b=a("f7-col"),m=a("f7-row"),y=a("f7-list-item"),E=a("f7-button"),T=a("f7-list"),P=a("f7-card"),O=a("f7-card-content"),x=a("f7-link"),B=a("f7-nav-right"),H=a("detail-qrid"),$=a("history"),M=a("f7-page"),j=a("f7-popup");return d(),D(M,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(e.title),1)]),_:1})]),_:1}),e.data.status=="QRID_STATUS.ACTIVE"?(d(),D(g,{key:0,id:e.id,privateCode:e.privateCode},null,8,["id","privateCode"])):k("",!0),e.data.status=="QRID_STATUS.ACTIVE"?(d(),D(v,{key:1,id:e.id,privateCode:e.privateCode},null,8,["id","privateCode"])):k("",!0),e.data.status=="NOT_GENERATED"?(d(),D(P,{key:2},{default:s(()=>[n(I,null,{default:s(()=>[Qc]),_:1}),n(T,{"no-hairlines-md":""},{default:s(()=>[n(C,{outline:"",label:"CardType","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:e.data.cardType,"onUpdate:value":t[0]||(t[0]=Y=>e.data.cardType=Y)},null,8,["value"]),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(b,null,{default:s(()=>[n(C,{outline:"",label:"B\u1EAFt \u0111\u1EA7u","floating-label":"",type:"number",placeholder:"",pattern:"[0-9]*",value:e.data.metadata.from,"onUpdate:value":t[1]||(t[1]=Y=>e.data.metadata.from=Y)},null,8,["value"]),p(" "+u(e.firstId),1)]),_:1}),n(b,null,{default:s(()=>[n(C,{outline:"",label:"K\u1EBFt th\xFAc","floating-label":"",type:"number",placeholder:"",value:e.data.metadata.to,"onUpdate:value":t[2]||(t[2]=Y=>e.data.metadata.to=Y)},null,8,["value"]),p(" "+u(e.lastId),1)]),_:1})]),_:1})]),_:1}),n(y,null,{default:s(()=>[n(E,{fill:"",large:"",outline:"",onClick:t[3]||(t[3]=Y=>e.initData())},{default:s(()=>[Vc]),_:1})]),_:1})]),_:1})]),_:1})):(d(),D(P,{key:3},{default:s(()=>[n(I,{"bg-color":"blue"},{default:s(()=>[Lc]),_:1}),n(T,{"no-hairlines-md":""},{default:s(()=>[n(C,{type:"text",outline:"",label:"T\xEAn ng\u01B0\u1EDDi ph\u1EE5 tr\xE1ch","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.ownerName,"onUpdate:value":t[4]||(t[4]=Y=>e.data.ownerName=Y)},null,8,["value"]),n(C,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i",pattern:"[0-9]*","clear-button":"",value:e.data.ownerPhoneNumber,"onUpdate:value":t[5]||(t[5]=Y=>e.data.ownerPhoneNumber=Y)},null,8,["value"]),n(C,{outline:"",type:"textarea",label:"Ph\xF2ng l\xE0m vi\u1EC7c","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.ownerAddress,"onUpdate:value":t[6]||(t[6]=Y=>e.data.ownerAddress=Y)},null,8,["value"]),n(y,null,{default:s(()=>[e.data.status=="QRID_STATUS.ACTIVE"?(d(),D(E,{key:0,fill:"",large:"",outline:"",onClick:t[7]||(t[7]=Y=>e.updateCard())},{default:s(()=>[zc]),_:1})):(d(),D(E,{key:1,fill:"",large:"",outline:"",onClick:t[8]||(t[8]=Y=>e.activeCard())},{default:s(()=>[qc]),_:1}))]),_:1})]),_:1})]),_:1})),n(P,null,{default:s(()=>[n(I,null,{default:s(()=>[p("\u0110ang qu\u1EA3n l\xFD, gi\xE1m s\xE1t "+u(this.listIds.length)+" Th\u1EBB",1)]),_:1}),n(O,null,{default:s(()=>[n(T,null,{default:s(()=>[n(y,null,{default:s(()=>[p("T\u1EEB: "+u(e.firstId),1)]),_:1}),n(y,null,{default:s(()=>[p("\u0110\u1EBFn: "+u(e.lastId),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(j,{opened:e.enablePopup,"onUpdate:opened":t[9]||(t[9]=Y=>e.enablePopup=Y),"tablet-fullscreen":!0},{default:s(()=>[n(M,null,{default:s(()=>[n(f,{title:"Chi ti\u1EBFt"},{default:s(()=>[n(B,null,{default:s(()=>[n(x,{"popup-close":""},{default:s(()=>[Fc]),_:1})]),_:1})]),_:1}),n(H,{isView:!0,id:e.selectedId},null,8,["id"]),n($,{id:e.selectedId},null,8,["id"])]),_:1})]),_:1},8,["opened"])]),_:1})}var Gc=S(Hc,[["render",Mc]]);const Kc=G({name:"QrLogin",emits:["detect","warning"],props:{f7route:Object,f7router:Object},components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1,camera:"auto"}},methods:{async onDecode(e){console.log("onDecode",e),this.qrUrl=e,e&&e.toString().includes("www.qrcare.vn/m/")?(this.warning=!1,he.dispatch("scanQRCode",e),this.f7router.back()):this.warning=!0}}}),Yc=e=>(W("data-v-41e79232"),e=e(),X(),e),jc={class:"reader"},Jc={class:"center stream"},Wc=Yc(()=>i("div",{style:{color:"red"},class:"frame"},null,-1)),Xc=p("Th\u1EBB kh\xF4ng h\u1EE3p l\u1EC7"),Zc={style:{"word-wrap":"break-word"}};function eu(e,t,l,c,o,r){const _=a("f7-navbar"),f=a("qr-stream"),g=a("f7-block-title"),v=a("f7-block"),I=a("f7-page");return d(),D(I,null,{default:s(()=>[n(_,{title:"QRMember Scan","back-link":"Back"}),n(v,null,{default:s(()=>[i("div",jc,[i("div",null,[i("div",Jc,[n(f,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[Wc]),_:1},8,["onDecode"])])])]),n(v,{strong:""},{default:s(()=>[e.warning?(d(),D(g,{key:0},{default:s(()=>[Xc]),_:1})):k("",!0),i("div",Zc,u(e.qrUrl),1)]),_:1})]),_:1})]),_:1})}var Ct=S(Kc,[["render",eu],["__scopeId","data-v-41e79232"]]);const tu=G({props:{f7route:Object,f7router:Object},components:{QrScanOne:Ct},setup(){return{qrUrl:ye("qrUrl")}},data(){return{enablePopup:!1,customer:{},customers:[],name:"",note:"",qrid:this.f7route.params.id}},watch:{qrUrl(e){console.log("watch qrUrl",e),e&&this.detectURl(e)}},computed:{isPaid(){return this.customer&&this.customer.status?this.customer.status=="PAID":!1},enablePaidButton(){return this.qrUrl&&!this.isPaid}},methods:{scanCard(){this.f7router.navigate("/qrmemberscan")},async getQRCustomer(){var e=100010010970010,t=this.f7route.params.privateCode;let l=await this.$api.getQRCustomerBySale(e,t);this.customers=l.filter(c=>c.status=="PAID")},async detectURl(e){if(e&&e.includes("www.qrcare.vn")){e.includes("http")||(e="https://"+e);let t=new URL(e).pathname.split("/"),l=t[2],c=t[4],o=t[6];this.qrUrl=`${l}-${c}-${o}`,console.log("detectURl",t,this.qrUrl);let r=await this.$api.getQRCustomer(this.qrUrl);r?this.customer=r:(this.qrUrl="",w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t")),this.enablePopup=!1}},async Paid(){this.customer.name=this.name,this.customer.status="PAID",this.customer.modified=new Date().toISOString(),this.customer.history.unshift({type:"PAID",date:this.customer.modified}),this.customer.info={customerName:this.name,note:this.note,operator:this.qrid},await this.$api.updateQRCustomer(this.qrUrl,this.customer)&&(await this.getQRCustomer(),w.dialog.alert("X\xE1c nh\u1EADn th\xE0nh c\xF4ng!"))}},async mounted(){this.$utils.qrid_index(this.qrid),await this.getQRCustomer()}}),iu=p("Th\u1EBB Nh\xE2n vi\xEAn"),nu={class:"page-content"},ou=p("X\xE1c nh\u1EADn \u0110\u0103ng k\xFD"),su=p("Qu\xE9t Th\u1EBB"),au=i("div",null,"T\u01B0\u01A1ng t\xE1c g\u1EA7n nh\u1EA5t",-1),lu={key:0},ru={key:1},du=i("p",null," Sau khi x\xE1c nh\u1EADn, s\u1EBD c\u1EADp nh\u1EADt l\xEAn Th\u1EBB C\u1ED9ng t\xE1c",-1),cu=p("X\xE1c nh\u1EADn"),uu=p("Th\u1EBB \u0111\xE3 \u0111\u0103ng k\xFD (mua h\xE0ng)");function pu(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-button"),I=a("f7-card-content"),C=a("f7-card-footer"),b=a("f7-card"),m=a("f7-list-input"),y=a("f7-list"),E=a("f7-list-item"),T=a("f7-block"),P=a("f7-page");return d(),D(P,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[iu]),_:1})]),_:1}),i("div",nu,[n(b,null,{default:s(()=>[n(g,null,{default:s(()=>[ou]),_:1}),n(I,null,{default:s(()=>[n(v,{fill:"",large:"",onClick:t[0]||(t[0]=O=>e.scanCard())},{default:s(()=>[su]),_:1}),e.customer.qrUrl?(d(),D(b,{key:0},{default:s(()=>[n(g,null,{default:s(()=>[p("Th\u1EBB "+u(e.customer.qrUrl.substring(6)),1)]),_:1}),n(I,null,{default:s(()=>[i("div",null,"T\xEAn: "+u(e.customer.name),1),au,i("ul",null,[(d(!0),h(N,null,Q(e.customer.history.slice(0,3),O=>(d(),h("li",{key:O},u(e.$utils.formatDateTime(O.date))+" : "+u(e.$utils.actionText(O.type)),1))),128))])]),_:1}),n(C,null,{default:s(()=>[e.isPaid?(d(),h("div",ru,"Tr\u1EA1ng th\xE1i: \u0110\xE3 \u0111\u0103ng k\xFD")):(d(),h("div",lu,"Tr\u1EA1ng th\xE1i: Ch\u01B0a \u0110\u0103ng k\xFD"))]),_:1})]),_:1})):k("",!0),e.enablePaidButton?(d(),D(b,{key:1},{default:s(()=>[e.isPaid?k("",!0):(d(),D(y,{key:0,"no-hairlines-md":""},{default:s(()=>[n(m,{outline:"",label:"T\xEAn kh\xE1ch h\xE0ng","floating-label":"",type:"text",placeholder:"","clear-button":"",value:e.name,"onUpdate:value":t[1]||(t[1]=O=>e.name=O)},null,8,["value"]),n(m,{outline:"",label:"Ghi ch\xFA","floating-label":"",type:"textarea",placeholder:"","clear-button":"",value:e.note,"onUpdate:value":t[2]||(t[2]=O=>e.note=O)},null,8,["value"])]),_:1})),du,n(v,{fill:"",large:"",onClick:t[3]||(t[3]=O=>e.Paid())},{default:s(()=>[cu]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1}),n(b,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[uu]),_:1}),n(y,{"no-hairlines-md":"","media-list":""},{default:s(()=>[(d(!0),h(N,null,Q(e.customers,O=>(d(),D(E,{key:O.qrUrl,header:e.$utils.formatDateTime(O.modified),title:O.name||"Ch\u01B0a c\u1EADp nh\u1EADt",subtitle:"Id: "+O.qrUrl.substring(9)},null,8,["header","title","subtitle"]))),128))]),_:1})]),_:1}),n(T,null,{default:s(()=>[i("div",null,"ID c\u1EE7a Th\u1EBB : "+u(e.$utils.formatQRID(e.qrid)),1)]),_:1})])]),_:1})}var hu=S(tu,[["render",pu]]);const mu=G({props:{id:Number,privateCode:Number,initInfo:Object},data(){return{enablePopup:!1,info:{title:"",desc:"",imageUrl:"",icon:"",features:[{title:"ch\u01B0a c\u1EADp nh\u1EADt"}]},data:{}}},methods:{showDetail(){this.enablePopup=!0},async getData(){if(this.id>0){let e=await this.$api.getQRID(this.id,this.privateCode);e&&(this.data=e,e.title&&(this.info.title=e.title),e.description&&(this.info.desc=e.description),e.metadata&&e.metadata.features&&(this.info.features=e.metadata.features))}}},mounted(){this.initInfo&&this.initInfo.title&&(this.info=this.initInfo)}}),_u=i("i",{class:"f7-icons"},"pencil_circle",-1),fu={key:0},gu=p("Close"),vu=p(" Chi ti\u1EBFt gi\u1EA3i ph\xE1p ");function Cu(e,t,l,c,o,r){const _=a("f7-block-title"),f=a("f7-block-content"),g=a("f7-block-header"),v=a("f7-block"),I=a("f7-link"),C=a("f7-nav-right"),b=a("f7-navbar"),m=a("f7-card"),y=a("f7-page"),E=a("f7-popup");return d(),h(N,null,[n(v,null,{default:s(()=>[i("a",{onClick:t[0]||(t[0]=T=>e.showDetail())},[n(_,{medium:""},{default:s(()=>[p(u(e.info.title)+" ",1),_u]),_:1})]),n(f,null,{default:s(()=>[e.info.desc?(d(),h("p",fu,u(e.info.desc),1)):k("",!0)]),_:1}),n(g,null,{default:s(()=>[p("ID: "+u(e.id)+", M\xE3 ri\xEAng t\u01B0: "+u(e.privateCode),1)]),_:1})]),_:1}),n(E,{opened:e.enablePopup,"onUpdate:opened":t[1]||(t[1]=T=>e.enablePopup=T),"tablet-fullscreen":!0},{default:s(()=>[n(y,null,{default:s(()=>[n(b,{title:e.info.title},{default:s(()=>[n(C,null,{default:s(()=>[n(I,{"popup-close":""},{default:s(()=>[gu]),_:1})]),_:1})]),_:1},8,["title"]),n(m,null,{default:s(()=>[vu]),_:1})]),_:1})]),_:1},8,["opened"])],64)}var bu=S(mu,[["render",Cu]]);let te={propsShort:[{name:"email",type:"email",icon:"envelope",placeholder:"xxxxx@gmail.com"},{name:"zalo",type:"text",icon:"/assets/zalo.png",placeholder:"083xxxx phone number"},{name:"website",type:"url",icon:"link_circle",placeholder:"link of personal blog, profile"}],props:[{name:"address",type:"text",icon:"house",placeholder:"\u0110\u1ECBa ch\u1EC9"},{name:"email",type:"email",icon:"envelope",placeholder:""},{name:"website",type:"url",icon:"link_circle",placeholder:"link of personal blog, profile"},{name:"facebook",type:"url",icon:"logo_facebook",placeholder:"the url of your facebook"},{name:"skype",type:"text",icon:"/assets/skype.png",placeholder:"the url of your skype"},{name:"linkedin",type:"url",icon:"logo_linkedin",placeholder:"the url of your facebook"},{name:"zalo",type:"text",icon:"/assets/zalo.png",placeholder:"0... phone number"},{name:"twitter",type:"url",icon:"logo_twitter",placeholder:"the url of your twitter"},{name:"instagram",type:"url",icon:"logo_instagram",placeholder:"the url of your instagram"},{name:"whatsapp",type:"text",icon:"/assets/whatsapp.svg",placeholder:"84... full phone number in international format"},{name:"tiktok",type:"url",icon:"/assets/tiktok.png",placeholder:"the url of your tiktok"},{name:"telegram",type:"url",icon:"/assets/telegram.png",placeholder:"the url of your telegram"},{name:"messenger",type:"url",icon:"/assets/messenger.svg",placeholder:"enter the url"},{name:"line",type:"url",icon:"/assets/line.png",placeholder:"enter the url"},{name:"viber",type:"url",icon:"/assets/viber.svg",placeholder:"enter the url"},{name:"wechat",type:"url",icon:"/assets/wechat.svg",placeholder:"enter the url"}],payments:[{name:"momo",type:"url",icon:"/assets/momo.png",placeholder:"https://me.momo.vn/qr-page/..."}],ecommerce:[{name:"website",type:"url",icon:"link_circle",placeholder:"order link"},{name:"tiki",type:"url",icon:"/assets/tiki.png",placeholder:""},{name:"lazada",type:"url",icon:"/assets/lazada.png",placeholder:""},{name:"shopee",type:"url",icon:"/assets/shopee.png",placeholder:"https://shopee.vn/product/..."}],socialUrls:{facebook:"",skype:"",telegram:"",zalo:"",momo:"",shopee:"",lazada:"",tiki:"",qrcare:""},userInfo:[{name:"name",text:"T\xEAn g\u1ECDi",type:"text",icon:"house",placeholder:""},{name:"phoneNumber",text:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",type:"text",icon:"house",placeholder:""},{name:"desc",text:"M\xF4 t\u1EA3",type:"text",icon:"house",placeholder:"house"},{name:"meeting",text:"N\u1ED9i dung trao \u0111\u1ED5i",type:"text",icon:"house",placeholder:""},{name:"time",text:"Ng\xE0y g\u1EB7p",type:"date"}],vCard:{photo:"",firstName:"",middleName:"",lastName:"",organization:"",title:"",note:"",nickname:"",namePrefix:"",nameSuffix:"",gender:"",workPhone:"",homePhone:"",cellPhone:"",email:"",workEmail:"",socialUrls:"",facebook:"",zalo:"",linkedIn:"",twitter:"",momo:""},person:{label:"",firstName:"",lastName:"",email:"",phone:"",address:"",profileUrl:""},company:{enable:!1,name:"",shortName:"",address:"",personTitle:"",title:"",category:"",introduction:{enable:!1,title:"",content:""}},iShop:{enable:!1,name:"",shortName:"",address:"",personTitle:"",title:"",category:"",introduction:{enable:!1,title:"",content:""}}};const Iu={emits:["updateData"],props:{data:{type:Object,default(e){return{}}},view:{type:Boolean,default:!1}},data(){return{model:[{name:"name",text:"T\xEAn c\u1EE7a kh\xE1ch h\xE0ng",type:"text",icon:"house",placeholder:"anh/ch\u1ECB ..."},{name:"phoneNumber",text:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",type:"text",icon:"phone",placeholder:""},{name:"meeting",text:"Ghi ch\xFA v\u1EC1 kh\xE1ch h\xE0ng",type:"text",icon:"square_pencil",placeholder:""}],isView:!0}},watch:{data(e){e&&e.name?this.isView=!0:this.isView=!1}},methods:{enableEdit(){this.isView=!1},updateData(){this.$emit("updateData",this.data),this.isView=!0}}},yu={class:"block"},ku=i("div",{class:"block-title",style:{"text-align":"center"}},"M\xF4 t\u1EA3 kh\xE1ch h\xE0ng",-1),Du={key:0,class:"list no-hairlines-md"},Eu={class:"item-media"},wu={class:"f7-icons size-40"},Nu={class:"item-inner"},Au={class:"item-title"},Tu={key:1,class:"list no-hairlines-md"},Pu={class:"item-media"},$u={class:"f7-icons size-40"},Uu={class:"item-inner"},Su={class:"item-title item-label"},Ru={class:"item-input-wrap"},xu=["type","placeholder","onUpdate:modelValue"],Ou=i("span",{class:"input-clear-button"},null,-1),Bu={class:"row",style:{"padding-top":"20px","padding-bottom":"20px"}},Hu=i("div",{class:"col-20"},null,-1),Qu={class:"col"},Vu=i("div",{class:"col-20"},null,-1);function Lu(e,t,l,c,o,r){return d(),h("div",yu,[ku,o.isView?(d(),h("div",Du,[i("ul",null,[(d(!0),h(N,null,Q(o.model,_=>(d(),h("li",{class:"item-content item-input",key:_.name},[i("div",Eu,[i("i",wu,u(_.icon),1)]),i("div",Nu,[i("div",Au,u(l.data[_.name]),1)])]))),128))])])):(d(),h("div",Tu,[i("ul",null,[(d(!0),h(N,null,Q(o.model,_=>(d(),h("li",{class:"item-content item-input",key:_.name},[i("div",Pu,[i("i",$u,u(_.icon),1)]),i("div",Uu,[i("div",Su,u(_.text),1),i("div",Ru,[A(i("input",{type:_.type,placeholder:_.placeholder,"onUpdate:modelValue":f=>l.data[_.name]=f},null,8,xu),[[zt,l.data[_.name]]]),Ou])])]))),128))])])),i("div",Bu,[Hu,i("div",Qu,[o.isView?(d(),h("button",{key:0,class:"button button-large button-round button-fill",onClick:t[0]||(t[0]=_=>r.enableEdit())},"Edit")):(d(),h("button",{key:1,class:"button button-large button-round button-fill",onClick:t[1]||(t[1]=_=>r.updateData())},"Save"))]),Vu])])}var zu=S(Iu,[["render",Lu]]);const qu={components:{UserInfo:zu},props:{qrid:String,privateCode:String},emits:["selected"],data(){return{isLoading:!1,items:[],selectedId:0,item:{},actionHistory:[],userInfo:{},popupOpened:!1,filters:{},searchQuery:"",datasets:[],deviceDatasets:[]}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{qrid:"loadData"},methods:{closeItem(){this.popupOpened=!1},selected(e){console.log("a",e),this.selectedId=e,this.loadDetail(),this.popupOpened=!0},async loadDetail(){this.userInfo={},this.item=await this.$api.UserDeviceAction(this.qrid,this.privateCode,this.selectedId),this.actionHistory=this.item.actionHistory,this.item.userInfo&&(this.userInfo=this.item.userInfo)},async updateUserInfo(e){console.log("updateUserInfo",e),e&&e.name&&await this.$api.updateUserInfo(this.qrid,this.privateCode,this.item.id,e)&&w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u.")},async refreshData(){this.items=[],await this.loadData()},async loadData(){this.qrid>0&&(this.isLoading=!0,this.items=await this.$api.UserActionHistory(this.qrid,this.privateCode),this.isLoading=!1,this.interactiveSets())},interactiveSets(){if(this.items){let e=0,t=0,l=0,c=0,o=0,r=0,_=0;this.items.forEach(f=>{console.log(f),f.lastAction&&(f.lastAction.type=="NFC"&&e++,f.lastAction.type=="SCAN"&&t++,f.lastAction.type=="CLICK"&&l++,f.lastAction.type=="LINK"&&c++),f.deviceInfo&&(f.deviceInfo.os=="ios"?o++:f.deviceInfo.os=="android"?r++:_++)}),this.deviceDatasets=[{label:"iOS",value:o,color:"#0f0"},{label:"android",value:r,color:"#00f"},{label:"Others",value:_,color:"#f00"}],this.datasets=[{label:"NFC Taps",value:e,color:"#ff0"},{label:"qrcode Scans",value:t,color:"#0f0"},{label:"link Clicks",value:c,color:"#00f"},{label:"url Clicks",value:l,color:"#00f"}]}},logoOS(e){if(e&&e.deviceInfo){let t=e.deviceInfo.os;return this.$utils.getLogoOS(t)}},actionInfo(e){if(e){let t="";return e.os&&(t+=e.os),e.osVersion&&(t+=" "+e.osVersion),t}},content(e){if(e)return e.title+`
`+e.content},addNote(){w.dialog.alert("Li\xEAn h\u1EC7 \u0111\u1EC3 \u0111\u01B0\u1EE3c t\u01B0 v\u1EA5n v\xE0 k\xEDch ho\u1EA1t s\u1EED d\u1EE5ng","T\xEDnh n\u0103ng cho Doanh nghi\u1EC7p")}},async mounted(){await this.loadData()}},Fu=p("Th\u1ED1ng k\xEA (Summary) "),Mu={class:"row"},Gu={class:"card-header"},Ku=i("div",{class:"card-header"},"T\u01B0\u01A1ng t\xE1c",-1),Yu=p(" L\u1ECBch s\u1EED t\u01B0\u01A1ng t\xE1c"),ju=p(" L\xE0 nh\u1EEFng h\xE0nh \u0111\u1ED9ng c\u1EE7a kh\xE1ch h\xE0ng nh\u01B0 ch\u1EA1m NFC, qu\xE9t qrcode, l\u01B0u danh b\u1EA1, click v\xE0o link,... "),Ju={class:"row"},Wu=i("div",{class:"col-20"},null,-1),Xu={class:"col"},Zu=i("div",{class:"col-20"},null,-1),ep={class:"list media-list"},tp=["onClick"],ip={class:"item-media"},np={class:"f7-icons",style:{"font-size":"35px"}},op={class:"item-inner"},sp={class:"item-title-row"},ap={class:"item-header"},lp={class:"item-after"},rp={key:0,class:"item-title"},dp={class:"item-text"},cp=p(" Thi\u1EBFt b\u1ECB "),up=p("Close"),pp={class:"card"},hp={class:"card-header bg-color-blue"},mp={class:"f7-icons",style:{"font-size":"35px: padding-right:40px"}},_p=p("T\u01B0\u01A1ng t\xE1c g\u1EA7n \u0111\xE2y "),fp=p(" C\xE0ng nhi\u1EC1u t\u01B0\u01A1ng t\xE1c, k\xE9o d\xE0i trong nhi\u1EC1u ng\xE0y c\xE0ng th\u1EC3 hi\u1EC7n s\u1EF1 quan t\xE2m c\u1EE7a Kh\xE1ch h\xE0ng "),gp={class:"card-content"},vp={class:"list media-list"},Cp={class:"item-content"},bp={class:"item-media"},Ip=["src"],yp={key:1,class:"f7-icons",style:{"font-size":"40px"}},kp={class:"item-inner"},Dp={class:"item-title-row"},Ep={class:"item-header"},wp={class:"item-text"};function Np(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-pie-chart"),g=a("f7-row"),v=a("f7-block"),I=a("f7-block-header"),C=a("f7-card"),b=a("f7-link"),m=a("f7-nav-right"),y=a("f7-navbar"),E=a("f7-page"),T=a("f7-popup");return d(),h(N,null,[n(v,null,{default:s(()=>[n(_,{"bg-color":"green"},{default:s(()=>[Fu]),_:1}),i("div",Mu,[n(v,{class:"col-50"},{default:s(()=>[i("div",Gu,u(o.items.length)+" Devices ",1),n(g,null,{default:s(()=>[n(f,{tooltip:"",datasets:o.deviceDatasets},null,8,["datasets"])]),_:1}),(d(!0),h(N,null,Q(o.deviceDatasets,P=>(d(),D(g,{key:P.label},{default:s(()=>[p(u(P.label)+": "+u(P.value),1)]),_:2},1024))),128))]),_:1}),n(v,{class:"col-50"},{default:s(()=>[Ku,n(g,null,{default:s(()=>[n(f,{tooltip:"",datasets:o.datasets},null,8,["datasets"])]),_:1}),(d(!0),h(N,null,Q(o.datasets,P=>(d(),D(g,{key:P.label},{default:s(()=>[p(u(P.label)+": "+u(P.value),1)]),_:2},1024))),128))]),_:1})])]),_:1}),n(C,null,{default:s(()=>[n(_,{"bg-color":"blue"},{default:s(()=>[Yu]),_:1}),n(I,null,{default:s(()=>[ju]),_:1}),i("div",Ju,[Wu,i("div",Xu,[i("button",{class:"button button-large button-round button-fill color-green",onClick:t[0]||(t[0]=P=>r.refreshData())},"Refresh")]),Zu]),i("div",ep,[i("ul",null,[(d(!0),h(N,null,Q(o.items,P=>(d(),h("li",{key:P.id},[i("a",{onClick:O=>r.selected(P.id),class:"item-link item-content chevron-center"},[i("div",ip,[i("i",np,u(r.logoOS(P)),1)]),i("div",op,[i("div",sp,[i("div",ap,u(e.$utils.actionMessage(P.lastAction.type,P.lastAction.time)),1),i("div",lp,u(P.lastAction.totalActions),1)]),P.userInfo?(d(),h("div",rp,u(P.userInfo.name),1)):k("",!0),i("div",dp,[cp,i("span",null,u(P.deviceCode),1),p(" \u0111\xE3 t\u01B0\u01A1ng t\xE1c "+u(P.lastAction.totalActions)+" l\u1EA7n, "+u(r.actionInfo(P.deviceInfo)),1)])])],8,tp)]))),128))])])]),_:1}),n(T,{opened:o.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[n(E,null,{default:s(()=>[n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(b,{onClick:t[1]||(t[1]=P=>r.closeItem())},{default:s(()=>[up]),_:1})]),_:1})]),_:1}),i("div",pp,[i("div",hp,[i("i",mp,u(r.logoOS(o.item)),1),p("M\xE3 thi\u1EBFt b\u1ECB: "+u(o.item.deviceCode),1)]),n(_,{"bg-color":"blue"},{default:s(()=>[_p]),_:1}),n(I,null,{default:s(()=>[fp]),_:1}),i("div",gp,[i("div",vp,[i("ul",null,[(d(!0),h(N,null,Q(o.actionHistory,P=>(d(),h("li",{key:P.id},[i("div",Cp,[i("div",bp,[P.type=="NFC"||P.type=="CLICK"?(d(),h("img",{key:0,src:e.$utils.actionIcon(P.type),width:"40"},null,8,Ip)):(d(),h("i",yp,u(e.$utils.actionIcon(P.type)),1))]),i("div",kp,[i("div",Dp,[i("div",Ep,u(e.$utils.actionMessage(P.type,P.time)),1)]),i("div",wp,u(P.data?P.data.title:""),1)])])]))),128))])])])])]),_:1})]),_:1},8,["opened"])],64)}var Qe=S(qu,[["render",Np]]);const Ap={props:{src:String,icon:Boolean,cropper:Boolean,cancelText:{type:String,default:"Cancel"},doneText:{type:String,default:"Done"},viewportType:{type:String,default:"circle"},viewportWidth:{type:Number,default:320},viewportHeight:{type:Number,default:320},cropWidth:{type:Number,default:320},cropHeight:{type:Number,default:320}},emits:["file"],setup(e,{emit:t}){const l=$e(null),c=({file:r,fileContent:_})=>{let f;function g(){f.setZoom(f._currentZoom)}const v=w.popup.create({backdrop:w.$(l.value).parents(".popup").length===0,content:`
            <div class="popup popup-avatar-picker popup-tablet-fullscreen theme-dark">
              <div class="view view-init">
                <div class="page">
                  <div class="popup-avatar-picker-image-crop"></div>
                  <div class="popup-avatar-picker-toolbar toolbar tabbar toolbar-bottom no-hairline no-shadow">
                    <div class="toolbar-inner">
                      <a href="#" class="link popup-close" data-popup=".popup-avatar-picker">${e.cancelText}</a>
                      <a href="#" class="link popup-avatar-picker-crop-image">${e.doneText}</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `.trim(),on:{open(){const I=ke.Croppie||ke;f=new I(v.$el.find(".popup-avatar-picker-image-crop")[0],{enableZoom:!0,enforceBoundary:!0,showZoomer:!0,enableExif:!0,viewport:{width:e.viewportWidth,height:e.viewportHeight,type:e.viewportType}}),f.bind({url:_,zoom:0}),v.$el.find("a.popup-avatar-picker-crop-image").on("click",()=>{f.result({type:"base64",size:{width:e.cropWidth,height:e.cropHeight},format:"png"}).then(C=>{t("file",{file:r,fileContent:C})}),v.close()}),w.on("resize",g)},closed(){w.off("resize",g),setTimeout(()=>{v.destroy(),f.destroy()},100)}}});v.open()};return{elRef:l,onFileChange:r=>{const _=r.target,f=_.files[0];if(f.type.indexOf("image")===0){const g=new window.FileReader;g.onload=v=>{e.cropper?(c({file:f,fileContent:v.target.result}),_.value=null):t("file",{file:f,fileContent:v.target.result})},g.readAsDataURL(f)}}}}},Tp=["src"],Pp=i("i",{class:"icon f7-icons if-not-md"},"camera_fill",-1),$p=i("i",{class:"icon f7-icons if-md"},"camera",-1);function Up(e,t,l,c,o,r){return d(),h("div",{class:"avatar-picker",ref:c.elRef},[l.src?(d(),h("img",{key:0,src:l.src},null,8,Tp)):k("",!0),i("label",null,[i("input",{type:"file",accept:"image/png,image/gif,image/jpeg",onChange:t[0]||(t[0]=(..._)=>c.onFileChange&&c.onFileChange(..._))},null,32),l.icon?(d(),h(N,{key:0},[Pp,$p],64)):k("",!0)]),Be(e.$slots,"default")],512)}var Ue=S(Ap,[["render",Up]]);const Sp={props:{src:String,icon:Boolean},computed:{imageUrl(){return this.src||""}}},Rp={class:"avatar-picker"},xp=["src"];function Op(e,t,l,c,o,r){return d(),h("div",Rp,[l.src?(d(),h("img",{key:0,src:l.src},null,8,xp)):k("",!0),Be(e.$slots,"default")])}var ge=S(Sp,[["render",Op]]);const Bp={name:"QRSALE",components:{ListPeople:gt,Slide:bu,UserActions:Qe,AvatarPicker:Ue,Avatar:ge},props:{f7route:Object,f7router:Object,id:Number,privateCode:String,isPopup:Boolean},emits:["closeItem"],setup(){},data(){let e={photo:"",firstName:"",middleName:"",lastName:"",organization:"",title:"",note:"",nickname:"",namePrefix:"",nameSuffix:"",gender:"",workPhone:"",homePhone:"",cellPhone:"",email:"",workEmail:"",facebook:"",zalo:"",linkedIn:"",twitter:"",momo:""},t={id:0,title:"Th\u1EBB Thi\u1EBFt l\u1EADp",cardType:"CARD_TYPE.COMPANY_NAMECARD",imageUrls:[],productId:0,supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{vcard:e}},l={title:"Danh thi\u1EBFp c\xF4ng ty 4.0",desc:"\xC1p d\u1EE5ng c\xF4ng ngh\u1EC7 4.0 \xE1p d\u1EE5ng cho Danh thi\u1EBFp, n\xE2ng t\u1EA7m Th\u01B0\u01A1ng hi\u1EC7u v\xE0 nhi\u1EC1u gi\xE1 tr\u1ECB c\u1ED1t l\xF5i c\u1EE7a Doanh nghi\u1EC7p",imageUrl:"",icon:"",features:[{title:"Ni\u1EC1m tin t\u1EEB kh\xE1ch h\xE0ng"},{title:"Chuy\xEAn nghi\u1EC7p trong Kinh doanh"},{title:"Uy t\xEDn c\u1EE7a nh\xE2n vi\xEAn"}]},c=te.socialUrls,o=te.props;return{item:t,vCard:e,payments:[],ecommerce:[],banks:[],bank:{tenNganHang:"",tenTaikhoan:"",soTaiKhoan:"",chinhanh:""},imageUrl:"",slide:l,actions:[],src:"https://apps.vinaas.com/file/tgs5EFo1O",urls:c,props:o,listPayments:te.payments,listEcommerce:te.ecommerce}},computed:{isActive(){return this.item.status=="QRID_STATUS.ACTIVE"||this.item.status=="ACTIVE"},getNFCUrl(){if(this.id>0&&this.privateCode.length>=4)return`https://www.ishowroom.vn/nfc/${this.id}/p/${this.privateCode.slice(0,4)}`},getQRCODEUrl(){if(this.id>0&&this.privateCode.length>=4)return`https://www.ishowroom.vn/n/${this.id}/p/${this.privateCode.slice(0,2)}`},discount(){return this.metadata&&this.metadata.discount?this.metadata.discount:{enable:!1}},isDemo(){return this.item.supportId==111||this.item.supportId=="888"},textChucDanh(){return this.isDemo?"m\u1ED9t ng\u01B0\u1EDDi b\u1EA1n...":"gi\xE1m \u0111\u1ED1c, ch\u1EE7 t\u1ECBch, tr\u01B0\u1EDFng ph\xF2ng,..."}},watch:{id:"getDeviceData"},methods:{copyNFC(){navigator.clipboard.writeText(this.getNFCUrl),w.dialog.alert("Success to clipboard","iCard")},copyURL(){if(this.id>0&&this.privateCode.length>=4){let e=`https://www.ishowroom.vn/url/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iCard")}},copyQRCODE(){if(this.id>0&&this.privateCode.length>=4){let e=`https://www.ishowroom.vn/n/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iCard")}},async onFile(e){const{file:t,fileContent:l}=e;console.log("bao"),console.log({file:t,fileContent:l});var c=this.dataURItoBlob(l);const o=new FormData;o.append("canvasImage",c);try{let r="https://media.vinaas.com/upload/qrcare-vn";const{data:_}=await this.$axios.post(r,o,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(_&&_.id){const f="https://apps.vinaas.com/file/"+_.id;this.imageUrl=f,this.item.imageUrls[0]=f}}catch(r){console.log("err",r)}finally{}},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var l=e.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(t.length),o=0;o<t.length;o++)c[o]=t.charCodeAt(o);return new Blob([c],{type:l})},closeItem(){this.$emit("closeItem")},async getDeviceData(){if(this.id<=0)return;let e=await this.$api.getQRID(this.id,this.privateCode);e&&(console.log("rs",e),this.item=e,this.item.metadata&&(this.vCard=this.item.metadata.vcard||{},this.payments=this.item.metadata.payments||{},this.ecommerce=this.item.metadata.ecommerce||{}),this.item.metadata||(this.item.metadata={}),this.item.metadata.introduction||(this.item.metadata.introduction={enable:!1,title:"",content:""}),this.item.imageUrls&&this.item.imageUrls[0]?this.imageUrl=this.item.imageUrls[0]:this.imageUrl="https://apps.vinaas.com/file/tgs5EFo1O",this.isPopup||this.$api.OwnerAction(this.id,this.privateCode))},syncData(){this.item.ownerName=this.vCard.lastName+" "+this.vCard.firstName,this.item.ownerPhoneNumber=this.vCard.homePhone},async updateData(){if(this.item.status=="NOT_GENERATED")return await this.initData();this.item.status="QRID_STATUS.ACTIVE",this.item.metadata.vcard=this.vCard,this.item.metadata.payments=this.payments,this.item.metadata.ecommerce=this.ecommerce,this.syncData(),await this.$api.updateQRSaleInfo(this.id,this.item,this.privateCode),w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u. ","iCard");var e=await this.$api.getVcard(this.id,this.privateCode.toString().substring(0,2));console.log("vCard",this.id,this.privateCode.toString().substring(0,2),e)},async initData(){console.log("initData()",this.id,this.privateCode,this.item);let e=await this.$api.initCard(this.id,this.privateCode,this.item);e&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng","iCard"),this.item=e)},updateItem(e){}},async mounted(){await this.getDeviceData()}},We=e=>(W("data-v-6960841f"),e=e(),X(),e),Hp=p("Thi\u1EBFt l\u1EADp - Setup"),Qp=p("Close"),Vp=We(()=>i("div",{style:{"text-align":"center"}},"Ch\u1ECDn h\xECnh danh thi\u1EBFp",-1)),Lp=p("Th\xF4ng tin c\xE1 nh\xE2n"),zp=p("Li\xEAn k\u1EBFt c\xE1 nh\xE2n"),qp={class:"list no-hairlines-md"},Fp={key:0,class:"item-media"},Mp=["src"],Gp={key:1,class:"item-media"},Kp={class:"f7-icons size-40"},Yp={class:"item-inner"},jp={class:"item-title item-label"},Jp={class:"item-input-wrap"},Wp=["placeholder","onUpdate:modelValue"],Xp=We(()=>i("span",{class:"input-clear-button"},null,-1)),Zp=p("Thanh to\xE1n c\xE1 nh\xE2n"),eh={class:"list no-hairlines-md"},th={key:0,class:"item-media"},ih=["src"],nh={key:1,class:"item-media"},oh={class:"f7-icons size-40"},sh={class:"item-inner"},ah={class:"item-title item-label"},lh={class:"item-input-wrap"},rh=["placeholder","onUpdate:modelValue"],dh=We(()=>i("span",{class:"input-clear-button"},null,-1)),ch=p("Hi\u1EC3n th\u1ECB N\u01A1i l\xE0m vi\u1EC7c"),uh=p("Gi\u1EDBi thi\u1EC7u "),ph=p("v\u1EC1 c\xF4ng vi\u1EC7c, s\u1EA3n ph\u1EA9m d\u1ECBch v\u1EE5 \u0111ang kinh doanh, d\u1EF1 \xE1n \u0111ang tham gia,... "),hh=p("C\u1EADp nh\u1EADt"),mh=p("Kh\u1EDFi t\u1EA1o"),_h=p("Copy link to setup or share"),fh=p("NFC"),gh=p("URL"),vh=p("QRCODE");function Ch(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("avatar-picker"),C=a("f7-card-header"),b=a("f7-list-input"),m=a("f7-list"),y=a("f7-block-title"),E=a("f7-card"),T=a("f7-toggle"),P=a("f7-card-content"),O=a("f7-block-header"),x=a("f7-text-editor"),B=a("f7-button"),H=a("f7-col"),$=a("f7-row"),M=a("f7-block"),j=a("user-actions"),Y=a("slide"),R=a("f7-page");return d(),D(R,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[Hp]),_:1}),l.isPopup?(d(),D(g,{key:0},{default:s(()=>[n(f,{onClick:t[0]||(t[0]=q=>r.closeItem())},{default:s(()=>[Qp]),_:1})]),_:1})):k("",!0)]),_:1}),i("div",null,[n(I,{class:"avatar-center",src:o.imageUrl,icon:"",cropper:"",onFile:r.onFile},null,8,["src","onFile"]),Vp]),n(E,null,{default:s(()=>[n(C,{"bg-color":"green"},{default:s(()=>[Lp]),_:1}),n(m,{"no-hairlines-md":""},{default:s(()=>[i("li",null,[n(b,{type:"text",outline:"",label:"T\xEAn","floating-label":"",maxlength:"50",required:"","clear-button":"",value:o.vCard.firstName,"onUpdate:value":t[1]||(t[1]=q=>o.vCard.firstName=q)},null,8,["value"]),n(b,{type:"text",outline:"",label:"H\u1ECD (tu\u1EF3 ch\u1ECDn)","floating-label":"",info:"kh\xF4ng nh\u1EADp c\u0169ng \u0111\u01B0\u1EE3c",maxlength:"50","clear-button":"",value:o.vCard.lastName,"onUpdate:value":t[2]||(t[2]=q=>o.vCard.lastName=q)},null,8,["value"])]),n(b,{outline:"",type:"text",label:"Chuy\xEAn m\xF4n | Ch\u1EE9c danh (t\u1EF1 phong)","floating-label":"",resizable:"",placeholder:"m\u1ED9t ng\u01B0\u1EDDi b\u1EA1n",info:r.textChucDanh,maxlength:"50","clear-button":"",value:o.vCard.title,"onUpdate:value":t[3]||(t[3]=q=>o.vCard.title=q)},null,8,["info","value"]),n(b,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i c\xE1 nh\xE2n","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:o.vCard.homePhone,"onUpdate:value":t[4]||(t[4]=q=>o.vCard.homePhone=q)},null,8,["value"])]),_:1}),n(y,null,{default:s(()=>[zp]),_:1}),i("div",qp,[i("ul",null,[(d(!0),h(N,null,Q(o.props,q=>(d(),h("li",{class:"item-content item-input",key:q.name},[q.icon.includes(".")?(d(),h("div",Fp,[i("img",{src:q.icon,width:"30"},null,8,Mp)])):(d(),h("div",Gp,[i("i",Kp,u(q.icon),1)])),i("div",Yp,[i("div",jp,u(q.name),1),i("div",Jp,[A(i("input",{type:"text",placeholder:q.placeholder,"onUpdate:modelValue":Z=>o.vCard[q.name]=Z},null,8,Wp),[[V,o.vCard[q.name]]]),Xp])])]))),128))])]),n(y,null,{default:s(()=>[Zp]),_:1}),i("div",eh,[i("ul",null,[(d(!0),h(N,null,Q(o.listPayments,q=>(d(),h("li",{class:"item-content item-input",key:q.name},[q.icon.includes(".")?(d(),h("div",th,[i("img",{src:q.icon,width:"30"},null,8,ih)])):(d(),h("div",nh,[i("i",oh,u(q.icon),1)])),i("div",sh,[i("div",ah,u(q.name),1),i("div",lh,[A(i("input",{type:"text",placeholder:q.placeholder,"onUpdate:modelValue":Z=>o.payments[q.name]=Z},null,8,rh),[[V,o.payments[q.name]]]),dh])])]))),128))])]),k("",!0)]),_:1}),e.$utils.isOrganization(o.item)?(d(),D(E,{key:0},{default:s(()=>[n(C,{"bg-color":"blue"},{default:s(()=>[ch,n(T,{checked:o.item.metadata.company.enable,"onUpdate:checked":t[5]||(t[5]=q=>o.item.metadata.company.enable=q)},null,8,["checked"])]),_:1}),n(P,null,{default:s(()=>[A(n(m,{"no-hairlines-md":""},{default:s(()=>[n(b,{outline:"",type:"text",label:"T\xEAn c\xF4ng ty","floating-label":"",resizable:"",maxlength:"100","clear-button":"",value:o.item.metadata.company.name,"onUpdate:value":t[6]||(t[6]=q=>o.item.metadata.company.name=q)},null,8,["value"]),n(b,{outline:"",type:"text",label:"\u0110\u1ECBa ch\u1EC9 l\xE0m vi\u1EC7c","floating-label":"",resizable:"",maxlength:"200","clear-button":"",value:o.item.metadata.company.address,"onUpdate:value":t[7]||(t[7]=q=>o.item.metadata.company.address=q)},null,8,["value"]),n(b,{outline:"",type:"text",label:"Ch\u1EE9c danh","floating-label":"",resizable:"",maxlength:"100","clear-button":"",value:o.item.metadata.company.title,"onUpdate:value":t[8]||(t[8]=q=>o.item.metadata.company.title=q)},null,8,["value"]),n(b,{outline:"",type:"email",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i c\xF4ng ty ","floating-label":"",resizable:"",maxlength:"100","clear-button":"",value:o.vCard.workPhone,"onUpdate:value":t[9]||(t[9]=q=>o.vCard.workPhone=q)},null,8,["value"]),n(b,{outline:"",type:"email",label:"Email c\xF4ng ty ","floating-label":"",resizable:"",maxlength:"100","clear-button":"",value:o.vCard.workEmail,"onUpdate:value":t[10]||(t[10]=q=>o.vCard.workEmail=q)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.company.enable]])]),_:1})]),_:1})):k("",!0),n(E,null,{default:s(()=>[n(C,{"bg-color":"blue"},{default:s(()=>[uh,n(T,{checked:o.item.metadata.introduction.enable,"onUpdate:checked":t[11]||(t[11]=q=>o.item.metadata.introduction.enable=q)},null,8,["checked"])]),_:1}),n(P,null,{default:s(()=>[A(n(m,{"no-hairlines-md":""},{default:s(()=>[n(b,{outline:"",type:"text",label:"C\xF4ng vi\u1EC7c hi\u1EC7n t\u1EA1i","floating-label":"",resizable:"",maxlength:"50","clear-button":"",value:o.item.metadata.introduction.title,"onUpdate:value":t[12]||(t[12]=q=>o.item.metadata.introduction.title=q)},null,8,["value"]),n(O,null,{default:s(()=>[ph]),_:1}),n(x,{placeholder:"Enter text...",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h3","h4"],["image"]],value:o.item.metadata.introduction.content,"onTexteditor:change":t[13]||(t[13]=q=>o.item.metadata.introduction.content=q)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.introduction.enable]])]),_:1})]),_:1}),n(M,null,{default:s(()=>[n($,null,{default:s(()=>[n(H,{width:"100"},{default:s(()=>[r.isActive?(d(),D(B,{key:0,fill:"",round:"",large:"",onClick:t[14]||(t[14]=q=>r.updateData())},{default:s(()=>[hh]),_:1})):(d(),D(B,{key:1,fill:"",round:"",large:"",onClick:t[15]||(t[15]=q=>r.updateData())},{default:s(()=>[mh]),_:1}))]),_:1})]),_:1})]),_:1}),n(M,null,{default:s(()=>[n(O,null,{default:s(()=>[_h]),_:1}),n($,null,{default:s(()=>[n(H,null,{default:s(()=>[r.getNFCUrl?(d(),D(B,{key:0,large:"",onClick:t[16]||(t[16]=q=>r.copyNFC())},{default:s(()=>[fh]),_:1})):k("",!0)]),_:1}),n(H,null,{default:s(()=>[r.getNFCUrl?(d(),D(B,{key:0,large:"",onClick:t[17]||(t[17]=q=>r.copyURL())},{default:s(()=>[gh]),_:1})):k("",!0)]),_:1}),n(H,null,{default:s(()=>[r.getNFCUrl?(d(),D(B,{key:0,large:"",onClick:t[18]||(t[18]=q=>r.copyQRCODE())},{default:s(()=>[vh]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1}),r.isActive?(d(),D(j,{key:1,qrid:l.id,privateCode:l.privateCode},null,8,["qrid","privateCode"])):k("",!0),n(Y,{id:100010010960005,privateCode:122131,initInfo:o.slide},null,8,["initInfo"])]),_:1})}var bh=S(Bp,[["render",Ch],["__scopeId","data-v-6960841f"]]);const Ih={emit:["save"],components:{contenteditable:at},props:{text:String},data(){return{isEditable:!0,message:"hello"}},methods:{enterPressed(){alert("Enter Pressed"),console.log("message",this.message),this.$emit("save",this.message)},save(){this.$emit("save",this.message)}},mounted(){this.message=this.text}},yh=e=>(W("data-v-94c152e2"),e=e(),X(),e),kh={key:0,class:"content-edit"},Dh=yh(()=>i("i",{class:"icon f7-icons size-22"},"checkmark",-1)),Eh=[Dh];function wh(e,t,l,c,o,r){const _=a("contenteditable");return d(),h(N,null,[n(_,{class:"block block-title",tag:"div",contenteditable:o.isEditable,modelValue:o.message,"onUpdate:modelValue":t[0]||(t[0]=f=>o.message=f),noHTML:!0,onReturned:r.enterPressed},null,8,["contenteditable","modelValue","onReturned"]),l.text!=o.message?(d(),h("div",kh,[i("a",{onClick:t[1]||(t[1]=f=>r.save())},Eh)])):k("",!0)],64)}var Nh=S(Ih,[["render",wh],["__scopeId","data-v-94c152e2"]]);const Ah={emit:["save"],components:{contenteditable:at},props:{text:String},data(){return{isEditable:!0,message:"hello"}},methods:{enterPressed(){alert("Enter Pressed"),console.log("message",this.message),this.$emit("save",this.message)},save(){this.$emit("save",this.message)}},mounted(){this.message=this.text}},Th=e=>(W("data-v-2eb5ca4e"),e=e(),X(),e),Ph={key:0,class:"content-edit"},$h=Th(()=>i("i",{class:"icon f7-icons size-20"},"checkmark",-1)),Uh=[$h];function Sh(e,t,l,c,o,r){const _=a("contenteditable");return d(),h(N,null,[n(_,{tag:"textarea",contenteditable:o.isEditable,modelValue:o.message,"onUpdate:modelValue":t[0]||(t[0]=f=>o.message=f),noNL:!0,noHTML:!0,onReturned:r.enterPressed},null,8,["contenteditable","modelValue","onReturned"]),l.text!=o.message?(d(),h("div",Ph,[i("a",{onClick:t[1]||(t[1]=f=>r.save())},Uh)])):k("",!0)],64)}var Rh=S(Ah,[["render",Sh],["__scopeId","data-v-2eb5ca4e"]]);const xh={props:{src:String,icon:Boolean,cropper:Boolean,cancelText:{type:String,default:"Cancel"},doneText:{type:String,default:"Done"},viewportType:{type:String,default:"circle"},viewportWidth:{type:Number,default:320},viewportHeight:{type:Number,default:320},cropWidth:{type:Number,default:800},cropHeight:{type:Number,default:800}},emits:["file"],setup(e,{emit:t}){const l=$e(null),c=({file:r,fileContent:_})=>{let f;function g(){f.setZoom(f._currentZoom)}const v=w.popup.create({backdrop:w.$(l.value).parents(".popup").length===0,content:`
            <div class="popup popup-avatar-picker popup-tablet-fullscreen theme-dark">
              <div class="view view-init">
                <div class="page">
                  <div class="popup-avatar-picker-image-crop"></div>
                  <div class="popup-avatar-picker-toolbar toolbar tabbar toolbar-bottom no-hairline no-shadow">
                    <div class="toolbar-inner">
                      <a href="#" class="link popup-close" data-popup=".popup-avatar-picker">${e.cancelText}</a>
                      <a href="#" class="link popup-avatar-picker-crop-image">${e.doneText}</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `.trim(),on:{open(){const I=ke.Croppie||ke;f=new I(v.$el.find(".popup-avatar-picker-image-crop")[0],{enableZoom:!0,enforceBoundary:!0,showZoomer:!0,enableExif:!0,viewport:{width:e.viewportWidth,height:e.viewportHeight,type:e.viewportType}}),f.bind({url:_,zoom:0}),v.$el.find("a.popup-avatar-picker-crop-image").on("click",()=>{f.result({type:"base64",size:{width:e.cropWidth,height:e.cropHeight},format:"png"}).then(C=>{t("file",{file:r,fileContent:C})}),v.close()}),w.on("resize",g)},closed(){w.off("resize",g),setTimeout(()=>{v.destroy(),f.destroy()},100)}}});v.open()};return{elRef:l,onFileChange:r=>{const _=r.target,f=_.files[0];if(f.type.indexOf("image")===0){const g=new window.FileReader;g.onload=v=>{e.cropper?(c({file:f,fileContent:v.target.result}),_.value=null):t("file",{file:f,fileContent:v.target.result})},g.readAsDataURL(f)}}}}},Oh=i("i",{class:"icon f7-icons if-not-md"},"camera_fill",-1),Bh=i("i",{class:"icon f7-icons if-md"},"camera",-1);function Hh(e,t,l,c,o,r){return d(),h("div",{class:"avatar-picker",ref:c.elRef},[i("label",null,[i("input",{type:"file",accept:"image/png,image/gif,image/jpeg",onChange:t[0]||(t[0]=(..._)=>c.onFileChange&&c.onFileChange(..._))},null,32),l.icon?(d(),h(N,{key:0},[Oh,Bh],64)):k("",!0)]),Be(e.$slots,"default")],512)}var Se=S(xh,[["render",Hh]]);const Qh={emits:["updated"],props:{id:String,btnText:{type:String,default:"Click to View"},bannerUrl:{type:String,default:"/icons/512x512.png"},content:String,isView:{type:Boolean,default:!1}},data(){return{enablePopup:!1,data:{id:-1,title:"",subTitle:"",imageUrl:"",content:""},button:{enable:!1,text:"Click",url:""}}},methods:{closePopup(){this.enablePopup=!1},showPopup(){this.data.id=this.id,this.enablePopup=!0},save(){this.$emit("updated",this.data),this.enablePopup=!1},onFile(){}}},Re=e=>(W("data-v-3f62419c"),e=e(),X(),e),Vh=p("Close"),Lh=["src"],zh={class:"content-edit"},qh={class:"block list"},Fh={class:"item-content item-input"},Mh={class:"block"},Gh=Re(()=>i("div",{class:"block-title"},"Button Chuy\u1EC3n Trang",-1)),Kh={class:"list"},Yh={class:"item-content item-input"},jh={class:"item-inner"},Jh=Re(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),Wh={class:"item-input-wrap"},Xh=Re(()=>i("span",{class:"input-clear-button"},null,-1)),Zh={class:"item-content item-input"},em={class:"item-inner"},tm=Re(()=>i("div",{class:"item-title item-label"},"Url \u0111\u1EC3 chuy\u1EC3n trang",-1)),im={class:"item-input-wrap"},nm=Re(()=>i("span",{class:"input-clear-button"},null,-1));function om(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("image-picker"),C=a("f7-text-editor"),b=a("f7-page"),m=a("f7-popup");return d(),h(N,null,[n(_,{round:"",fill:"",col:"",onClick:t[0]||(t[0]=y=>r.showPopup())},{default:s(()=>[p(u(l.btnText),1)]),_:1}),n(m,{id:"istand-right-bottom-button",opened:o.enablePopup,"onUpdate:opened":t[6]||(t[6]=y=>o.enablePopup=y)},{default:s(()=>[n(b,null,{default:s(()=>[n(v,{title:"Popup Details"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=y=>r.closePopup())},{default:s(()=>[Vh]),_:1})]),_:1})]),_:1}),i("div",null,[i("img",{src:l.bannerUrl,style:{"max-width":"100%",height:"auto"}},null,8,Lh),i("div",zh,[n(I,{icon:"",onFile:r.onFile},null,8,["onFile"])])]),i("div",qh,[i("ul",null,[i("li",Fh,[n(C,{placeholder:"Content",value:o.data.content,"onTexteditor:change":t[2]||(t[2]=y=>o.data.content=y)},null,8,["value"])])])]),i("div",Mh,[Gh,i("div",Kh,[i("ul",null,[i("li",Yh,[i("div",jh,[Jh,i("div",Wh,[A(i("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=y=>o.button.text=y)},null,512),[[V,o.button.text]]),Xh])])]),i("li",Zh,[i("div",em,[tm,i("div",im,[A(i("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=y=>o.button.url=y),placeholder:"http(s)://"},null,512),[[V,o.button.url]]),nm])])])])])]),i("button",{class:"button button-large",onClick:t[5]||(t[5]=y=>r.save())}," Save & Close ")]),_:1})]),_:1},8,["opened"])],64)}var sm=S(Qh,[["render",om],["__scopeId","data-v-3f62419c"]]);let am={code:"00",desc:"Get Bank list successful! Total 55 banks",data:[{id:17,name:"Ng\xE2n h\xE0ng TMCP C\xF4ng th\u01B0\u01A1ng Vi\u1EC7t Nam",code:"ICB",bin:"970415",shortName:"VietinBank",logo:"https://api.vietqr.io/img/ICB.png",transferSupported:1,lookupSupported:1,short_name:"VietinBank",support:3,isTransfer:1,swift_code:"ICBVVNVX"},{id:43,name:"Ng\xE2n ha\u0300ng TMCP Ngoa\u0323i Th\u01B0\u01A1ng Vi\xEA\u0323t Nam",code:"VCB",bin:"970436",shortName:"Vietcombank",logo:"https://api.vietqr.io/img/VCB.png",transferSupported:1,lookupSupported:1,short_name:"Vietcombank",support:3,isTransfer:1,swift_code:"BFTVVNVX"},{id:4,name:"Ng\xE2n h\xE0ng TMCP \u0110\u1EA7u t\u01B0 v\xE0 Ph\xE1t tri\u1EC3n Vi\u1EC7t Nam",code:"BIDV",bin:"970418",shortName:"BIDV",logo:"https://api.vietqr.io/img/BIDV.png",transferSupported:1,lookupSupported:1,short_name:"BIDV",support:3,isTransfer:1,swift_code:"BIDVVNVX"},{id:42,name:"Ng\xE2n h\xE0ng N\xF4ng nghi\u1EC7p v\xE0 Ph\xE1t tri\u1EC3n N\xF4ng th\xF4n Vi\u1EC7t Nam",code:"VBA",bin:"970405",shortName:"Agribank",logo:"https://api.vietqr.io/img/VBA.png",transferSupported:1,lookupSupported:1,short_name:"Agribank",support:3,isTransfer:1,swift_code:"VBAAVNVX"},{id:26,name:"Ng\xE2n h\xE0ng TMCP Ph\u01B0\u01A1ng \u0110\xF4ng",code:"OCB",bin:"970448",shortName:"OCB",logo:"https://api.vietqr.io/img/OCB.png",transferSupported:1,lookupSupported:1,short_name:"OCB",support:3,isTransfer:1,swift_code:"ORCOVNVX"},{id:21,name:"Ng\xE2n h\xE0ng TMCP Qu\xE2n \u0111\u1ED9i",code:"MB",bin:"970422",shortName:"MBBank",logo:"https://api.vietqr.io/img/MB.png",transferSupported:1,lookupSupported:1,short_name:"MBBank",support:3,isTransfer:1,swift_code:"MSCBVNVX"},{id:38,name:"Ng\xE2n h\xE0ng TMCP K\u1EF9 th\u01B0\u01A1ng Vi\u1EC7t Nam",code:"TCB",bin:"970407",shortName:"Techcombank",logo:"https://api.vietqr.io/img/TCB.png",transferSupported:1,lookupSupported:1,short_name:"Techcombank",support:3,isTransfer:1,swift_code:"VTCBVNVX"},{id:2,name:"Ng\xE2n h\xE0ng TMCP \xC1 Ch\xE2u",code:"ACB",bin:"970416",shortName:"ACB",logo:"https://api.vietqr.io/img/ACB.png",transferSupported:1,lookupSupported:1,short_name:"ACB",support:3,isTransfer:1,swift_code:"ASCBVNVX"},{id:47,name:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u1ECBnh V\u01B0\u1EE3ng",code:"VPB",bin:"970432",shortName:"VPBank",logo:"https://api.vietqr.io/img/VPB.png",transferSupported:1,lookupSupported:1,short_name:"VPBank",support:3,isTransfer:1,swift_code:"VPBKVNVX"},{id:39,name:"Ng\xE2n h\xE0ng TMCP Ti\xEAn Phong",code:"TPB",bin:"970423",shortName:"TPBank",logo:"https://api.vietqr.io/img/TPB.png",transferSupported:1,lookupSupported:1,short_name:"TPBank",support:3,isTransfer:1,swift_code:"TPBVVNVX"},{id:36,name:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n Th\u01B0\u01A1ng T\xEDn",code:"STB",bin:"970403",shortName:"Sacombank",logo:"https://api.vietqr.io/img/STB.png",transferSupported:1,lookupSupported:1,short_name:"Sacombank",support:3,isTransfer:1,swift_code:"SGTTVNVX"},{id:12,name:"Ng\xE2n h\xE0ng TMCP Ph\xE1t tri\u1EC3n Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh",code:"HDB",bin:"970437",shortName:"HDBank",logo:"https://api.vietqr.io/img/HDB.png",transferSupported:1,lookupSupported:1,short_name:"HDBank",support:3,isTransfer:1,swift_code:"HDBCVNVX"},{id:44,name:"Ng\xE2n ha\u0300ng TMCP Ba\u0309n Vi\xEA\u0323t",code:"VCCB",bin:"970454",shortName:"VietCapitalBank",logo:"https://api.vietqr.io/img/VCCB.png",transferSupported:1,lookupSupported:1,short_name:"VietCapitalBank",support:3,isTransfer:1,swift_code:"VCBCVNVX"},{id:31,name:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n",code:"SCB",bin:"970429",shortName:"SCB",logo:"https://api.vietqr.io/img/SCB.png",transferSupported:1,lookupSupported:1,short_name:"SCB",support:3,isTransfer:1,swift_code:"SACLVNVX"},{id:45,name:"Ng\xE2n ha\u0300ng TMCP Qu\u1ED1c t\u1EBF Vi\u1EC7t Nam",code:"VIB",bin:"970441",shortName:"VIB",logo:"https://api.vietqr.io/img/VIB.png",transferSupported:1,lookupSupported:1,short_name:"VIB",support:3,isTransfer:1,swift_code:"VNIBVNVX"},{id:35,name:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n - H\xE0 N\u1ED9i",code:"SHB",bin:"970443",shortName:"SHB",logo:"https://api.vietqr.io/img/SHB.png",transferSupported:1,lookupSupported:1,short_name:"SHB",support:3,isTransfer:1,swift_code:"SHBAVNVX"},{id:10,name:"Ng\xE2n h\xE0ng TMCP Xu\u1EA5t Nh\u1EADp kh\u1EA9u Vi\u1EC7t Nam",code:"EIB",bin:"970431",shortName:"Eximbank",logo:"https://api.vietqr.io/img/EIB.png",transferSupported:1,lookupSupported:1,short_name:"Eximbank",support:3,isTransfer:1,swift_code:"EBVIVNVX"},{id:22,name:"Ng\xE2n ha\u0300ng TMCP Ha\u0300ng Ha\u0309i",code:"MSB",bin:"970426",shortName:"MSB",logo:"https://api.vietqr.io/img/MSB.png",transferSupported:1,lookupSupported:1,short_name:"MSB",support:3,isTransfer:1,swift_code:"MCOBVNVX"},{id:53,name:"TMCP Vi\u1EC7t Nam Th\u1ECBnh V\u01B0\u1EE3ng - Ng\xE2n h\xE0ng s\u1ED1 CAKE by VPBank",code:"CAKE",bin:"546034",shortName:"CAKE",logo:"https://api.vietqr.io/img/CAKE.png",transferSupported:1,lookupSupported:1,short_name:"CAKE",support:3,isTransfer:1,swift_code:null},{id:54,name:"TMCP Vi\u1EC7t Nam Th\u1ECBnh V\u01B0\u1EE3ng - Ng\xE2n h\xE0ng s\u1ED1 Ubank by VPBank",code:"Ubank",bin:"546035",shortName:"Ubank",logo:"https://api.vietqr.io/img/UBANK.png",transferSupported:1,lookupSupported:1,short_name:"Ubank",support:3,isTransfer:1,swift_code:null},{id:34,name:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n C\xF4ng Th\u01B0\u01A1ng",code:"SGICB",bin:"970400",shortName:"SaigonBank",logo:"https://api.vietqr.io/img/SGICB.png",transferSupported:1,lookupSupported:1,short_name:"SaigonBank",support:3,isTransfer:1,swift_code:"SBITVNVX"},{id:3,name:"Ng\xE2n h\xE0ng TMCP B\u1EAFc \xC1",code:"BAB",bin:"970409",shortName:"BacABank",logo:"https://api.vietqr.io/img/BAB.png",transferSupported:1,lookupSupported:1,short_name:"BacABank",support:3,isTransfer:1,swift_code:"NASCVNVX"},{id:30,name:"Ng\xE2n ha\u0300ng TMCP \u0110a\u0323i Chu\u0301ng Vi\xEA\u0323t Nam",code:"PVCB",bin:"970412",shortName:"PVcomBank",logo:"https://api.vietqr.io/img/PVCB.png",transferSupported:1,lookupSupported:1,short_name:"PVcomBank",support:3,isTransfer:1,swift_code:"WBVNVNVX"},{id:27,name:"Ng\xE2n h\xE0ng Th\u01B0\u01A1ng m\u1EA1i TNHH MTV \u0110\u1EA1i D\u01B0\u01A1ng",code:"Oceanbank",bin:"970414",shortName:"Oceanbank",logo:"https://api.vietqr.io/img/OCEANBANK.png",transferSupported:1,lookupSupported:1,short_name:"Oceanbank",support:3,isTransfer:1,swift_code:"OCBKUS3M"},{id:24,name:"Ng\xE2n h\xE0ng TMCP Qu\u1ED1c D\xE2n",code:"NCB",bin:"970419",shortName:"NCB",logo:"https://api.vietqr.io/img/NCB.png",transferSupported:1,lookupSupported:1,short_name:"NCB",support:3,isTransfer:1,swift_code:"NVBAVNVX"},{id:37,name:"Ng\xE2n h\xE0ng TNHH MTV Shinhan Vi\u1EC7t Nam",code:"SHBVN",bin:"970424",shortName:"ShinhanBank",logo:"https://api.vietqr.io/img/SHBVN.png",transferSupported:1,lookupSupported:1,short_name:"ShinhanBank",support:3,isTransfer:1,swift_code:"SHBKVNVX"},{id:1,name:"Ng\xE2n h\xE0ng TMCP An B\xECnh",code:"ABB",bin:"970425",shortName:"ABBANK",logo:"https://api.vietqr.io/img/ABB.png",transferSupported:1,lookupSupported:1,short_name:"ABBANK",support:3,isTransfer:1,swift_code:"ABBKVNVX"},{id:41,name:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t \xC1",code:"VAB",bin:"970427",shortName:"VietABank",logo:"https://api.vietqr.io/img/VAB.png",transferSupported:1,lookupSupported:1,short_name:"VietABank",support:3,isTransfer:1,swift_code:"VNACVNVX"},{id:23,name:"Ng\xE2n h\xE0ng TMCP Nam \xC1",code:"NAB",bin:"970428",shortName:"NamABank",logo:"https://api.vietqr.io/img/NAB.png",transferSupported:1,lookupSupported:1,short_name:"NamABank",support:3,isTransfer:1,swift_code:"NAMAVNVX"},{id:29,name:"Ng\xE2n h\xE0ng TMCP X\u0103ng d\u1EA7u Petrolimex",code:"PGB",bin:"970430",shortName:"PGBank",logo:"https://api.vietqr.io/img/PGB.png",transferSupported:1,lookupSupported:1,short_name:"PGBank",support:3,isTransfer:1,swift_code:"PGBLVNVX"},{id:46,name:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u01B0\u01A1ng T\xEDn",code:"VIETBANK",bin:"970433",shortName:"VietBank",logo:"https://api.vietqr.io/img/VIETBANK.png",transferSupported:1,lookupSupported:1,short_name:"VietBank",support:3,isTransfer:1,swift_code:"VNTTVNVX"},{id:5,name:"Ng\xE2n h\xE0ng TMCP B\u1EA3o Vi\u1EC7t",code:"BVB",bin:"970438",shortName:"BaoVietBank",logo:"https://api.vietqr.io/img/BVB.png",transferSupported:1,lookupSupported:1,short_name:"BaoVietBank",support:3,isTransfer:1,swift_code:"BVBVVNVX"},{id:33,name:"Ng\xE2n ha\u0300ng TMCP \u0110\xF4ng Nam A\u0301",code:"SEAB",bin:"970440",shortName:"SeABank",logo:"https://api.vietqr.io/img/SEAB.png",transferSupported:1,lookupSupported:1,short_name:"SeABank",support:3,isTransfer:1,swift_code:"SEAVVNVX"},{id:52,name:"Ng\xE2n h\xE0ng H\u1EE3p t\xE1c x\xE3 Vi\u1EC7t Nam",code:"COOPBANK",bin:"970446",shortName:"COOPBANK",logo:"https://api.vietqr.io/img/COOPBANK.png",transferSupported:1,lookupSupported:1,short_name:"COOPBANK",support:3,isTransfer:1,swift_code:null},{id:20,name:"Ng\xE2n h\xE0ng TMCP B\u01B0u \u0110i\u1EC7n Li\xEAn Vi\u1EC7t",code:"LPB",bin:"970449",shortName:"LienVietPostBank",logo:"https://api.vietqr.io/img/LPB.png",transferSupported:1,lookupSupported:1,short_name:"LienVietPostBank",support:3,isTransfer:1,swift_code:"LVBKVNVX"},{id:19,name:"Ng\xE2n h\xE0ng TMCP Ki\xEAn Long",code:"KLB",bin:"970452",shortName:"KienLongBank",logo:"https://api.vietqr.io/img/KLB.png",transferSupported:1,lookupSupported:1,short_name:"KienLongBank",support:3,isTransfer:1,swift_code:"KLBKVNVX"},{id:55,name:"Ng\xE2n h\xE0ng \u0110\u1EA1i ch\xFAng TNHH Kasikornbank",code:"KBank",bin:"668888",shortName:"KBank",logo:"https://api.vietqr.io/img/KBANK.png",transferSupported:1,lookupSupported:0,short_name:"KBank",support:3,isTransfer:1,swift_code:"KASIVNVX"},{id:11,name:"Ng\xE2n h\xE0ng Th\u01B0\u01A1ng m\u1EA1i TNHH MTV D\u1EA7u Kh\xED To\xE0n C\u1EA7u",code:"GPB",bin:"970408",shortName:"GPBank",logo:"https://api.vietqr.io/img/GPB.png",transferSupported:0,lookupSupported:1,short_name:"GPBank",support:0,isTransfer:0,swift_code:"GBNKVNVX"},{id:6,name:"Ng\xE2n h\xE0ng Th\u01B0\u01A1ng m\u1EA1i TNHH MTV X\xE2y d\u1EF1ng Vi\u1EC7t Nam",code:"CBB",bin:"970444",shortName:"CBBank",logo:"https://api.vietqr.io/img/CBB.png",transferSupported:0,lookupSupported:0,short_name:"CBBank",support:0,isTransfer:0,swift_code:"GTBAVNVX"},{id:7,name:"Ng\xE2n h\xE0ng TNHH MTV CIMB Vi\u1EC7t Nam",code:"CIMB",bin:"422589",shortName:"CIMB",logo:"https://api.vietqr.io/img/CIMB.png",transferSupported:0,lookupSupported:1,short_name:"CIMB",support:0,isTransfer:0,swift_code:"CIBBVNVN"},{id:8,name:"DBS Bank Ltd - Chi nh\xE1nh Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh",code:"DBS",bin:"796500",shortName:"DBSBank",logo:"https://api.vietqr.io/img/DBS.png",transferSupported:0,lookupSupported:0,short_name:"DBSBank",support:0,isTransfer:0,swift_code:"DBSSVNVX"},{id:9,name:"Ng\xE2n h\xE0ng TMCP \u0110\xF4ng \xC1",code:"DOB",bin:"970406",shortName:"DongABank",logo:"https://api.vietqr.io/img/DOB.png",transferSupported:0,lookupSupported:1,short_name:"DongABank",support:0,isTransfer:0,swift_code:"EACBVNVX"},{id:51,name:"Ng\xE2n h\xE0ng Kookmin - Chi nh\xE1nh Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh",code:"KBHCM",bin:"970463",shortName:"KookminHCM",logo:"https://api.vietqr.io/img/KBHCM.png",transferSupported:0,lookupSupported:0,short_name:"KookminHCM",support:0,isTransfer:0,swift_code:null},{id:50,name:"Ng\xE2n h\xE0ng Kookmin - Chi nh\xE1nh H\xE0 N\u1ED9i",code:"KBHN",bin:"970462",shortName:"KookminHN",logo:"https://api.vietqr.io/img/KBHN.png",transferSupported:0,lookupSupported:0,short_name:"KookminHN",support:0,isTransfer:0,swift_code:null},{id:49,name:"Ng\xE2n h\xE0ng TNHH MTV Woori Vi\u1EC7t Nam",code:"WVN",bin:"970457",shortName:"Woori",logo:"https://api.vietqr.io/img/WVN.png",transferSupported:0,lookupSupported:1,short_name:"Woori",support:0,isTransfer:0,swift_code:null},{id:48,name:"Ng\xE2n h\xE0ng Li\xEAn doanh Vi\u1EC7t - Nga",code:"VRB",bin:"970421",shortName:"VRB",logo:"https://api.vietqr.io/img/VRB.png",transferSupported:0,lookupSupported:1,short_name:"VRB",support:0,isTransfer:0,swift_code:null},{id:32,name:"Ng\xE2n h\xE0ng TNHH MTV Standard Chartered Bank Vi\u1EC7t Nam",code:"SCVN",bin:"970410",shortName:"StandardChartered",logo:"https://api.vietqr.io/img/SCVN.png",transferSupported:0,lookupSupported:1,short_name:"StandardChartered",support:0,isTransfer:0,swift_code:"SCBLVNVX"},{id:13,name:"Ng\xE2n h\xE0ng TNHH MTV Hong Leong Vi\u1EC7t Nam",code:"HLBVN",bin:"970442",shortName:"HongLeong",logo:"https://api.vietqr.io/img/HLBVN.png",transferSupported:0,lookupSupported:0,short_name:"HongLeong",support:0,isTransfer:0,swift_code:"HLBBVNVX"},{id:14,name:"Ng\xE2n h\xE0ng TNHH MTV HSBC (Vi\u1EC7t Nam)",code:"HSBC",bin:"458761",shortName:"HSBC",logo:"https://api.vietqr.io/img/HSBC.png",transferSupported:0,lookupSupported:1,short_name:"HSBC",support:0,isTransfer:0,swift_code:"HSBCVNVX"},{id:15,name:"Ng\xE2n ha\u0300ng C\xF4ng nghi\xEA\u0323p Ha\u0300n Qu\xF4\u0301c - Chi nha\u0301nh Ha\u0300 N\xF4\u0323i",code:"IBK - HN",bin:"970455",shortName:"IBKHN",logo:"https://api.vietqr.io/img/IBK.png",transferSupported:0,lookupSupported:0,short_name:"IBKHN",support:0,isTransfer:0,swift_code:null},{id:16,name:"Ng\xE2n ha\u0300ng C\xF4ng nghi\xEA\u0323p Ha\u0300n Qu\xF4\u0301c - Chi nha\u0301nh TP. H\xF4\u0300 Chi\u0301 Minh",code:"IBK - HCM",bin:"970456",shortName:"IBKHCM",logo:"https://api.vietqr.io/img/IBK.png",transferSupported:0,lookupSupported:0,short_name:"IBKHCM",support:0,isTransfer:0,swift_code:null},{id:18,name:"Ng\xE2n h\xE0ng TNHH Indovina",code:"IVB",bin:"970434",shortName:"IndovinaBank",logo:"https://api.vietqr.io/img/IVB.png",transferSupported:0,lookupSupported:1,short_name:"IndovinaBank",support:0,isTransfer:0,swift_code:null},{id:25,name:"Ng\xE2n h\xE0ng Nonghyup - Chi nh\xE1nh H\xE0 N\u1ED9i",code:"NHB HN",bin:"801011",shortName:"Nonghyup",logo:"https://api.vietqr.io/img/NHB.png",transferSupported:0,lookupSupported:0,short_name:"Nonghyup",support:0,isTransfer:0,swift_code:null},{id:40,name:"Ng\xE2n h\xE0ng United Overseas - Chi nh\xE1nh TP. H\u1ED3 Ch\xED Minh",code:"UOB",bin:"970458",shortName:"UnitedOverseas",logo:"https://api.vietqr.io/img/UOB.png",transferSupported:0,lookupSupported:1,short_name:"UnitedOverseas",support:0,isTransfer:0,swift_code:null},{id:28,name:"Ng\xE2n h\xE0ng TNHH MTV Public Vi\u1EC7t Nam",code:"PBVN",bin:"970439",shortName:"PublicBank",logo:"https://api.vietqr.io/img/PBVN.png",transferSupported:0,lookupSupported:1,short_name:"PublicBank",support:0,isTransfer:0,swift_code:"VIDPVNVX"}]};const lm={props:{name:String,isEdit:{type:Boolean,default:!0},type:{type:String,default:"URL"}},data(){let e=am.data;return console.log("bank",e.length),{enablePopup:!1,title:"",icon:"",banks:e,info:{name:"",value:""}}},watch:{name(e){if(e){let t=this.$utils.getIcon(e);this.icon=t}}},methods:{showPopup(){this.enablePopup=!0},closeItem(e){e=="CANCEL"&&console.log("do nothing"),this.enablePopup=!1},clickButton(){this.isEdit&&this.showPopup()},update(){this.title=this.name;let e=this.$utils.getIcon(this.name);this.icon=e},selectBank(e){e&&e.code&&(this.title=e.code,this.icon=e.logo)}},mounted(){this.update()}},rm={class:"row"},dm=i("div",{class:"col-10"},null,-1),cm=["src"],um={key:1,class:"f7-icons size-28"},pm=i("div",{class:"col-10"},null,-1),hm=p("Close"),mm=i("div",{class:"block block-title"},"Preview",-1),_m={class:"row"},fm=i("div",{class:"col-10"},null,-1),gm={class:"col-80 button button-round"},vm=["src"],Cm={key:1,class:"f7-icons size-28"},bm=i("div",{class:"col-10"},null,-1),Im={key:0,class:"block block-strong"},ym={class:"item-content item-input"},km={class:"item-inner"},Dm=i("div",{class:"item-title item-label"},"Nh\u1EADp URL c\u1EE7a h\xE0nh \u0111\u1ED9ng",-1),Em={class:"item-input-wrap"},wm=i("span",{class:"input-clear-button"},null,-1),Nm={class:"block-footer"},Am={class:"list"},Tm={class:"item-content item-input"},Pm={class:"item-inner"},$m=i("div",{class:"item-title item-label"},"Nh\u1EADp URL c\u1EE7a h\xE0nh \u0111\u1ED9ng",-1),Um={class:"item-input-wrap"},Sm=i("span",{class:"input-clear-button"},null,-1),Rm={class:"item-content"},xm={class:"block-footer"},Om={class:"block"},Bm=i("div",{class:"block block-header"},"Edit below and see the Change at Preview",-1),Hm={class:"list"},Qm=["onClick"],Vm=["src"];function Lm(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-page"),C=a("f7-popup");return d(),h(N,null,[i("div",rm,[dm,i("a",{class:"col-80 button button-round",onClick:t[0]||(t[0]=b=>r.clickButton())},[o.icon.includes(".")?(d(),h("img",{key:0,src:o.icon,width:"30",style:{width:"120px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,cm)):(d(),h("i",um,u(o.icon),1)),i("span",null,u(o.title),1)]),pm]),n(C,{opened:o.enablePopup,"onUpdate:opened":t[4]||(t[4]=b=>o.enablePopup=b),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p("Update Button "+u(l.name),1)]),_:1}),n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=b=>r.closeItem())},{default:s(()=>[hm]),_:1})]),_:1})]),_:1}),mm,i("div",_m,[fm,i("a",gm,[o.icon.includes(".")?(d(),h("img",{key:0,src:o.icon,width:"30",style:{width:"120px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,vm)):(d(),h("i",Cm,u(o.icon),1)),i("span",null,u(o.title),1)]),bm]),l.type=="URL"?(d(),h("div",Im,[i("div",ym,[i("div",km,[Dm,i("div",Em,[A(i("input",{type:"text",placeholder:"https://","onUpdate:modelValue":t[2]||(t[2]=b=>o.info.value=b)},null,512),[[V,o.info.value]]),wm])])]),i("div",Nm," H\u01B0\u1EDBng d\u1EABn: C\xE1ch l\u1EA5y URL cho "+u(l.name),1),i("div",Am,[i("ul",null,[i("li",Tm,[i("div",Pm,[$m,i("div",Um,[A(i("input",{type:"text",placeholder:"https://","onUpdate:modelValue":t[3]||(t[3]=b=>o.info.value=b)},null,512),[[V,o.info.value]]),Sm])])]),i("li",Rm,[i("div",xm," H\u01B0\u1EDBng d\u1EABn: C\xE1ch l\u1EA5y URL cho "+u(l.name),1)])])])])):k("",!0),i("div",Om,[Bm,i("div",Hm,[i("ul",null,[(d(!0),h(N,null,Q(o.banks,b=>(d(),h("li",{class:"row item-content",key:b.id},[i("a",{class:"col-50 button button-round",onClick:m=>r.selectBank(b)},[i("img",{src:b.logo,width:"30",style:{width:"100px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,Vm),i("span",null,u(b.code),1)],8,Qm)]))),128))])])])]),_:1})]),_:1},8,["opened"])],64)}var zm=S(lm,[["render",Lm]]);const qm={emits:["update"],props:{id:String,privateCode:{type:String,default:""},ishop:Object,isView:Boolean},data(){return{enablePopup:!1,enable:!1,editIshop:{name:"",content:"",id:"",authenUrl:""}}},watch:{ishop:"loadData"},methods:{showPopup(){this.enablePopup=!0},loadData(){this.id.toString().length>0&&this.ishop?(this.editIshop=this.ishop,this.editIshop.id=this.id,this.enable=!0):this.editIshop={name:"",content:"",id:this.id,authenUrl:""},console.log("ishopinfo",this.id,this.ishop,this.enable)},async getAuthenUrl(){if(!(this.editIshop.authenUrl&&this.editIshop.authenUrl.includes("https"))&&this.id>0&&this.privateCode.length>0){let e=1,t=await this.$api.getPrivateCode(this.id,e,this.privateCode);if(t){let l=t.privateCode||"",c="https://www.ishowroom.vn";this.editIshop.authenUrl=`${c}/s/${this.id}/i/${e}/p/${l.substring(0,3)}`}}},async goAuthenUrl(){await this.getAuthenUrl(),this.isView&&this.editIshop.authenUrl&&window.open(this.editIshop.authenUrl)},notifyUpdate(){this.$emit("update",this.editIshop),this.enablePopup=!1}},mounted(){this.loadData()}},ve=e=>(W("data-v-f4148388"),e=e(),X(),e),Fm={class:"wrap"},Mm={key:0,class:"content-edit"},Gm=ve(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),Km=[Gm],Ym={key:1},jm={class:"block-title-medium"},Jm={key:0,class:"block"},Wm=["innerHTML"],Xm=p("Close"),Zm=ve(()=>i("div",{class:"block-title"},"Preview",-1)),e_={key:0},t_={class:"card bg-color-green",style:{"margin-top":"5px","margin-bottom":"0px",padding:"10px","text-align":"center"}},i_={class:"block-title-medium"},n_={class:"block"},o_=["innerHTML"],s_={class:"block"},a_=ve(()=>i("div",{class:"block-title"},"Update Data",-1)),l_={class:"list"},r_={stype:"margin-bottom:20px"},d_=ve(()=>i("li",{class:"item-content",style:{}},[i("label",null," T\xEAn c\u1EEDa h\xE0ng, c\xF4ng ty, \u0111\u1ED9i nh\xF3m,...")],-1)),c_=ve(()=>i("li",{class:"item-content",style:{}},[i("label",null,"M\xF4 t\u1EA3 th\xEAm v\u1EC1 \u0111\u1ECBa ch\u1EC9,...")],-1)),u_={class:"row"},p_=ve(()=>i("div",{class:"col-20"},null,-1)),h_={class:"col-60"},m_=ve(()=>i("div",{class:"col-20"},null,-1));function __(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-text-editor"),I=a("f7-page"),C=a("f7-popup");return d(),h(N,null,[i("div",Fm,[l.isView?k("",!0):(d(),h("div",Mm,[i("a",{onClick:t[0]||(t[0]=b=>r.showPopup())},Km)])),o.enable?(d(),h("div",Ym,[i("div",{onClick:t[1]||(t[1]=b=>r.goAuthenUrl()),class:"card bg-color-green",style:{"margin-top":"5px","margin-bottom":"0px",padding:"10px","text-align":"center"}},[i("div",jm,u(o.editIshop.name),1),o.editIshop.content?(d(),h("div",Jm,[i("div",{innerHTML:o.editIshop.content},null,8,Wm)])):k("",!0)])])):k("",!0)]),n(C,{opened:o.enablePopup,"onUpdate:opened":t[6]||(t[6]=b=>o.enablePopup=b),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=b=>o.enablePopup=!1)},{default:s(()=>[Xm]),_:1})]),_:1})]),_:1}),Zm,o.editIshop.name?(d(),h("div",e_,[i("div",t_,[i("div",i_,u(o.editIshop.name),1),i("div",n_,[i("div",{innerHTML:o.editIshop.content},null,8,o_)])])])):k("",!0),i("div",s_,[a_,i("div",l_,[i("ul",r_,[d_,n(v,{buttons:[["bold","italic"]],mode:"popover",style:{"--f7-text-editor-height":"100px"},value:o.editIshop.name,"onTexteditor:change":t[3]||(t[3]=b=>o.editIshop.name=b)},null,8,["value"]),c_,n(v,{placeholder:"\u0111\u1ECBa ch\u1EC9, hotline,...",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["alignLeft","alignCenter","alignRight"]],style:{"--f7-text-editor-height":"150px"},value:o.editIshop.content,"onTexteditor:change":t[4]||(t[4]=b=>o.editIshop.content=b)},null,8,["value"])])]),i("div",u_,[p_,i("div",h_,[i("button",{onClick:t[5]||(t[5]=b=>r.notifyUpdate()),class:"button button-round button-large button-fill"}," Save ")]),m_])])]),_:1})]),_:1},8,["opened"])],64)}var Ve=S(qm,[["render",__],["__scopeId","data-v-f4148388"]]);const f_={components:{iShopInfo:Ve},props:{ishop:Object,id:String},data(){return{ishopData:{},enable:!1}},watch:{ishop:"loadData"},methods:{loadData(){this.id.toString().length>0&&this.ishop&&this.ishop.id?this.enable=!0:this.enable=!1,console.log("ishop-authentic",this.ishop,this.enable)}},computed:{authenText(){return this.ishop.authenText||""}},mounted(){this.loadData()}},g_={key:0},v_={key:0,style:{"text-align":"center"}};function C_(e,t,l,c,o,r){const _=a("i-shop-info"),f=a("f7-icon");return o.enable?(d(),h("div",g_,[n(_,{id:l.id,ishop:l.ishop,isView:!0},null,8,["id","ishop"]),r.authenText?(d(),h("div",v_,[n(f,{f7:"checkmark_seal"}),p(" "+u(r.authenText),1)])):k("",!0)])):k("",!0)}var Le=S(f_,[["render",C_]]);const b_={components:{Avatar:ge,iShopAuthentic:Le},props:{id:String,privateCode:String,bg:String,metadata:{type:Object,default:{ishop:{},vcard:{}}}},watch:{metadata(e){e&&this.updateData()},id:"loadData"},computed:{fullName(){if(this.metadata.vcard){let e=this.metadata.vcard;if(e.lastName||e.firstName)return[e.lastName," ",e.firstName].join("")}return"ID:"+this.$utils.formatQRID(this.id)},getAddress(){return this.metadata.vcard&&this.metadata.vcard.address||""},getBG(){return this.bg||this.$utils.getNoAvatar()},title(){if(this.ishop&&this.ishop.title)return this.ishop.title;if(this.vCard&&this.vCard.title)return this.vCard.title},organization(){if(this.ishop&&this.ishop.title)return null;if(this.vCard&&this.vCard.organization)return this.vCard.organization}},data(){return{ishop:{},vCard:{}}},methods:{updateData(){this.ishop=this.metadata.ishop||{},this.vCard=this.metadata.vcard||{},console.log("icard-overview",this.ishop)},async loadData(){if(this.id&&this.id.length>0){let e=await this.$api.getQRID(this.id,this.privateCode);e&&e.metadata&&(this.metadata=e.metadata)}}}},I_={key:2,style:{"text-align":"center",margin:"10px"}};function y_(e,t,l,c,o,r){const _=a("i-shop-authentic"),f=a("avatar"),g=a("f7-block-title"),v=a("f7-block");return d(),h(N,null,[n(_,{id:l.id,ishop:o.ishop},null,8,["id","ishop"]),n(v,{style:{"margin-top":"5px"}},{default:s(()=>[n(f,{src:r.getBG,style:{margin:"auto",width:"50%",height:"50%"}},null,8,["src"]),n(g,{style:{"text-align":"center",margin:"10px"},medium:""},{default:s(()=>[p(u(r.fullName),1)]),_:1}),r.title?(d(),D(g,{key:0,style:{"text-align":"center",margin:"10px"}},{default:s(()=>[p(u(r.title),1)]),_:1})):k("",!0),r.organization?(d(),D(g,{key:1,style:{"text-align":"center",margin:"10px"}},{default:s(()=>[p(u(r.organization),1)]),_:1})):k("",!0),r.getAddress?(d(),h("div",I_,[i("span",null,u(r.getAddress),1)])):k("",!0)]),_:1})],64)}var oe=S(b_,[["render",y_]]);const k_={props:{id:String,name:{type:String,default:"ZALO"},obj:Object},data(){return{enablePopup:!1,existData:!1,data:{name:"GUIDE.USER.ZALO",title:"Ch\u01B0a c\xF3 h\u01B0\u1EDBng d\u1EABn",description:"Ch\xFAng t\xF4i s\u1EBD c\u1EADp nh\u1EADt th\xEAm n\u1ED9i dung n\xE0y",rootName:"GUIDE",parentName:"GUIDE.USER"}}},methods:{enableEdit(){return this.id=="100010010560001"},async showPopup(){await this.loadData(),this.enablePopup=!0},async loadData(){if(console.log("userguide",this.name,this.obj),this.name){w.dialog.preloader();let e="GUIDE.USER."+this.name.toUpperCase(),t=await this.$api.getUserGuide(e);w.dialog.close(),t&&(this.data=t,this.existData=!0)}},async updateGuide(){let e="GUIDE.USER."+this.name.toUpperCase(),t={name:e,title:this.data.title,description:this.data.description,rootName:"GUIDE",parentName:"GUIDE.USER"};await this.$api.updateUserGuide(e,t,this.existData)?w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u."):w.dialog.alert("update failed")}}},D_=i("i",{class:"f7-icons size-22"},"info_circle",-1),E_=[D_],w_=p("Close"),N_={class:"block strong"},A_={class:"block-content"},T_=["innerHTML"],P_={key:0,class:"block"};function $_(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-list-item"),C=a("f7-list-input"),b=a("f7-text-editor"),m=a("f7-list"),y=a("f7-page"),E=a("f7-popup");return d(),h(N,null,[i("a",{onClick:t[0]||(t[0]=T=>r.showPopup()),style:{float:"right"}},E_),n(E,{opened:o.enablePopup,"onUpdate:opened":t[5]||(t[5]=T=>o.enablePopup=T),"tablet-fullscreen":!0},{default:s(()=>[n(y,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(o.data.title),1)]),_:1}),n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=T=>o.enablePopup=!1)},{default:s(()=>[w_]),_:1})]),_:1})]),_:1}),i("div",N_,[i("div",A_,[i("div",{innerHTML:o.data.description},null,8,T_)])]),r.enableEdit()?(d(),h("div",P_,[n(m,null,{default:s(()=>[n(I,null,{default:s(()=>[p(u(l.name),1)]),_:1}),n(C,{outline:"",type:"text",label:"Title",resizable:"","clear-button":"",value:o.data.title,"onUpdate:value":t[2]||(t[2]=T=>o.data.title=T)},null,8,["value"]),i("li",null,[n(b,{placeholder:"Enter text...",style:{"--f7-text-editor-height":"500px"},value:o.data.description,"onTexteditor:change":t[3]||(t[3]=T=>o.data.description=T)},null,8,["value"])]),i("button",{class:"button button-large",onClick:t[4]||(t[4]=(...T)=>r.updateGuide&&r.updateGuide(...T))},"UpdateGuide ")]),_:1})])):k("",!0)]),_:1})]),_:1},8,["opened"])],64)}var U_=S(k_,[["render",$_]]);const S_={name:"ICARD_EDIT",components:{iShopAuthentic:Le,iCardOverview:oe,iCardButton:zm,UserActions:Qe,AvatarPicker:Ue,Avatar:ge,userGuide:U_},props:{f7route:Object,f7router:Object,id:String,privateCode:{type:String,default:""},isPopup:Boolean,fullEdit:{type:Boolean,default:!0}},emits:["closeItem"],setup(){},data(){let e={photo:"",firstName:"",middleName:"",lastName:"",organization:"",title:"",note:"",nickname:"",namePrefix:"",nameSuffix:"",gender:"",workPhone:"",homePhone:"",cellPhone:"",email:"",workEmail:"",facebook:"",zalo:"",linkedIn:"",twitter:"",momo:""},t=te.socialUrls,l=te.props;return{item:{title:"iCard",cardType:"CARD_TYPE.ICARD",ownerName:"",ownerPhoneNumber:"",imageUrls:[],supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{}},vCard:e,payments:[],ecommerce:[],banks:[],imageUrl:"",actions:[],urls:t,props:l,listPayments:te.payments,listEcommerce:te.ecommerce,ishopEnable:!1,ishop:{},enablePopup:!1}},computed:{isActive(){return this.item.status=="QRID_STATUS.ACTIVE"||this.item.status=="ACTIVE"},enableUpdate(){return this.item.status=="QRID_STATUS.GENERATED"},discount(){return this.metadata&&this.metadata.discount?this.metadata.discount:{enable:!1}},isDemo(){return this.item.supportId==111||this.item.supportId=="888"},textChucDanh(){return"gi\xE1m \u0111\u1ED1c, tr\u01B0\u1EDFng ph\xF2ng,..."}},watch:{id:"getDeviceData"},methods:{async onFile(e){let t=await this.$utils.onFile(e);t?(this.imageUrl=t,this.item.imageUrls[0]=t):w.dialog.alert("upload file faild")},syncData(){this.item.ownerName=[this.vCard.lastName," ",this.vCard.firstName].join(""),this.item.ownerPhoneNumber=this.vCard.homePhone},async activateByUser(){if(this.item.status="QRID_STATUS.ACTIVE",this.item.created=new Date().toISOString(),this.item.createdBy=2,this.item.metadata.vcard=this.vCard,this.item.metadata.payments=this.payments,this.item.metadata.ecommerce=this.ecommerce,this.syncData(),await this.$api.updateQRSaleInfo(this.id,this.item,this.privateCode)){w.dialog.alert("K\xEDch ho\u1EA1t th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u.","iCard");var t=await this.$api.getVcard(this.id,this.privateCode.toString().substring(0,2));console.log("vCard",this.id,this.privateCode.toString().substring(0,2),t),this.$emit("closeItem")}},async updateData(){this.item.metadata.vcard=this.vCard,this.item.metadata.payments=this.payments,this.item.metadata.ecommerce=this.ecommerce,this.syncData();let e=await this.$api.updateQRSaleInfo(this.id,this.item,this.privateCode);return e?(w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","iCard"),this.item=e,await this.$api.getVcard(this.id,this.privateCode.toString().substring(0,2)),!0):(w.dialog.alert("C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i. Vui l\xF2ng th\u1EED l\u1EA1i","iCard"),!1)},async updateDataThenClose(){await this.updateData()&&this.$emit("closeItem")},async getDeviceData(){if(this.id<=0)return;this.fullEdit==!1&&(this.props=te.propsShort);const e=await this.$api.getQRID(this.id,this.privateCode);e&&(this.item=e,e.metadata&&(this.vCard=this.item.metadata.vcard||{},this.payments=this.item.metadata.payments||{},this.ecommerce=this.item.metadata.ecommerce||{},e.metadata.ishop&&e.metadata.ishop.id?(this.ishopEnable=!0,this.ishop=e.metadata.ishop):(this.ishopEnable=!1,this.ishop={})),this.item.metadata||(this.item.metadata={}),this.item.metadata.introduction||(this.item.metadata.introduction={enable:!1,title:"",content:""}),this.item.imageUrls&&this.item.imageUrls[0]?this.imageUrl=this.item.imageUrls[0]:this.imageUrl="https://apps.vinaas.com/file/tgs5EFo1O")},updateItem(e){}},async mounted(){await this.getDeviceData()}},ze=e=>(W("data-v-f6ebe050"),e=e(),X(),e),R_=ze(()=>i("div",{style:{"text-align":"center"}},"Ch\u1ECDn h\xECnh danh thi\u1EBFp",-1)),x_=p("Th\xF4ng tin c\xE1 nh\xE2n - Information"),O_=p("Li\xEAn k\u1EBFt c\xE1 nh\xE2n"),B_={class:"list no-hairlines-md"},H_={key:0,class:"item-media"},Q_=["src"],V_={key:1,class:"item-media"},L_={class:"f7-icons size-40"},z_={class:"item-inner"},q_={class:"item-title item-label"},F_={class:"item-input-wrap"},M_=["placeholder","onUpdate:modelValue"],G_=ze(()=>i("span",{class:"input-clear-button"},null,-1)),K_=p("Thanh to\xE1n c\xE1 nh\xE2n"),Y_={class:"list no-hairlines-md"},j_={key:0,class:"item-media"},J_=["src"],W_={key:1,class:"item-media"},X_={class:"f7-icons size-40"},Z_={class:"item-inner"},ef={class:"item-title item-label"},tf={class:"item-input-wrap"},nf=["placeholder","onUpdate:modelValue"],of=ze(()=>i("span",{class:"input-clear-button"},null,-1)),sf=p("Gi\u1EDBi thi\u1EC7u "),af=p("v\u1EC1 c\xF4ng vi\u1EC7c, s\u1EA3n ph\u1EA9m d\u1ECBch v\u1EE5 \u0111ang kinh doanh, d\u1EF1 \xE1n \u0111ang tham gia,... "),lf={class:"col-100"},rf={class:"col-50"},df={class:"col-50"},cf=ze(()=>i("div",{class:"block-footer"}," Sau khi K\xEDch ho\u1EA1t, s\u1EBD kh\xF4ng \u0111\u01B0\u1EE3c thay \u0111\u1ED5i th\xF4ng tin. C\u1EA7n n\xE2ng c\u1EA5p \u0111\u1EC3 th\u1EF1c hi\u1EC7n vi\u1EC7c thay \u0111\u1ED5i. ",-1)),uf={class:"col-100"};function pf(e,t,l,c,o,r){const _=a("i-shop-authentic"),f=a("avatar-picker"),g=a("f7-card-header"),v=a("f7-list-input"),I=a("f7-list-item"),C=a("f7-list"),b=a("f7-block-title"),m=a("user-guide"),y=a("f7-card"),E=a("f7-toggle"),T=a("f7-block-header"),P=a("f7-text-editor"),O=a("f7-card-content"),x=a("f7-row"),B=a("f7-block");return d(),h("div",null,[o.ishopEnable?(d(),D(_,{key:0,id:l.id,ishop:o.ishop},null,8,["id","ishop"])):k("",!0),i("div",null,[n(f,{class:"avatar-center",src:o.imageUrl,icon:"",cropper:"",onFile:r.onFile},null,8,["src","onFile"]),R_]),n(y,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[x_]),_:1}),n(C,{"no-hairlines-md":""},{default:s(()=>[i("li",null,[n(v,{type:"text",outline:"",label:"T\xEAn - First/Given name","floating-label":"",maxlength:"50",required:"","clear-button":"",value:o.vCard.firstName,"onUpdate:value":t[0]||(t[0]=H=>o.vCard.firstName=H)},null,8,["value"]),n(v,{type:"text",outline:"",label:"H\u1ECD v\xE0 t\xEAn \u0111\u1EC7m - Last/Family name",info:"tu\u1EF3 ch\u1ECDn (option)","floating-label":"",maxlength:"50","clear-button":"",value:o.vCard.lastName,"onUpdate:value":t[1]||(t[1]=H=>o.vCard.lastName=H)},null,8,["value"])]),o.ishopEnable?(d(),D(I,{key:0},{default:s(()=>[p(u(o.ishop.title),1)]),_:1})):(d(),D(v,{key:1,outline:"",type:"text",label:"Ch\u1EE9c danh - Title","floating-label":"",resizable:"",info:"Gi\xE1m \u0111\u1ED1c, k\u1EF9 s\u01B0",maxlength:"50","clear-button":"",value:o.vCard.title,"onUpdate:value":t[2]||(t[2]=H=>o.vCard.title=H)},null,8,["value"])),o.ishopEnable?k("",!0):(d(),D(v,{key:2,outline:"",type:"text",label:"\u0110\u01A1n v\u1ECB - Organization",info:"C\xF4ng ty, c\u01A1 quan \u0111ang l\xE0m vi\u1EC7c","floating-label":"",resizable:"",placeholder:"",maxlength:"50","clear-button":"",value:o.vCard.organization,"onUpdate:value":t[3]||(t[3]=H=>o.vCard.organization=H)},null,8,["value"])),n(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i - Phone Number","floating-label":"",type:"text",placeholder:"",pattern:"[0-9]*","clear-button":"",value:o.vCard.homePhone,"onUpdate:value":t[4]||(t[4]=H=>o.vCard.homePhone=H)},null,8,["value"])]),_:1}),n(b,null,{default:s(()=>[O_]),_:1}),i("div",B_,[i("ul",null,[(d(!0),h(N,null,Q(o.props,H=>(d(),h("li",{class:"item-content item-input",key:H.name},[H.icon.includes(".")?(d(),h("a",H_,[i("img",{src:H.icon,width:"30"},null,8,Q_)])):(d(),h("a",V_,[i("i",L_,u(H.icon),1)])),i("div",z_,[i("div",q_,[p(u(H.name),1),n(m,{name:H.name,id:l.id,style:{float:"right"}},null,8,["name","id"])]),i("div",F_,[A(i("input",{type:"text",placeholder:H.placeholder,"onUpdate:modelValue":$=>o.vCard[H.name]=$},null,8,M_),[[V,o.vCard[H.name]]]),G_])])]))),128))])]),A(n(b,null,{default:s(()=>[K_]),_:1},512),[[F,l.fullEdit]]),A(i("div",Y_,[i("ul",null,[(d(!0),h(N,null,Q(o.listPayments,H=>(d(),h("li",{class:"item-content item-input",key:H.name},[H.icon.includes(".")?(d(),h("div",j_,[i("img",{src:H.icon,width:"30"},null,8,J_)])):(d(),h("div",W_,[i("i",X_,u(H.icon),1)])),i("div",Z_,[i("div",ef,[p(u(H.name)+" ",1),n(m,{name:H.name,id:l.id,style:{float:"right"}},null,8,["name","id"])]),i("div",tf,[A(i("input",{type:"text",placeholder:H.placeholder,"onUpdate:modelValue":$=>o.payments[H.name]=$},null,8,nf),[[V,o.payments[H.name]]]),of])])]))),128))])],512),[[F,l.fullEdit]])]),_:1}),o.item.metadata.introduction&&l.fullEdit?(d(),D(y,{key:1},{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[sf,n(E,{checked:o.item.metadata.introduction.enable,"onUpdate:checked":t[5]||(t[5]=H=>o.item.metadata.introduction.enable=H)},null,8,["checked"])]),_:1}),n(O,null,{default:s(()=>[A(n(C,{"no-hairlines-md":""},{default:s(()=>[n(v,{outline:"",type:"text",label:"C\xF4ng vi\u1EC7c hi\u1EC7n t\u1EA1i","floating-label":"",resizable:"",maxlength:"50","clear-button":"",value:o.item.metadata.introduction.title,"onUpdate:value":t[6]||(t[6]=H=>o.item.metadata.introduction.title=H)},null,8,["value"]),n(T,null,{default:s(()=>[af]),_:1}),n(P,{placeholder:"Enter text...",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h3","h4"],["image"]],style:{"--f7-text-editor-height":"300px"},value:o.item.metadata.introduction.content,"onTexteditor:change":t[7]||(t[7]=H=>o.item.metadata.introduction.content=H)},null,8,["value"])]),_:1},512),[[F,o.item.metadata.introduction.enable]])]),_:1})]),_:1})):k("",!0),l.fullEdit?(d(),D(B,{key:2},{default:s(()=>[n(x,null,{default:s(()=>[i("div",lf,[i("button",{onClick:t[8]||(t[8]=H=>r.updateData()),class:"button button-large button-round button-fill"}," C\u1EADp nh\u1EADt ")])]),_:1})]),_:1})):k("",!0),l.fullEdit?k("",!0):(d(),D(B,{key:3},{default:s(()=>[r.enableUpdate?(d(),D(x,{key:0},{default:s(()=>[i("div",rf,[i("button",{onClick:t[9]||(t[9]=H=>r.updateData()),class:"button button-large button-round button-outline"}," C\u1EADp nh\u1EADt ")]),i("div",df,[i("button",{onClick:t[10]||(t[10]=H=>r.activateByUser()),class:"button button-large button-round button-fill"}," K\xEDch ho\u1EA1t ")]),cf]),_:1})):(d(),D(x,{key:1},{default:s(()=>[i("div",uf,[i("button",{onClick:t[11]||(t[11]=H=>r.updateDataThenClose()),class:"button button-large button-round button-fill"}," C\u1EADp nh\u1EADt ")])]),_:1}))]),_:1}))])}var qe=S(S_,[["render",pf],["__scopeId","data-v-f6ebe050"]]);const hf=G({emits:["closeItem"],components:{iTitle:Nh,iDesc:Rh,ContentPopup:sm,iCardEdit:qe},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010560001"},privateCode:{type:String,default:"42035451"},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},setup(){},data(){return{message:`
        <h2>
          Hi there,
        </h2>
        <p>
          this is a <em>basic</em> example of <strong>tiptap</strong>. Sure, there are all kind of basic text styles you\u2019d probably expect from a text editor. But wait until you see the lists:
        </p>
        <ul>
          <li>
            That\u2019s a bullet list with one \u2026
          </li>
          <li>
            \u2026 or two list items.
          </li>
        </ul>
        <p>
          Isn\u2019t that great? And all of that is editable. But wait, there\u2019s more. Let\u2019s try a code block:
        </p>
        <pre><code class="language-css">body {
  display: none;
}</code></pre>
        <p>
          I know, I know, this is impressive. It\u2019s only the tip of the iceberg though. Give it a try and click a little bit around. Don\u2019t forget to check the other examples too.
        </p>
        <blockquote>
          Wow, that\u2019s amazing. Good work, boy! \u{1F44F}
          <br />
          \u2014 Mom
        </blockquote>
      `,desc:"agajljagaa atatataaf agaagagagag fafaafa afafa"}},methods:{clickAddContact(){},save(e){this.message=e},saveDesc(e){this.desc=e}}}),mf=p("Th\u1EBB Thi\u1EBFt l\u1EADp c\xE1 nh\xE2n"),_f=p("Close"),ff=i("div",{class:"block-title"},"Noi dung ",-1),gf=["innerHTML"];function vf(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("tip-tap"),C=a("f7-page");return d(),D(C,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[mf]),_:1}),e.isPopup?(d(),D(g,{key:0},{default:s(()=>[n(f,{onClick:t[0]||(t[0]=b=>{e.popupOpened=!1})},{default:s(()=>[_f]),_:1})]),_:1})):k("",!0)]),_:1}),n(I,{modelValue:e.message,"onUpdate:modelValue":t[1]||(t[1]=b=>e.message=b)},null,8,["modelValue"]),ff,i("div",{innerHTML:e.message},null,8,gf)]),_:1})}var bt=S(hf,[["render",vf]]);const Cf=G({components:{EditCard:bh,DemoPage:bt},props:{f7route:Object,f7router:Object},data(){return{name:"Th\u1EBB Thi\u1EBFt l\u1EADp C\xF4ng ty",id:parseInt(this.f7route.params.id),privateCode:this.f7route.params.privateCode,selectedId:0,selectedCode:this.f7route.params.privateCode,data:{title:"",cardType:"CARD_TYPE.COMPANY_NAMECARD",status:"",ownerOrganizationId:0,metadata:{}},project:{},namecards:[],popupOpened:!1}},setup(){},computed:{isActive(){return this.data.status=="QRID_STATUS.ACTIVE"||this.data.status}},methods:{async showItem(e){console.log("click showItem()",e,e.id,e.private),this.selectedId=e.id,this.selectedCode=e.private.toString(),this.popupOpened=!0},closeItem(){console.log("setup close"),this.popupOpened=!1},async loadData(){this.$utils.is_setup(this.id)||(w.dialog.alert("Kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp!"),this.f7router.navigate("/"));try{let e=await this.$api.verifyCard(this.id,this.privateCode);e&&(console.log(e.status),e.status=="INVALID_PRIVATE"?this.f7router.navigate("/"):e.status=="NOT_GENERATED"?this.data=e:(this.data=await this.$api.getQRID(this.id,this.privateCode),this.namecards=await this.$api.getQRIDsOfSetup(this.id,this.privateCode)))}catch(e){w.dialog.alert("Kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp!")}},async updateData(){if(this.data.status=="NOT_GENERATED"){w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c kh\u1EDFi t\u1EA1o");return}this.data.status=="QRID_STATUS.GENERATED"&&(this.data.activatedDate=new Date,this.data.status="QRID_STATUS.ACTIVE"),await this.$api.updateQRSaleInfo(this.id,this.data,this.privateCode)&&w.dialog.alert("SUCCESS updateData()")},async initData(){console.log("initData()",this.id,this.privateCode,this.data);let e=await this.$api.initCard(this.id,this.privateCode,this.data);e&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng"),this.data=e)}},async mounted(){await this.loadData()}}),bf=p("Close"),If={key:0,class:"content"},yf=p("Th\xF4ng tin qu\u1EA3n l\xFD"),kf=p("Kh\u1EDFi t\u1EA1o"),Df={key:1,class:"content"},Ef=p("Th\xF4ng tin qu\u1EA3n l\xFD"),wf=p("C\u1EADp nh\u1EADt"),Nf=p("Danh thi\u1EBFp \u0111ang qu\u1EA3n l\xFD");function Af(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-card-header"),C=a("f7-list-input"),b=a("f7-button"),m=a("f7-list-item"),y=a("f7-list"),E=a("f7-card"),T=a("f7-card-content"),P=a("f7-page"),O=a("edit-card"),x=a("f7-popup");return d(),h(N,null,[n(P,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(e.name),1)]),_:1}),e.isPopup?(d(),D(g,{key:0},{default:s(()=>[n(f,{onClick:t[0]||(t[0]=B=>e.closeItem())},{default:s(()=>[bf]),_:1})]),_:1})):k("",!0)]),_:1}),e.data.status=="NOT_GENERATED"?(d(),h("div",If,[n(E,null,{default:s(()=>[n(I,{"bg-color":"green"},{default:s(()=>[yf]),_:1}),n(y,{"no-hairlines-md":""},{default:s(()=>[n(C,{outline:"",label:"CardType","floating-label":"",type:"text",disabled:"",value:e.data.cardType,"onUpdate:value":t[1]||(t[1]=B=>e.data.cardType=B)},null,8,["value"]),n(C,{outline:"",label:"Tr\u1EA1ng th\xE1i","floating-label":"",type:"text",disabled:"",value:e.data.status,"onUpdate:value":t[2]||(t[2]=B=>e.data.status=B)},null,8,["value"]),n(C,{type:"text",outline:"",label:"T\xEAn ","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.ownerName,"onUpdate:value":t[3]||(t[3]=B=>e.data.ownerName=B)},null,8,["value"]),n(C,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i",pattern:"[0-9]*","clear-button":"",value:e.data.ownerPhoneNumber,"onUpdate:value":t[4]||(t[4]=B=>e.data.ownerPhoneNumber=B)},null,8,["value"]),n(C,{outline:"",label:"ID c\xF4ng ty","floating-label":"",type:"number",pattern:"[0-9]*","clear-button":"",value:e.data.ownerOrganizationId,"onUpdate:value":t[5]||(t[5]=B=>e.data.ownerOrganizationId=B)},null,8,["value"]),n(C,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.ownerAddress,"onUpdate:value":t[6]||(t[6]=B=>e.data.ownerAddress=B)},null,8,["value"]),n(m,null,{default:s(()=>[n(b,{fill:"",large:"",outline:"",onClick:t[7]||(t[7]=B=>e.initData())},{default:s(()=>[kf]),_:1})]),_:1})]),_:1})]),_:1})])):(d(),h("div",Df,[n(E,null,{default:s(()=>[n(I,{"bg-color":"green"},{default:s(()=>[Ef]),_:1}),n(y,{"no-hairlines-md":""},{default:s(()=>[n(C,{type:"text",outline:"",label:"T\xEAn ","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.ownerName,"onUpdate:value":t[8]||(t[8]=B=>e.data.ownerName=B)},null,8,["value"]),n(C,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp t\u1ED1i thi\u1EC3u 6 s\u1ED1 cu\u1ED1i",pattern:"[0-9]*","clear-button":"",value:e.data.ownerPhoneNumber,"onUpdate:value":t[9]||(t[9]=B=>e.data.ownerPhoneNumber=B)},null,8,["value"]),n(C,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.ownerAddress,"onUpdate:value":t[10]||(t[10]=B=>e.data.ownerAddress=B)},null,8,["value"]),n(m,null,{default:s(()=>[n(b,{fill:"",large:"",outline:"",onClick:t[11]||(t[11]=B=>e.updateData())},{default:s(()=>[wf]),_:1})]),_:1})]),_:1})]),_:1}),n(E,null,{default:s(()=>[n(I,{"bg-color":"blue"},{default:s(()=>[Nf]),_:1}),n(T,null,{default:s(()=>[n(y,{"media-list":""},{default:s(()=>[(d(!0),h(N,null,Q(e.namecards,B=>(d(),D(m,{key:B.id,onClick:H=>e.showItem(B),header:B.status,title:B.ownerName,subtitle:e.$utils.formatQRID(B.id),text:"Kh\u1EDFi t\u1EA1o: "+e.$utils.formatDate(B.activatedDate)},null,8,["onClick","header","title","subtitle","text"]))),128))]),_:1})]),_:1})]),_:1})]))]),_:1}),n(x,{opened:e.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[n(O,{id:e.selectedId,privateCode:e.selectedCode,isPopup:!0,onCloseItem:e.closeItem},null,8,["id","privateCode","onCloseItem"])]),_:1},8,["opened"])],64)}var Tf=S(Cf,[["render",Af]]);const Pf={props:{src:String,icon:Boolean,cropper:Boolean,cancelText:{type:String,default:"Cancel"},doneText:{type:String,default:"Done"},viewportType:{type:String,default:"square"},viewportWidth:{type:Number,default:320},viewportHeight:{type:Number,default:240},cropWidth:{type:Number,default:960},cropHeight:{type:Number,default:540}},emits:["file"],setup(e,{emit:t}){const l=$e(null),c=({file:r,fileContent:_})=>{let f;function g(){f.setZoom(f._currentZoom)}const v=w.popup.create({backdrop:w.$(l.value).parents(".popup").length===0,content:`
            <div class="popup popup-avatar-picker popup-tablet-fullscreen theme-dark">
              <div class="view view-init">
                <div class="page">
                  <div class="popup-avatar-picker-image-crop"></div>
                  <div class="popup-avatar-picker-toolbar toolbar tabbar toolbar-bottom no-hairline no-shadow">
                    <div class="toolbar-inner">
                      <a href="#" class="link popup-close" data-popup=".popup-avatar-picker">${e.cancelText}</a>
                      <a href="#" class="link popup-avatar-picker-crop-image">${e.doneText}</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `.trim(),on:{open(){const I=ke.Croppie||ke;f=new I(v.$el.find(".popup-avatar-picker-image-crop")[0],{enableResize:!0,enableZoom:!0,enforceBoundary:!0,showZoomer:!0,enableExif:!0,viewport:{width:e.viewportWidth,height:e.viewportHeight,type:e.viewportType}}),f.bind({url:_,zoom:0}),v.$el.find("a.popup-avatar-picker-crop-image").on("click",()=>{f.result({type:"base64",size:{width:e.viewportWidth*3},format:"jpeg",quality:.9}).then(C=>{t("file",{file:r,fileContent:C})}),v.close()}),w.on("resize",g)},closed(){w.off("resize",g),setTimeout(()=>{v.destroy(),f.destroy()},100)}}});v.open()};return{elRef:l,onFileChange:r=>{const _=r.target,f=_.files[0];if(f.type.indexOf("image")===0){const g=new window.FileReader;g.onload=v=>{e.cropper?(c({file:f,fileContent:v.target.result}),_.value=null):t("file",{file:f,fileContent:v.target.result})},g.readAsDataURL(f)}}}}},$f=i("i",{class:"icon f7-icons if-not-md"},"camera_fill",-1),Uf=i("i",{class:"icon f7-icons if-md"},"camera",-1);function Sf(e,t,l,c,o,r){return d(),h("div",{class:"avatar-picker",ref:c.elRef},[i("label",null,[i("input",{type:"file",accept:"image/png,image/gif,image/jpeg",onChange:t[0]||(t[0]=(..._)=>c.onFileChange&&c.onFileChange(..._))},null,32),l.icon?(d(),h(N,{key:0},[$f,Uf],64)):k("",!0)]),Be(e.$slots,"default")],512)}var Rf=S(Pf,[["render",Sf]]);const xf={emit:["uploaded"],components:{ImagePicker:Rf},props:{imageUrl:String},data(){return{bannerUrl:""}},watch:{imageUrl:"updateImage"},methods:{updateImage(){this.imageUrl&&(this.bannerUrl=this.imageUrl)},clearBanner(){this.bannerUrl="",this.$emit("uploaded","")},async onFile(e){let t=await this.$utils.onFile(e);t?(this.bannerUrl=t,this.$emit("uploaded",t)):f7.dialog.alert("upload file faild")}},mounted(){this.bannerUrl=this.imageUrl||"https://apps.vinaas.com/file/qRa7o3Xw9"}},Of=e=>(W("data-v-64d1a8ee"),e=e(),X(),e),Bf={class:"wrap"},Hf={class:"block"},Qf=["src"],Vf={class:"image-edit"},Lf={class:"row"},zf=Of(()=>i("i",{class:"f7-icons"},"xmark_circle",-1)),qf=[zf];function Ff(e,t,l,c,o,r){const _=a("f7-row"),f=a("image-picker");return d(),h("div",Bf,[i("div",Hf,[n(_,{style:{"min-height":"200px"}},{default:s(()=>[i("img",{src:o.bannerUrl,style:{"max-width":"100%",height:"auto"}},null,8,Qf)]),_:1})]),i("div",Vf,[i("div",Lf,[i("button",{style:{width:"50px","margin-right":"20px"},class:"bg-color-gray button button-round button-large button-fill",onClick:t[0]||(t[0]=g=>r.clearBanner())},qf),n(f,{cropper:"",icon:"",onFile:r.onFile},null,8,["onFile"])])])])}var It=S(xf,[["render",Ff],["__scopeId","data-v-64d1a8ee"]]);const Mf={emits:["updated","click"],components:{Banner:It},props:{refreshIndex:{type:Number,default:0},isView:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showBanner:{type:Boolean,default:!0},showContent:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},data:Object},data(){return{enablePopup:!1,value:{bannerUrl:"",title:"",subTitle:"",content:"",btnEnable:!1,btnText:"",url:""}}},watch:{data:"syncData"},methods:{closePreview(){this.syncData(),this.enablePopup=!1},showPreview(){this.enablePopup=!0},saveEdit(){this.$emit("updated",this.value),this.enablePopup=!1},syncData(){lt.isEmpty(this.data)||(this.value=this.data,this.value.bannerUrl=this.data.bannerUrl)},redirect(){this.isView&&this.value.btnEnable&&this.value.url&&this.$emit("click",{name:"action_footer",type:"URL",url:this.value.url,text:""})},uploadBanner(e){this.value.bannerUrl=e}},mounted(){this.syncData()}},ie=e=>(W("data-v-c7bede44"),e=e(),X(),e),Gf={class:"wrap"},Kf={key:0,class:"content-edit"},Yf=ie(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),jf=[Yf],Jf={key:1,class:"block",style:{"margin-top":"5px","margin-bottom":"0px"}},Wf={key:0,class:"block-title",style:{"text-align":"center"}},Xf=["src"],Zf=["innerHTML"],e1={key:2,class:"block"},t1=ie(()=>i("div",{class:"col-10"},null,-1)),i1={class:"col-80"},n1=ie(()=>i("div",{class:"col-10"},null,-1)),o1=p("Close"),s1={key:0,class:"card"},a1={class:"list"},l1={class:"item-content item-input"},r1={class:"item-inner"},d1=ie(()=>i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1",-1)),c1={class:"item-input-wrap"},u1=ie(()=>i("span",{class:"input-clear-button"},null,-1)),p1={key:2,class:"card"},h1=ie(()=>i("div",{class:"card-header"},"N\u1ED9i dung gi\u1EDBi thi\u1EC7u",-1)),m1=[h1],_1={key:3,class:"card"},f1=ie(()=>i("div",{class:"card-header"},"Button chuy\u1EC3n trang",-1)),g1={class:"row"},v1=ie(()=>i("div",{class:"col-10"},null,-1)),C1={class:"col-80"},b1={key:0,class:"button button-large bg-color-green button-round button-fill"},I1={key:1,class:"button button-large button-outline"},y1=ie(()=>i("div",{class:"col-10"},null,-1)),k1={class:"list"},D1={class:"item-content"},E1=p(" Hi\u1EC3n th\u1ECB / \u1EA8n button "),w1={class:"item-content item-input"},N1={class:"item-inner"},A1=ie(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),T1={class:"item-input-wrap"},P1=ie(()=>i("span",{class:"input-clear-button"},null,-1)),$1={class:"item-content item-input"},U1={class:"item-inner"},S1=ie(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),R1={class:"item-input-wrap"},x1=ie(()=>i("span",{class:"input-clear-button"},null,-1)),O1={class:"block row"},B1=ie(()=>i("div",{class:"col-20"},null,-1)),H1={class:"col-60"},Q1=ie(()=>i("div",{class:"col-20"},null,-1));function V1(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("banner"),I=a("f7-text-editor"),C=a("f7-toggle"),b=a("f7-page"),m=a("f7-popup");return d(),h(N,null,[i("div",Gf,[l.isView?k("",!0):(d(),h("div",Kf,[i("a",{onClick:t[0]||(t[0]=y=>r.showPreview())},jf)])),l.showContent?(d(),h("div",Jf,[l.showTitle?(d(),h("div",Wf,u(o.value.title),1)):k("",!0),l.showBanner?(d(),h("img",{key:1,src:o.value.bannerUrl,style:{"max-width":"100%",height:"auto"}},null,8,Xf)):k("",!0),i("div",{innerHTML:o.value.content,id:"content-image"},null,8,Zf)])):k("",!0),l.showButton?(d(),h("div",e1,[t1,i("div",i1,[o.value.btnEnable?(d(),h("button",{key:0,class:"button button-large button-round bg-color-green button-fill",onClick:t[1]||(t[1]=(...y)=>r.redirect&&r.redirect(...y))},u(o.value.btnText),1)):k("",!0)]),n1])):k("",!0)]),n(m,{id:"iblock",opened:o.enablePopup,"onUpdate:opened":t[9]||(t[9]=y=>o.enablePopup=y),"tablet-fullscreen":!0},{default:s(()=>[n(b,null,{default:s(()=>[n(g,{title:"Edit Content"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=y=>r.closePreview())},{default:s(()=>[o1]),_:1})]),_:1})]),_:1}),l.showTitle?(d(),h("div",s1,[i("div",a1,[i("div",l1,[i("div",r1,[d1,i("div",c1,[A(i("input",{type:"text",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=y=>o.value.title=y)},null,512),[[V,o.value.title]]),u1])])])])])):k("",!0),l.showBanner?(d(),D(v,{key:1,imageUrl:o.value.bannerUrl,onUploaded:r.uploadBanner},null,8,["imageUrl","onUploaded"])):k("",!0),l.showContent?(d(),h("div",p1,m1)):k("",!0),n(I,{placeholder:"Enter text...",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["image"],["paragraph","h2","h3"],["alignLeft","alignCenter","alignRight"]],value:o.value.content,style:{"--f7-text-editor-height":"400px"},"clear-formatting-on-paste":!1,"onTexteditor:change":t[4]||(t[4]=y=>o.value.content=y)},null,8,["value"]),l.showButton?(d(),h("div",_1,[f1,i("div",g1,[v1,i("div",C1,[o.value.btnEnable?(d(),h("button",b1,u(o.value.btnText),1)):(d(),h("button",I1,u(o.value.btnText),1))]),y1]),i("div",k1,[i("ul",null,[i("li",D1,[n(C,{color:"blue",checked:o.value.btnEnable,"onUpdate:checked":t[5]||(t[5]=y=>o.value.btnEnable=y)},null,8,["checked"]),E1]),i("li",w1,[i("div",N1,[A1,i("div",T1,[A(i("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=y=>o.value.btnText=y)},null,512),[[V,o.value.btnText]]),P1])])]),i("li",$1,[i("div",U1,[S1,i("div",R1,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[7]||(t[7]=y=>o.value.url=y)},null,512),[[V,o.value.url]]),x1])])])])])])):k("",!0),i("div",O1,[B1,i("div",H1,[i("button",{onClick:t[8]||(t[8]=y=>r.saveEdit()),class:"button button-round button-large button-fill"}," Save ")]),Q1])]),_:1})]),_:1},8,["opened"])],64)}var ce=S(Mf,[["render",V1],["__scopeId","data-v-c7bede44"]]);const L1={emits:["update","clickAction"],components:{AvatarPicker:Ue,ImagePicker:Se,iBlockContent:ce},props:{title:{type:String,default:"Block Title"},blockType:{type:String,default:"BUTTON"},data:Object,isView:{type:Boolean,default:!1},refreshIndex:{type:Number,default:0}},data(){return{types:[{name:"URL",value:"URL",title:"Chuy\u1EC3n \u0111\u1EBFn trang"},{name:"POPUP",value:"POPUP",title:"Hi\u1EC3n th\u1ECB Trang chi ti\u1EBFt"}],action:{name:"action_1",enable:!1,valueType:"URL",icon:"house",value:{bannerUrl:this.$utils.getNoBanner(),title:"Nh\u1EADp Ti\xEAu \u0111\u1EC1",content:"Nh\u1EADp n\u1ED9i dung",url:"",btnEnable:!0,btnText:"View more"},title:"click 1",subTitle:""},redirectUrl:"",enablePopup:!1,enableEdit:!1}},watch:{refreshIndex:"refreshData"},mounted(){this.refreshData()},methods:{selectType(e){this.action.valueType=e},refreshData(){this.action=this.data,this.action.value=this.data.value,this.action.valueType=this.action.valueType||"URL",this.action.value&&(this.value=this.action.value)},updateValue(e){console.log("updateValue",e),this.action.value=e},saveEdit(){this.action.valueType=="URL"&&this.redirectUrl&&(this.action.value={url:this.redirectUrl}),console.log("action",this.action),this.$emit("update",this.action)},closePreview(){this.enablePopup=!1},showPreview(){this.refreshIndex2++,this.enablePopup=!0},clickSubAction(e){if(e.value){let t=e.value.url||"";this.$emit("clickAction",{name:e.name,type:"URL",url:t,text:"Click next "+e.value.btnText})}else w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e.name}`)},clickAction(e){if(!this.isView)this.showPreview();else{if(e.valueType=="URL")if(console.log("action",e),e.value){let t=e.value.url||"";this.$emit("clickAction",{name:e.name,type:e.valueType,url:t,text:""})}else w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e.name}`);e.valueType=="POPUP"&&(this.$emit("clickAction",{name:e.name,type:e.valueType,url:"",text:e.title}),this.showPreview())}},closeEdit(){this.enableEdit=!1},showEdit(){this.enableEdit=!0},clearBanner(){this.value.bannerUrl=""},async onFile(e){let t=await this.$utils.onFile(e);t?this.value.bannerUrl=t:w.dialog.alert("upload file faild")}}},se=e=>(W("data-v-758cd53e"),e=e(),X(),e),z1={class:"block content"},q1={key:0,class:"content-edit"},F1=se(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),M1=[F1],G1={key:1},K1={key:2,class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},Y1=p("Close"),j1={class:"block"},J1={key:2,class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},W1={class:"list"},X1={class:"item-content"},Z1=p(" Hi\u1EC3n th\u1ECB / \u1EA8n button "),eg={class:"item-content item-input"},tg={class:"item-inner"},ig=se(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),ng={class:"item-input-wrap"},og=se(()=>i("span",{class:"input-clear-button"},null,-1)),sg={class:"item-content item-input"},ag={class:"item-inner"},lg=se(()=>i("div",{class:"item-title item-label"},"Button Description",-1)),rg={class:"item-input-wrap"},dg=se(()=>i("span",{class:"input-clear-button"},null,-1)),cg=se(()=>i("div",{class:"row block-header"},"Thi\u1EBFt l\u1EADp h\xE0nh \u0111\u1ED9ng khi b\u1EA5m v\xE0o button tr\xEAn",-1)),ug={class:"row"},pg=["onClick"],hg=["onClick"],mg={class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},_g={class:"card"},fg={class:"list"},gg={class:"item-content item-input"},vg={class:"item-inner"},Cg=se(()=>i("div",{class:"item-title item-label"},"Link c\u1EA7n chuy\u1EC3n t\u1EDBi: website, google form, youtube video, ...",-1)),bg={class:"item-input-wrap"},Ig=se(()=>i("span",{class:"input-clear-button"},null,-1)),yg={class:"card"},kg=se(()=>i("div",{class:"card-header"}," Th\xF4ng tin trang chi ti\u1EBFt",-1)),Dg={class:"block"},Eg={class:"row"},wg=se(()=>i("div",{class:"col-20"},null,-1)),Ng={class:"col-60"},Ag=se(()=>i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"Nh\u1EDB b\u1EA5m \u0111\u1EC3 l\u01B0u th\xF4ng tin",-1)),Tg=se(()=>i("div",{class:"col-20"},null,-1)),Pg=p("Close"),$g={class:"block"},Ug=se(()=>i("div",{class:"block block-title-medium"},"Trang n\xE0y s\u1EBD kh\xF4ng hi\u1EC3n th\u1ECB m\xE0 t\u1EF1 \u0111\u1ED9ng redirect t\u1EDBi link",-1)),Sg={class:"item-content"};function Rg(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-toggle"),I=a("i-block-content"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("section",z1,[l.isView?k("",!0):(d(),h("div",q1,[i("a",{onClick:t[0]||(t[0]=m=>r.showEdit())},M1)])),l.blockType=="BUTTON"?(d(),h("div",G1,[o.action.enable?(d(),h("button",{key:0,onClick:t[1]||(t[1]=m=>r.clickAction(o.action)),class:"button button-large button-round button-fill"},u(o.action.title),1)):(d(),h("button",{key:1,onClick:t[2]||(t[2]=m=>r.clickAction(o.action)),class:"button button-large button-round"},u(o.action.title),1)),o.action.subTitle?(d(),h("div",K1,u(o.action.subTitle),1)):k("",!0)])):k("",!0)]),n(b,{id:"enableEdit",opened:o.enableEdit,"onUpdate:opened":t[11]||(t[11]=m=>o.enableEdit=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Edit Button"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[3]||(t[3]=m=>r.closeEdit())},{default:s(()=>[Y1]),_:1})]),_:1})]),_:1}),i("div",j1,[o.action.enable?(d(),h("button",{key:0,onClick:t[4]||(t[4]=m=>r.clickAction(o.action)),class:"button button-large button-round button-fill"},u(o.action.title),1)):(d(),h("button",{key:1,onClick:t[5]||(t[5]=m=>r.clickAction(o.action)),class:"button button-large button-round"},u(o.action.title),1)),o.action.subTitle?(d(),h("div",J1,u(o.action.subTitle),1)):k("",!0),i("div",W1,[i("ul",null,[i("li",X1,[n(v,{color:"blue",checked:o.action.enable,"onUpdate:checked":t[6]||(t[6]=m=>o.action.enable=m)},null,8,["checked"]),Z1]),i("li",eg,[i("div",tg,[ig,i("div",ng,[A(i("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=m=>o.action.title=m)},null,512),[[V,o.action.title]]),og])])]),i("li",sg,[i("div",ag,[lg,i("div",rg,[A(i("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=m=>o.action.subTitle=m)},null,512),[[V,o.action.subTitle]]),dg])])]),cg,i("div",ug,[(d(!0),h(N,null,Q(o.types,m=>(d(),h("div",{class:"col",key:m.name},[m.value==o.action.valueType?(d(),h("button",{key:0,onClick:y=>r.selectType(m.value),class:"col button button-fill"},u(m.value),9,pg)):(d(),h("button",{key:1,onClick:y=>r.selectType(m.value),class:"col button button-outline"},u(m.value),9,hg)),i("div",mg,u(m.title),1)]))),128))])])])]),A(i("div",_g,[i("div",fg,[i("ul",null,[i("li",gg,[i("div",vg,[Cg,i("div",bg,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[9]||(t[9]=m=>o.redirectUrl=m)},null,512),[[V,o.redirectUrl]]),Ig])])])])])],512),[[F,o.action.valueType=="URL"]]),A(i("div",yg,[kg,n(I,{showTitle:!1,data:o.action.value,refreshIndex:0,isView:!1,onUpdated:r.updateValue},null,8,["data","onUpdated"])],512),[[F,o.action.valueType=="POPUP"]]),i("div",Dg,[i("div",Eg,[wg,i("div",Ng,[i("button",{onClick:t[10]||(t[10]=m=>r.saveEdit()),class:"button button-round button-large button-fill"}," Save "),Ag]),Tg])])]),_:1})]),_:1},8,["opened"]),n(b,{id:"iblock",opened:o.enablePopup,"onUpdate:opened":t[14]||(t[14]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,{style:{"background-color":"white"}},{default:s(()=>[n(g,{title:o.action.title},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[12]||(t[12]=m=>r.closePreview())},{default:s(()=>[Pg]),_:1})]),_:1})]),_:1},8,["title"]),A(i("div",$g,[Ug,i("div",Sg,u(o.redirectUrl),1)],512),[[F,o.action.valueType=="URL"]]),A(i("div",null,[n(I,{showTitle:!1,data:o.action.value,onClick:t[13]||(t[13]=m=>r.clickSubAction(o.action))},null,8,["data"])],512),[[F,o.action.valueType=="POPUP"]])]),_:1})]),_:1},8,["opened"])],64)}var Xe=S(L1,[["render",Rg],["__scopeId","data-v-758cd53e"]]);let de={ishop:{name:"T\xEAn c\u1EEDa h\xE0ng, \u0111\u1ED9i nh\xF3m... kh\xF4ng qu\xE1 20 nh\xE2n vi\xEAn",content:"\u0110\u1ECBa ch\u1EC9 c\u1EEDa h\xE0ng, v\u0103n ph\xF2ng,..."},iShopHeader:{bannerUrl:"https://apps.vinaas.com/file/fn4Cz6hOj",content:"Th\xF4ng tin khuy\u1EBFn m\xE3i, n\u1ED5i b\u1EADt c\u1EA7n thu h\xFAt ng\u01B0\u1EDDi xem,..."},iblocks:[{name:"action_1",enable:!0,icon:"phone-fill",url:"",title:"Ch\u01B0\u01A1ng tr\xECnh m\u1EDBi nh\u1EA5t",subTitle:"khuy\u1EBFn m\xE3i, gi\u1EA3m gi\xE1, t\u1EB7ng qu\xE0,... thu h\xFAt kh\xE1ch h\xE0ng"},{name:"action_2",enable:!0,icon:"phone-fill",url:"",title:"S\u1EA3n ph\u1EA9m n\u1ED5i b\u1EADt",subTitle:"\u0111\u1EC3 th\xFAc \u0111\u1EA9y nhu c\u1EA7u c\u1EE7a kh\xE1ch h\xE0ng"},{name:"action_3",enable:!0,icon:"phone",url:"",title:"B\u1EA3ng gi\xE1 d\u1ECBch v\u1EE5"},{name:"action_4",enable:!1,icon:"phone",url:"",title:"Our Customers"},{name:"action_5",enable:!1,icon:"phone",url:"",title:"Our Teams"},{name:"action_6",enable:!1,icon:"phone",url:"",title:"T\u1EDBi c\u1EEDa h\xE0ng",subTitle:"ch\u1EC9 \u0111\u01B0\u1EDDng qua google map"},{name:"action_7",enable:!0,icon:"phone",url:"",title:"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i",subTitle:"qua group Zalo b\xE1n h\xE0ng"}],iShopFooter:{content:"Thu\u1ED9c v\u1EC1 Ph\xF2ng ban, C\xF4ng ty l\u1EDBn h\u01A1n"},props:[{name:"name",title:"T\xEAn c\u1EEDa h\xE0ng",type:"text",icon:"house",placeholder:"T\xEAn c\u1EEDa h\xE0ng"},{name:"shortName",title:"T\xEAn ng\u1EAFn g\u1ECDn",type:"text",icon:"house",placeholder:"T\xEAn vi\u1EBFt t\u1EAFt"},{name:"imageUrl",title:"H\xECnh \u0111\u1EA1i di\u1EC7n",type:"url",icon:"house",placeholder:"H\xECnh \u1EA3nh"},{name:"youtube",title:"link Youtube",type:"url",icon:"house",placeholder:"Youtube video"},{name:"address",title:"\u0110\u1ECBa ch\u1EC9",type:"text",icon:"house",placeholder:"\u0110\u1ECBa ch\u1EC9"},{name:"phone",title:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",type:"text",icon:"house",placeholder:"hotline"},{name:"website",title:"Link website",type:"url",icon:"house",placeholder:"website"}],iShopInfo:{id:100010010880001,name:"C\xF4ng ty Ph\u1EA7n M\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam (VinaAS)",content:"305&nbsp; H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, Tp H\u1ED3 Ch\xED Minh<div>M\xE3 s\u1ED1 thu\u1EBF: 0311071162</div>",shortName:"",address:"",hotline:"",taxCode:""},iShopAuthentic:{enable:!0,id:100010010880001,name:"C\xF4ng ty Ph\u1EA7n M\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam (VinaAS)",content:"305&nbsp; H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, Tp H\u1ED3 Ch\xED Minh<div>M\xE3 s\u1ED1 thu\u1EBF: 0311071162</div>",title:"Gi\xE1m \u0111\u1ED1c",status:"WORKING",authenText:"Xac thuc"},iCardProps:{enable:!0,id:100010010880001,title:"Gi\xE1m \u0111\u1ED1c",desc:"M\xF4 t\u1EA3 ch\u1EE9c danh, ph\u1EA1m vi c\xF4ng vi\u1EC7c",status:"WORKING",name:"C\xF4ng ty TNHH Ph\u1EA7n M\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",taxCode:"0311071162",address:"11 \u0110\u1EB7ng Th\u1EBF Phong, p t\xE2n S\u01A1n Nh\xEC, q T\xE2n Ph\xFA"},iShopActions:[{name:"addContact",text:"Th\xEAm Danh b\u1EA1"},{name:"toWebsite",text:"T\u1EDBi"}],freeActions:[{name:"ICARD_NOTE",type:"ACTIVITY.ICARD_NOTE",title:"Th\xEAm ghi ch\xFA",desc:"L\u01B0u l\u1EA1i th\u1EF1c t\u1EBF c\xF4ng vi\u1EC7c",forFree:!0,recentLimit:5}],iCardActions:[{name:"ICARD_REPORT",type:"ACTIVITY.ICARD_REPORT",title:"C\u1EADp nh\u1EADt",desc:"G\u1EEDi h\xECnh \u1EA3nh th\u1EF1c t\u1EBF cho Qu\u1EA3n l\xFD sau khi g\u1EB7p g\u1EE1 kh\xE1ch h\xE0ng hay ho\xE0n th\xE0nh m\u1ED9t c\xF4ng vi\u1EC7c theo k\u1EBF ho\u1EA1ch \u0111\u01B0a ra",forFree:!0,recentLimit:5}]};const xg=G({name:"VueQr3",props:{qrCodeUrl:{type:String,default:"http://qr-code-styling.com"},logoUrl:{type:String,default:"https://apps.vinaas.com/file/tgs5EFo1O"},qrid:{type:String},width:{type:Number,default:300},height:{type:Number,default:300}},data(){const e={width:320,height:320,type:"svg",data:this.qrCodeUrl,image:"",margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#00f900"},dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"square",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}};return{options:e,extension:"svg",qrCode:new rt(e),logoUrl:"https://apps.vinaas.com/file/tgs5EFo1O"}},async mounted(){this.qrCode.append(this.$refs.svg),await this.convertToImage()},watch:{qrCodeUrl(e){e&&(this.refreshQRCode(),this.qrCode.update(this.options),this.convertToImage())}},methods:{refreshQRCode(){this.options.data=this.qrCodeUrl,this.options.image=this.logoUrl,this.options.width=this.width,this.options.height=this.height},async convertToImage(){var e=this.$refs.svg.firstChild;console.log("mysvg",e),console.log("mysvg2",this.qrCode._svg);var t=this.$refs.imgQrcode,l=document.createElement("canvas"),c=l.getContext("2d"),o=new Image;if(o.width=l.width=this.width,o.height=l.height=this.height,o.onload=function(){c.drawImage(o,0,0,o.width,o.height),t.src=l.toDataURL()},e){var r=new XMLSerializer().serializeToString(e);o.src="data:image/svg+xml,"+encodeURIComponent(r)}}}}),Og={class:"block"},Bg={id:"qr-code",ref:"svg",hidden:""},Hg={class:"block-content",style:{"background-color":"#00f900"}},Qg={width:"300",height:"300",ref:"imgQrcode"},Vg={style:{"text-align":"center","margin-top":"-10px","font-size":"20px"}};function Lg(e,t,l,c,o,r){return d(),h("div",Og,[i("div",Bg,null,512),i("div",Hg,[i("img",Qg,null,512),i("p",Vg,u(e.qrid),1)])])}var zg=S(xg,[["render",Lg],["__scopeId","data-v-12e57fc0"]]);const qg=G({emits:["detect","warning"],props:{cardType:{type:String,default:"ICARD"}},components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),this.warning=!1,this.qrUrl=e;let t=!0;{let o=new URL(e).pathname.split("/");if(o[2]&&o[2].length>0){let r={status:"VALID",url:e};this.$emit("detect",r)}else t=!1}if(!t){this.warning="Kh\xF4ng \u0111\xFAng tem qrcode xanh";let l={status:"INVALID",url:e};console.log(l),this.$emit("detect",l)}}}}),Fg=e=>(W("data-v-3479d042"),e=e(),X(),e),Mg={class:"reader"},Gg={class:"center stream"},Kg=Fg(()=>i("div",{style:{color:"red"},class:"frame"},null,-1));function Yg(e,t,l,c,o,r){const _=a("qr-stream");return d(),h("div",Mg,[i("div",null,[i("div",Gg,[n(_,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[Kg]),_:1},8,["onDecode"])])]),i("div",null,u(e.qrUrl),1)])}var yt=S(qg,[["render",Yg],["__scopeId","data-v-3479d042"]]);const jg={emits:["done","close"],components:{ScanIcard:yt,iCardOverview:oe},props:{id:{type:Number,default:0},privateCode:{type:String,default:""},enable:{type:Boolean,default:!1}},data(){return{device:Pe(),iShopUrl:"",verified:!1,verifiedResult:"",message:"",showOverview:!1,metadata:{},background:"",data:{id:"",index:"",privateCode:"",type:"",enable:""}}},watch:{},computed:{enableAdd2Ishop(){let e=!0;return e=this.verified,(this.id<=0||!this.privateCode)&&(e=!1),(this.data.id<=0||!this.data.privateCode)&&(e=!1),e}},methods:{async detectIcard(e){e&&e.status=="VALID"?(this.iShopUrl=e.url,await this.parseiShopUrl()):this.iShopUrl=""},async verifyICard(){},async parseiShopUrl(){let e=!0;if(this.iShopUrl){let l=new URL(this.iShopUrl).pathname;this.iShopUrl.includes("#!")&&(l=this.iShopUrl.split("#!")[1]);let c=l.split("/");if(c[2]&&c[3]=="p"){this.data.id=c[2],this.data.privateCode=c[4];let o=await this.$api.getQRID(this.data.id,this.data.privateCode);o?o.status=="QRID_STATUS.ACTIVE"?(this.data=o,this.data.type="ICARD",this.message=""):(this.message="Th\u1EBB ch\u01B0a k\xEDch ho\u1EA1t. Vui l\xF2ng th\u1EF1c hi\u1EC7n.",e=!1):(this.message="iCard kh\xF4ng t\u1ED3n t\u1EA1i",e=!1)}else if(c[2]&&c[3]=="i"&&c[5]=="p"){this.data.id=c[2],this.data.index=c[4],this.data.privateCode=c[6],this.message="";let o=await this.$api.getIDocument(this.data.id,this.data.index,this.data.privateCode);o?o.status=="QRID_STATUS.ACTIVE"||o.status=="QRID_STATUS.GENERATED"?(this.message="",this.data=o,this.data.type="ISHOP"):(this.message="iShop ch\u01B0a k\xEDch ho\u1EA1t. Vui l\xF2ng th\u1EF1c hi\u1EC7n.",e=!1):(this.message="iShop kh\xF4ng t\u1ED3n t\u1EA1i",e=!1)}else this.message="qrCode kh\xF4ng \u0111\xFAng",e=!1;e?this.$emit("done",this.data):w.dialog.alert(this.message,"iShowroom")}return e},close(){this.$emit("close","")},async addToIShop(){if(this.enableAdd2Ishop){w.dialog.preloader();let e=await this.$api.addIcard2Ishop(this.id,this.privateCode,this.data.id);w.dialog.close(),e&&e.status!="INVALID"?(w.dialog.alert("SUCCESS!","iShop"),this.$emit("addToIshop","SUCCESS")):w.dialog.alert("FAILED","iShop")}}}},Jg={class:"block"},Wg={key:1,class:"list"},Xg={key:0,class:"item-content item-input"},Zg={class:"item-inner"},ev=i("div",{class:"item-title item-label"},"QRCode Xanh",-1),tv={class:"item-input-wrap"},iv=i("span",{class:"input-clear-button"},null,-1),nv={class:"item-content item-input"},ov={class:"block-title"},sv={class:"item-content"},av={class:"block-title"},lv={key:2,class:"row"},rv={class:"col-60"},dv={class:"col-30"},cv={class:"block-title"},uv={class:"block-title"};function pv(e,t,l,c,o,r){const _=a("scan-icard");return d(),h("div",Jg,[l.enable?(d(),D(_,{key:0,onDetect:r.detectIcard},null,8,["onDetect"])):k("",!0),o.device.desktop?(d(),h("div",Wg,[i("ul",null,[o.device.desktop?(d(),h("li",Xg,[i("div",Zg,[ev,i("div",tv,[A(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=f=>o.iShopUrl=f)},null,512),[[V,o.iShopUrl]]),iv])])])):k("",!0),i("li",nv,[i("div",ov,"ID: "+u(o.data.id),1)]),i("li",sv,[i("div",av,"Message: "+u(o.message),1)])])])):k("",!0),o.device.desktop?(d(),h("div",lv,[i("div",rv,[i("div",{class:"button button-large button-round button-fill",onClick:t[1]||(t[1]=f=>r.parseiShopUrl())}," K\u1EBFt qu\u1EA3 ")]),i("div",dv,[i("div",{class:"button button-large button-round button-outline",onClick:t[2]||(t[2]=f=>r.close())},"Close ")]),i("div",cv,u(o.verifiedResult),1),i("div",uv,u(o.data),1)])):k("",!0)])}var Ce=S(jg,[["render",pv]]);const hv={components:{Avatar:ge,iShopAuthentic:Le},props:{id:String,info:{type:Object,default:{background:"",ishop:{},vcard:{}}}},watch:{info(e){e&&this.loadData()}},computed:{fullName(){return console.log("fullName",this.vCard),this.vCard&&(this.vCard.lastName||this.vCard.firstName)?[this.vCard.lastName," ",this.vCard.firstName].join(""):"ID:"+this.$utils.formatQRID(this.id)},getAddress(){return this.vCard&&this.vCard.address||""},getBG(){return this.background||this.$utils.getNoAvatar()},title(){if(this.ishop&&this.ishop.title)return this.ishop.title;if(this.vCard&&this.vCard.title)return this.vCard.title},organization(){if(this.ishop&&this.ishop.title)return null;if(this.vCard&&this.vCard.organization)return this.vCard.organization}},data(){return{background:"",ishop:{},vCard:{}}},methods:{loadData(){this.background=this.info.background,this.ishop=this.info.ishop||{},this.vCard=this.info.vcard||{},console.log("icard-info",this.info)}}},mv={key:2,style:{"text-align":"center",margin:"10px"}};function _v(e,t,l,c,o,r){const _=a("i-shop-authentic"),f=a("avatar"),g=a("f7-block-title"),v=a("f7-block");return d(),h(N,null,[n(_,{id:l.id,ishop:o.ishop},null,8,["id","ishop"]),n(v,{style:{"margin-top":"5px"}},{default:s(()=>[n(f,{src:r.getBG,style:{margin:"auto",width:"50%",height:"50%"}},null,8,["src"]),n(g,{style:{"text-align":"center",margin:"10px"},medium:""},{default:s(()=>[p(u(r.fullName),1)]),_:1}),r.title?(d(),D(g,{key:0,style:{"text-align":"center",margin:"10px"}},{default:s(()=>[p(u(r.title),1)]),_:1})):k("",!0),r.organization?(d(),D(g,{key:1,style:{"text-align":"center",margin:"10px"}},{default:s(()=>[p(u(r.organization),1)]),_:1})):k("",!0),r.getAddress?(d(),h("div",mv,[i("span",null,u(r.getAddress),1)])):k("",!0)]),_:1})],64)}var we=S(hv,[["render",_v]]);const fv={components:{ScanQrcode:Ce,iBlockContent:ce,iCardInfo:we},props:{f7route:Object,f7router:Object,icardId:{type:String},privateCode:{type:String},info:Object},data(){return{popupListCheckins:!1,popupCheckin:!1,popupIshopPreview:!1,iShopId:"",ishopIndex:0,ishopCode:"",ishop:{name:"tri\u1EC5n l\xE3m",content:"\u0111\u1ECBa ch\u1EC9"},ishopHeader:{},data:{},listCheckins:[{ishopId:0,ishopIndex:0,icardId:0,actionType:"CHECKIN",message:"string",metadata:{},created:""}]}},methods:{async closeCheckin(e){if(this.data=e,e.type=="ISHOP"){if(this.ishopId=e.id,this.ishopIndex=e.index,this.ishopCode=e.privateCode,e.metadata.ishop){this.ishop=e.metadata.ishop,this.ishopHeader=e.metadata.ishopHeader;let t={ishopId:this.ishopId,ishopIndex:this.ishopIndex,icardId:this.icardId,actionType:"CHECKIN.BYSELF",message:"T\u1EF1 Check-in th\xE0nh c\xF4ng",metadata:{}};this.$api.createQRCheckin(t),this.popupIshopPreview=!0}this.popupCheckin=!1}},clickCheckin(){this.popupCheckin=!0},async closeIshopPreview(){await this.getListCheckins(),this.popupIshopPreview=!1},async showListCheckin(){await this.getListCheckins(),this.popupListCheckins=!0},closeListCheckin(){this.popupListCheckins=!1},async showIshopPreview(e){let t=await this.$api.getQRID(e.ishopId);t&&(this.ishopId=t.id,this.ishopIndex=t.index,this.ishopCode=t.privateCode,t.metadata.ishop&&(this.ishop=t.metadata.ishop,this.ishopHeader=t.metadata.ishopHeader,this.popupIshopPreview=!0))},async getListCheckins(){let e=await this.$api.getCheckinByICard(this.icardId,this.privateCode);this.listCheckins=e||[]}}},gv=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"at iShop",-1),vv=p("Close"),Cv={class:"block"},bv=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"at location has square green qrcode",-1),Iv={class:"card"},yv={class:"card-header bg-color-green"},kv={class:"list media-list medium-inset"},Dv={class:"item-content chevron-center"},Ev={class:"item-media"},wv=["src"],Nv={class:"item-inner"},Av={class:"item-header"},Tv=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),Pv={class:"item-subtitle"},$v={class:"item-text"},Uv={class:"row"},Sv={class:"col-50"},Rv=["onClick"],xv=p("Close"),Ov=p("Close"),Bv={class:"page-content"},Hv=i("div",{class:"card card-header"},"Check-in t\u1EA1i",-1),Qv={class:"card bg-color-green",style:{"margin-top":"5px","margin-bottom":"0px",padding:"10px","text-align":"center"}},Vv={class:"block-title-medium"},Lv={key:0,class:"block"},zv=["innerHTML"],qv={class:"row"};function Fv(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup"),C=a("scan-qrcode"),b=a("i-block-content");return d(),h(N,null,[i("div",null,[i("button",{onClick:t[0]||(t[0]=m=>r.showListCheckin()),class:"button button-large button-round button-fill"}," Checkin "),gv]),n(I,{opened:o.popupListCheckins,"onUpdate:opened":t[3]||(t[3]=m=>o.popupListCheckins=m),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closeListCheckin())},{default:s(()=>[vv]),_:1})]),_:1})]),_:1}),i("div",Cv,[i("button",{onClick:t[2]||(t[2]=m=>r.clickCheckin()),class:"button button-large button-round button-fill"}," Checkin "),bv]),i("div",Iv,[i("div",yv,u(o.listCheckins.length>0?"\u0110\xE3 Check-in":"Ch\u01B0a c\xF3"),1),i("div",kv,[i("ul",null,[(d(!0),h(N,null,Q(o.listCheckins,m=>(d(),h("li",{key:m.ishopId},[i("div",Dv,[i("div",Ev,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,wv)]),i("div",Nv,[i("div",Av,u(this.$utils.formatQRID(m.ishopId)),1),Tv,i("div",Pv,u(m.message),1),i("div",$v,u(e.$utils.formatDistanceToNow(m.created)),1),i("div",Uv,[i("div",Sv,[i("button",{class:"button button-fill",onClick:y=>r.showIshopPreview(m)},"Chi ti\u1EBFt",8,Rv)])])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.popupCheckin,"tablet-fullscreen":!0},{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[4]||(t[4]=m=>o.popupCheckin=!1)},{default:s(()=>[xv]),_:1})]),_:1})]),_:1}),n(v,null,{default:s(()=>[n(C,{enable:o.popupCheckin,onDone:r.closeCheckin,onClose:t[5]||(t[5]=m=>o.popupCheckin=!1)},null,8,["enable","onDone"])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.popupIshopPreview,"tablet-fullscreen":!0},{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[6]||(t[6]=m=>r.closeIshopPreview())},{default:s(()=>[Ov]),_:1})]),_:1})]),_:1}),n(v,null,{default:s(()=>[i("div",Bv,[Hv,i("div",Qv,[i("div",Vv,u(o.ishop.name),1),o.ishop.content?(d(),h("div",Lv,[i("div",{innerHTML:o.ishop.content},null,8,zv)])):k("",!0)]),i("section",null,[n(b,{data:o.ishopHeader,showTitle:!1,isView:!0,showButton:!1},null,8,["data"])]),i("div",qv,[i("button",{class:"button button-large button-round",onClick:t[7]||(t[7]=(...m)=>r.closeIshopPreview&&r.closeIshopPreview(...m))}," Close ")])])]),_:1})]),_:1},8,["opened"])],64)}var Mv=S(fv,[["render",Fv]]);const Gv={emit:["close"],components:{ScanQrcode:Ce,iCardInfo:we},props:{f7route:Object,f7router:Object,icardId:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},info:Object},data(){return{popupListConnects:!1,popupConnect:!1,popupPreview:!1,connectType:"",iCard:{id:"",privateCode:"",info:{}},ishop:{id:0,index:0,privateCode:"",ishop:{},ishopHeader:{}},data:{},listConnects:[]}},async mounted(){await this.getListConnects()},methods:{async closeConnect(e){if(console.log("ConnectData",e),this.data=e,e.type=="ICARD"&&e.id){this.connectType="ICARD";let t={firstId:this.icardId,secondId:e.id,thirdId:0,message:"K\u1EBFt n\u1ED1i v\u1EDBi "+e.ownerName,metadata:{}},l=await this.$api.createQRConnect(t);l&&(this.updateListConnects(l,this.connectType),this.showIcard(l),this.popupPreview=!0)}if(e.type=="ISHOP"&&(this.connectType="ISHOP",this.ishop=e,e.metadata.ishop)){let t=this.ishop.name?"T\u1EF1 Checkin \u1EDF "+this.ishop.name:"T\u1EF1 Checkin ",l={ishopId:this.ishop.id,ishopIndex:this.ishop.index,icardId:this.icardId,actionType:"CHECKIN.BYSELF",message:t,metadata:{}},c=await this.$api.createQRCheckin(l);c&&(this.updateListConnects(c,this.connectType),this.showIshop(c),this.popupPreview=!0)}this.popupConnect=!1},updateListConnects(e,t){let l=e;l.type=t,t=="ICARD"&&(l.showId=e.secondId),t=="ISHOP"&&(l.showId=e.ishopId),console.log("updateListConnects",l),this.listConnects.unshift(l)},clickConnect(){this.popupConnect=!0},async closePreview(){await this.getListConnects(),this.popupPreview=!1},async showListConnect(){await this.getListConnects(),this.popupListConnects=!0},closeListConnect(){this.popupListConnects=!1,this.$emit("close")},async showIcard(e){this.connectType="ICARD";let t=await this.$api.getQRID(e.secondId);if(t){this.iCard=t,this.iCard.id=t.id,this.iCard.privateCode=t.private;let l="https://apps.vinaas.com/file/tgs5EFo1O";t.imageUrls&&(l=t.imageUrls[0]),this.iCard.info={background:l,ishop:t.metadata.ishop||{},vcard:t.metadata.vcard||{}},this.popupPreview=!0}},async showIshop(e){this.connectType="ISHOP";let t=await this.$api.getQRID(e.ishopId);t&&(this.ishopId=t.id,this.ishopIndex=t.index,this.ishopCode=t.privateCode,t.metadata.ishop&&(this.ishop=t.metadata.ishop,this.ishop.ishopHeader=t.metadata.ishopHeader,this.popupPreview=!0))},gotoIcard(e,t){let l=`https://www.ishowroom.vn/n/${e}/p/${t}`;window.location=l},async getListConnects(){let e=await this.$api.getConnectByICard(this.icardId,this.privateCode);this.listConnects=e}}},Kv=p("Close"),Yv={class:"block"},jv=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"K\u1EBFt n\u1ED1i th\xF4ng qua qu\xE9t qrcode m\xE0u xanh",-1),Jv={class:"card"},Wv={class:"card-header bg-color-green"},Xv={class:"list media-list medium-inset"},Zv={class:"item-content chevron-center"},eC={class:"item-media"},tC=["src"],iC={class:"item-inner"},nC={class:"item-header"},oC={class:"item-title-row"},sC={class:"item-after"},aC={class:"item-subtitle"},lC={class:"item-text"},rC={class:"row"},dC=i("div",{class:"col-20"},null,-1),cC={class:"col-60"},uC=["onClick"],pC=i("div",{class:"col-20"},null,-1),hC=p("Close"),mC={class:"block"},_C=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"v\u1EDBi kh\xE1ch m\u1EDDi c\xF3 qrcode xanh tr\xF2n",-1),fC={class:"card"},gC={class:"card-header bg-color-green"},vC={class:"list media-list medium-inset"},CC={class:"item-content chevron-center"},bC={class:"item-media"},IC=["src"],yC={class:"item-inner"},kC={class:"item-header"},DC=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),EC={class:"item-subtitle"},wC={class:"item-text"},NC={class:"row"},AC={key:0,class:"col-50"},TC=["onClick"],PC={key:1,class:"col-50"},$C=["onClick"],UC=p("Close"),SC=p("Close"),RC={class:"page-content"},xC={key:0},OC={class:"block content"},BC=p("Xem \u0111\u1EA7y \u0111\u1EE7 "),HC={key:1},QC=i("div",{class:"card card-header"},"Checkin at",-1),VC={class:"card bg-color-green",style:{"margin-top":"5px","margin-bottom":"0px",padding:"10px","text-align":"center"}},LC={class:"block-title-medium"},zC={key:0,class:"block"},qC=["innerHTML"];function FC(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup"),C=a("scan-qrcode"),b=a("i-card-info"),m=a("f7-icon"),y=a("i-block-content");return d(),h(N,null,[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=E=>r.closeListConnect())},{default:s(()=>[Kv]),_:1})]),_:1})]),_:1}),i("div",Yv,[jv,i("button",{onClick:t[1]||(t[1]=E=>r.clickConnect()),class:"button button-large button-round button-fill"}," Connect ")]),i("div",Jv,[i("div",Wv,u(o.listConnects.length>0?"Danh S\xE1ch \u0111\xE3 k\u1EBFt n\u1ED1i":"Ch\u01B0a c\xF3 k\u1EBFt n\u1ED1i"),1),i("div",Xv,[i("ul",null,[(d(!0),h(N,null,Q(o.listConnects,E=>(d(),h("li",{key:E.showId},[i("div",Zv,[i("div",eC,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(E.imageUrls),width:"80"},null,8,tC)]),i("div",iC,[i("div",nC,u(e.$utils.formatQRID(E.showId)),1),i("div",oC,[i("div",sC,u(E.type),1)]),i("div",aC,u(E.message),1),i("div",lC,u(e.$utils.formatDistanceToNow(E.created)),1),i("div",rC,[dC,i("div",cC,[i("a",{class:"button button-fill button-round",onClick:T=>r.showIcard(E)},"Chi ti\u1EBFt ",8,uC)]),pC])])])]))),128))])])])]),_:1}),n(I,{opened:o.popupListConnects,"onUpdate:opened":t[4]||(t[4]=E=>o.popupListConnects=E),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=E=>r.closeListConnect())},{default:s(()=>[hC]),_:1})]),_:1})]),_:1}),i("div",mC,[i("button",{onClick:t[3]||(t[3]=E=>r.clickConnect()),class:"button button-large button-round button-fill"}," Connect "),_C]),i("div",fC,[i("div",gC,u(o.listConnects.length>0?"Danh S\xE1ch \u0111\xE3 k\u1EBFt n\u1ED1i":"Ch\u01B0a c\xF3"),1),i("div",vC,[i("ul",null,[(d(!0),h(N,null,Q(o.listConnects,E=>(d(),h("li",{key:E.showId},[i("div",CC,[i("div",bC,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,IC)]),i("div",yC,[i("div",kC,u(e.$utils.formatQRID(E.showId)),1),DC,i("div",EC,u(E.type)+" "+u(E.message),1),i("div",wC,u(e.$utils.formatDistanceToNow(E.created)),1),i("div",NC,[E.type=="ICARD"?(d(),h("div",AC,[i("button",{class:"button button-fill",onClick:T=>r.showIcard(E)},"Chi ti\u1EBFt 1",8,TC)])):k("",!0),E.type=="ISHOP"?(d(),h("div",PC,[i("button",{class:"button button-fill",onClick:T=>r.showIshop(E)},"Chi ti\u1EBFt 2",8,$C)])):k("",!0)])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.popupConnect,"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[5]||(t[5]=E=>o.popupConnect=!1)},{default:s(()=>[UC]),_:1})]),_:1})]),_:1}),n(C,{enable:o.popupConnect,onDone:r.closeConnect,onClose:t[6]||(t[6]=E=>o.popupConnect=!1)},null,8,["enable","onDone"])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.popupPreview,"tablet-fullscreen":!0},{default:s(()=>[n(g,{title:"Connect with"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[7]||(t[7]=E=>r.closePreview())},{default:s(()=>[SC]),_:1})]),_:1})]),_:1}),n(v,null,{default:s(()=>[i("div",RC,[o.connectType=="ICARD"?(d(),h("section",xC,[n(b,{id:o.iCard.id,info:o.iCard.info},null,8,["id","info"]),i("div",OC,[i("button",{class:"button button-large button-fill button-round",onClick:t[8]||(t[8]=E=>r.gotoIcard(o.iCard.id,o.iCard.privateCode))},[n(m,{f7:"snow"}),BC])])])):(d(),h("section",HC,[QC,i("div",VC,[i("div",LC,u(o.ishop.name),1),o.ishop.content?(d(),h("div",zC,[i("div",{innerHTML:o.ishop.content},null,8,qC)])):k("",!0)]),n(y,{data:o.ishop.ishopHeader,showTitle:!1,isView:!0,showButton:!1},null,8,["data"])]))])]),_:1})]),_:1},8,["opened"])],64)}var MC=S(Gv,[["render",FC]]);const GC={emits:["close"],components:{iCardOverview:oe},props:{f7route:Object,f7router:Object,info:Object},data(){return{icard:{id:0,background:{},metadata:{}}}},watch:{info(e){this.icard.id=e.id||0,this.icard.background=e.imageUrls[0],this.icard.metadata=e.metadata}},methods:{close(){this.$emit("close")}}},KC=p("Close");function YC(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("i-card-overview"),I=a("f7-page");return d(),D(I,null,{default:s(()=>[n(g,{title:"Th\xF4ng tin chung"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=C=>r.close())},{default:s(()=>[KC]),_:1})]),_:1})]),_:1}),n(v,{id:o.icard.id,bg:o.icard.background,metadata:o.icard.metadata},null,8,["id","bg","metadata"])]),_:1})}var Ze=S(GC,[["render",YC]]);const jC=G({props:{id:Number,type:String},data(){return{isLoading:!1,filter:{skip:0,limit:10},data:{metadata:{enableSender:!0}},ACT_POPUP:{nar_bar_title:"Chi ti\u1EBFt C\u1EADp nh\u1EADt ",content:"N\u1ED9i dung",sender:"Th\xF4ng tin Kh\xE1ch h\xE0ng",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\u1EA3m \u01A1n th\xF4ng tin c\u1EE7a b\u1EA1n!"}}},watch:{id:"loadData"},methods:{async loadData(){this.id>0&&(this.isLoading=!0,this.data=await this.$api.getCardActivity(this.id),this.isLoading=!1)}}}),JC={class:"block-title"},WC=["src"],XC=i("i",{class:"f7-icons"},"xmark_circle",-1),ZC=p(" \u0110\xF3ng");function eb(e,t,l,c,o,r){const _=a("f7-preloader"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-list-item"),I=a("f7-col"),C=a("f7-row"),b=a("f7-block"),m=a("f7-list"),y=a("f7-card-content"),E=a("f7-card"),T=a("f7-button"),P=a("f7-page");return d(),D(P,null,{default:s(()=>[n(f,{title:e.ACT_POPUP.nar_bar_title},{default:s(()=>[A(n(_,null,null,512),[[F,e.isLoading]])]),_:1},8,["title"]),i("div",JC,"G\u1EEDi l\xFAc: "+u(e.$utils.formatDateTime(e.data.created)),1),n(E,null,{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[p(u(e.ACT_POPUP.content),1)]),_:1}),n(y,null,{default:s(()=>[n(m,{"no-hairlines-md":""},{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.data.title),1)]),_:1}),n(b,null,{default:s(()=>[n(C,{"no-gap":""},{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,O=>(d(),D(I,{width:"45",key:O},{default:s(()=>[i("img",{width:"100",src:O},null,8,WC)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e.data.metadata.enableSender!=!1?(d(),D(E,{key:0},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[p(u(e.ACT_POPUP.sender),1)]),_:1}),n(y,null,{default:s(()=>[n(m,{"no-hairlines-md":""},{default:s(()=>[n(v,null,{default:s(()=>[p(u(e.data.customerName),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.data.customerPhoneNumber),1)]),_:1}),n(v,null,{default:s(()=>[p(u(e.data.customerAddress),1)]),_:1}),e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="CONFIRMED"?(d(),D(v,{key:0},{default:s(()=>[p("X\xE1c nh\u1EADn l\xFAc "+u(e.$utils.formatDateTime(e.data.modified)),1)]),_:1})):k("",!0),e.data.type=="ACTIVITY.QRTASK"&&e.data.status=="REJECTED"?(d(),D(v,{key:1},{default:s(()=>[p("T\u1EEB ch\u1ED1i l\xFAc "+u(e.$utils.formatDateTime(e.data.modified)),1)]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0),n(b,null,{default:s(()=>[n(C,null,{default:s(()=>[n(I,{width:"20"}),n(I,{width:"60"},{default:s(()=>[n(T,{fill:"",round:"",large:"","popup-close":""},{default:s(()=>[XC,ZC]),_:1})]),_:1}),n(I,{width:"20"})]),_:1})]),_:1})]),_:1})}var Fe=S(jC,[["render",eb]]);const tb=G({props:{isView:Boolean,id:String,privateCode:String,types:{type:String,default:["ACTIVITY.ICARD_REPORT"]},limit:{type:Number,default:10}},components:{Activity:Fe},data(){return{isLoading:!1,filter:{skip:0,limit:this.limit,order:"id desc"},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){if(console.log("ACTIVITY.ICARD_REPORT"),this.id.length>0){this.isLoading=!0,this.types&&(this.filter.where={type:{inq:this.types}});let e=await this.$api.getIcardReports(this.id,this.privateCode,this.filter);e&&(this.data=e),this.isLoading=!1}}},async mounted(){this.loadData()}}),ib={key:0,class:"card"},nb={class:"card-header bg-color-green"},ob=i("i",{class:"f7-icons"},"arrow_2_circlepath",-1),sb=p(" refresh"),ab=[ob,sb],lb={class:"list media-list"},rb=["onClick"],db={class:"item-media"},cb=["src"],ub={class:"item-inner"},pb={class:"item-header"},hb={class:"item-title-row"},mb={style:{"font-size":"16px"}},_b=i("div",{class:"item-after"},null,-1),fb={class:"item-subtitle"},gb={key:1,class:"card"},vb=i("div",{class:"card-header bg-color-green"},"Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u",-1),Cb=[vb];function bb(e,t,l,c,o,r){const _=a("activity"),f=a("f7-popup");return d(),h(N,null,[e.data.length>0?(d(),h("div",ib,[i("div",nb,[p(u(e.limit)+" Ho\u1EA1t \u0111\u1ED9ng g\u1EA7n nh\u1EA5t ",1),i("a",{onClick:t[0]||(t[0]=(...g)=>e.loadData&&e.loadData(...g)),style:{"margin-left":"30px"}},ab)]),i("div",lb,[i("ul",null,[(d(!0),h(N,null,Q(e.data,g=>(d(),h("li",{key:g.id},[i("a",{onClick:v=>e.clickViewActivity(g),class:"item-link item-content chevron-center"},[i("div",db,[i("img",{style:{border:"1px solid #ccc","max-width":"50px"},src:e.$utils.firstImage(g.imageUrls),width:"50"},null,8,cb)]),i("div",ub,[i("div",pb,u(e.$utils.formatDateTime(g.modified)),1),i("div",hb,[i("div",mb,u(g.qrid),1),_b]),i("div",fb,u(g.title||"kh\xF4ng c\xF3"),1)])],8,rb)]))),128))])])])):(d(),h("div",gb,Cb)),n(f,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[1]||(t[1]=g=>e.enablePopup=g),"tablet-fullscreen":!0},{default:s(()=>[n(_,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var Ne=S(tb,[["render",bb]]);const Ib={emits:["done","close"],components:{ScanIcard:yt,iCardOverview:oe},props:{id:{type:Number,default:0},privateCode:{type:String,default:""},enable:{type:Boolean,default:!1}},data(){return{device:Pe(),iShopUrl:"",verified:!1,verifiedResult:"",message:"",showOverview:!1,metadata:{},background:"",data:{id:"",index:"",privateCode:"",type:"",enable:""}}},watch:{},computed:{enableAdd2Ishop(){let e=!0;return e=this.verified,(this.id<=0||!this.privateCode)&&(e=!1),(this.data.id<=0||!this.data.privateCode)&&(e=!1),e}},methods:{async detectIcard(e){e&&e.status=="VALID"?(this.iShopUrl=e.url,await this.parseiShopUrl()):this.iShopUrl=""},async parseiShopUrl(){let e=!0;if(this.iShopUrl){let l=new URL(this.iShopUrl).pathname;this.iShopUrl.includes("#!")&&(l=this.iShopUrl.split("#!")[1]);let c=l.split("/");if(c[2]&&c[3]=="p"){this.data.id=c[2],this.data.privateCode=c[4];let o=await this.$api.getQRID(this.data.id,this.data.privateCode);o?(this.data=o,this.data.type="ICARD",this.message=""):(this.message="iCard kh\xF4ng t\u1ED3n t\u1EA1i",this.flag=!1)}else if(c[2]&&c[3]=="i"&&c[5]=="p"){this.data.id=c[2],this.data.index=c[4],this.data.privateCode=c[6],this.message="";let o=await this.$api.getIDocument(this.data.id,this.data.index,this.data.privateCode);o?(this.message="",this.data=o,this.data.type="ISHOP"):(this.message="iShop kh\xF4ng t\u1ED3n t\u1EA1i",this.flag=!1)}else this.message="qrCode kh\xF4ng \u0111\xFAng",e=!1;e&&this.$emit("done",this.data)}return e},close(){this.$emit("close","")}}},yb={class:"block"},kb={class:"list"},Db={key:0,class:"item-content item-input"},Eb={class:"item-inner"},wb=i("div",{class:"item-title item-label"},"QRCode Xanh",-1),Nb={class:"item-input-wrap"},Ab=i("span",{class:"input-clear-button"},null,-1),Tb={key:1,class:"row"},Pb={class:"col-60"},$b={class:"col-30"},Ub={class:"block-title"},Sb={class:"block-title"};function Rb(e,t,l,c,o,r){const _=a("scan-icard");return d(),h("div",yb,[l.enable?(d(),D(_,{key:0,onDetect:r.detectIcard},null,8,["onDetect"])):k("",!0),i("div",kb,[i("ul",null,[o.device.desktop?(d(),h("li",Db,[i("div",Eb,[wb,i("div",Nb,[A(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=f=>o.iShopUrl=f)},null,512),[[V,o.iShopUrl]]),Ab])])])):k("",!0)])]),o.device.desktop?(d(),h("div",Tb,[i("div",Pb,[i("div",{class:"button button-large button-round button-fill",onClick:t[1]||(t[1]=f=>r.parseiShopUrl())}," K\u1EBFt qu\u1EA3 ")]),i("div",$b,[i("div",{class:"button button-large button-round button-outline",onClick:t[2]||(t[2]=f=>r.close())},"Close ")]),i("div",Ub,u(o.verifiedResult),1),i("div",Sb,u(o.data),1)])):k("",!0)])}var et=S(Ib,[["render",Rb]]);const xb=G({props:{id:String,type:String,icard:Object},emits:["send"],components:{Camera:Ee,ImageUpload:De},data(){return{isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{title:"",imageUrls:[],activityId:0,sellerName:null,type:"",qrid:0,userComment:0,customerName:"",customerPhoneNumber:"",customerAddress:"",serviceCode:"",supplierOrganizationId:0,status:"CREATED"},action:{name:"ISHOP_PAYMENT",type:"ACTIVITY.ISHOP_PAYMENT",title:"C\u1EA3m \u01A1n Qu\xFD kh\xE1ch \u0111\xE3 thanh to\xE1n",desc:"",recentLimit:5}}},watch:{icard:"updateInfo"},computed:{maxImages(){return 2},isView(){return this.icard.payment&&this.icard.payment.id}},methods:{async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)},uploaded(e){console.log("uploaded",e),this.data.imageUrls.push(e)},close(){this.enablePopup=!1,this.$emit("send","CANCEL")},updateInfo(){let e=this.icard;console.log("updateInfo",e),e&&e.payment?this.data=e.payment:(this.data.customerName=e.ownerName||"",this.data.customerPhoneNumber=e.ownerPhoneNumber||"",this.data.customerAddress=e.ownerAddress||"")},async postActivity(){this.data.id&&delete this.data.id,this.data.qrid=this.id,this.data.type=this.type||"ACTIVITY.ISHOP_PAYMENT",this.data.activityId=this.icard.checkinId;let e=await this.$api.createRequest(this.data);e&&(this.data.payment=e,w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!","iShop"),this.$emit("send","SUCCESS"))}}}),Ob=p("Close"),Bb={class:"page-content"},Hb=p(" Ch\u1EE5p ho\xE1 \u0111\u01A1n ho\u1EB7c h\xECnh th\u1EF1c t\u1EBF v\xE0 m\xF4 t\u1EA3 "),Qb={class:"list",style:{"margin-top":"10px"}},Vb=["src"],Lb={key:0},zb={class:"row"},qb=i("div",{class:"col-20"},null,-1),Fb=p("Ch\u1EE5p H\xECnh"),Mb=i("div",{class:"col-20"},null,-1),Gb=i("i",{class:"f7-icons"},"xmark_circle",-1),Kb=p("Hu\u1EF7"),Yb=i("i",{class:"f7-icons"},"checkmark_circle",-1),jb=p("G\u1EEDi");function Jb(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-card-header"),I=a("f7-list-input"),C=a("f7-list"),b=a("f7-card-content"),m=a("f7-card"),y=a("f7-col"),E=a("f7-row"),T=a("f7-icon"),P=a("f7-button"),O=a("f7-text-editor"),x=a("f7-block"),B=a("f7-page"),H=a("camera"),$=a("f7-popup");return d(),h(N,null,[n(B,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=M=>e.close())},{default:s(()=>[Ob]),_:1})]),_:1})]),_:1}),i("div",Bb,[n(m,null,{default:s(()=>[n(v,{"bg-color":"green"},{default:s(()=>[p("Kh\xE1ch h\xE0ng ID:"+u(e.$utils.shortQRID(e.icard.id)),1)]),_:1}),n(b,null,{default:s(()=>[n(C,{"no-hairlines-md":""},{default:s(()=>[n(I,{readonly:e.isView,type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"anh / ch\u1ECB ...",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",value:e.data.customerName,"onUpdate:value":t[1]||(t[1]=M=>e.data.customerName=M)},null,8,["readonly","value"]),n(I,{readonly:e.isView,outline:"",type:"text",label:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i (ho\u1EB7c \u0111\u1EC3 tr\u1ED1ng)","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a",maxlength:"100",value:e.data.customerPhoneNumber,"onUpdate:value":t[2]||(t[2]=M=>e.data.customerPhoneNumber=M)},null,8,["readonly","value"]),n(I,{readonly:e.isView,outline:"",type:"text",label:"\u0111\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"...",value:e.data.customerAddress,"onUpdate:value":t[3]||(t[3]=M=>e.data.customerAddress=M)},null,8,["readonly","value"])]),_:1})]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(v,null,{default:s(()=>[Hb]),_:1}),n(b,null,{default:s(()=>[i("div",Qb,[i("ul",null,[i("li",null,[n(E,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,M=>(d(),D(y,{width:"50",key:M},{default:s(()=>[i("img",{style:{"max-width":"100%",height:"auto"},src:M},null,8,Vb)]),_:2},1024))),128))]),_:1})]),e.isView?k("",!0):(d(),h("li",Lb,[i("div",zb,[qb,n(P,{class:"col-50",large:"",round:"",outline:"",onClick:t[4]||(t[4]=M=>e.showCamera())},{default:s(()=>[n(T,{f7:"camera"}),Fb]),_:1}),Mb])])),n(O,{readonly:e.isView,placeholder:"m\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h2","h3"]],style:{"--f7-text-editor-height":"150px"},value:e.data.title,"onTexteditor:change":t[5]||(t[5]=M=>e.data.title=M)},null,8,["readonly","value"]),n(I,{readonly:e.isView,outline:"",type:"number",label:"Nh\u1EADp s\u1ED1 ti\u1EC1n (tu\u1EF3 ch\u1ECDn)","floating-label":"",resizable:"",maxlength:"100","clear-button":"",value:e.data.money,"onUpdate:value":t[6]||(t[6]=M=>e.data.money=M)},null,8,["readonly","value"])])])]),_:1})]),_:1}),n(x,null,{default:s(()=>[e.isView?k("",!0):(d(),D(E,{key:0},{default:s(()=>[n(y,{width:"30"},{default:s(()=>[n(P,{raised:"",round:"",large:"",color:"gray",onClick:t[7]||(t[7]=M=>e.close())},{default:s(()=>[Gb,Kb]),_:1})]),_:1}),n(y,{width:"60"},{default:s(()=>[n(P,{raised:"",round:"",fill:"",large:"",onClick:t[8]||(t[8]=M=>e.postActivity())},{default:s(()=>[Yb,jb]),_:1})]),_:1})]),_:1}))]),_:1})])]),_:1}),n($,{opened:e.enablePopup,"onUpdate:opened":t[9]||(t[9]=M=>e.enablePopup=M)},{default:s(()=>[n(H,{ref:"camera",maxImages:e.maxImages,onSave:e.saveImageUrls},null,8,["maxImages","onSave"])]),_:1},8,["opened"])],64)}var tt=S(xb,[["render",Jb]]);const Wb={emits:["send","close"],components:{ScanQrcode:et,iBlockContent:ce,iCardInfo:we,IShopCheckinUpdate:tt},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},index:{type:Number,default:0},status:String,info:Object},data(){return{popupListCheckins:!1,updateCheckin:!1,popupCheckin:!1,popupIshopPreview:!1,icard:{id:"",info:{}},ishopHeader:{},data:{},listCheckins:[{ishopId:0,ishopIndex:0,icardId:0,actionType:"CHECKIN",message:"string",metadata:{},created:""}],checkin:{ishopId:this.id,ishopIndex:this.index,icardId:"",actionType:"CHECKIN",message:"",metadata:{}},lastCheckins:[],selected:{id:0}}},methods:{async doneCheckin(e){if(this.data=e,e.type=="ICARD"&&e.status=="QRID_STATUS.ACTIVE"){console.log("doneCheckin",e),this.icard=e;let t="https://apps.vinaas.com/file/tgs5EFo1O";e.imageUrls&&e.imageUrls.length>0&&(t=e.imageUrls[0]);let l=0,c={};if(e.ownerMetadata){let o=e.ownerMetadata,r=o[this.id];r&&r.checkin?(l=r.checkin||0,l++,r.checkin=l,o[this.id]=r):(l++,o[this.id]={checkin:l,memberLevel:1}),await this.$api.updateIshopCheckin(e.id,o)}if(e.metadata){this.icard.info={background:t,ishop:e.metadata.ishop||{},vcard:e.metadata.vcard||{}};let o=`Check-in l\u1EA7n th\u1EE9 ${l}`;this.data.ownerName?o+=` cho ${this.data.ownerName}`:o+=` cho ID: ${this.icard.id}`;let r={ishopId:this.id,ishopIndex:this.index,icardId:this.icard.id,actionType:"CHECKIN",message:o,metadata:c},_=await this.$api.createQRCheckin(r);_&&(this.lastCheckins.unshift(this.parseICard(_)),w.dialog.alert(o,"Check-in th\xE0nh c\xF4ng"))}}else e.type=="ICARD"?w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. Vui l\xF2ng c\u1EADp nh\u1EADt th\xF4ng tin","iShop"):w.dialog.alert("Checkin th\u1EA5t b\u1EA1i ","iShop")},parseICard(e){let t={};return t.checkinId=e.id,t.id=e.icardId,t.imageUrls=[],t.message=e.message,t.created=e.created,t},clickCheckin(){this.popupCheckin=!0},closeCheckin(){this.popupCheckin=!1,this.$emit("close")},closeIshopPreview(){this.popupIshopPreview=!1},async showListCheckin(){await this.getListCheckins(),this.popupListCheckins=!0},closeListCheckin(){this.popupListCheckins=!1},async showICardDetail(e){this.popupIshopPreview=!0},async getListCheckins(){let e=await this.$api.getCheckinByICard(this.icardId,this.privateCode);this.listCheckins=e||[]},async showPreview(e){if(e){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.enablePreview=!0}},async showPaymentUpdate(e){if(e&&e.id){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.updateCheckin=!0}},async closeUpdate(e){e=="SUCCESS"&&(this.selected.payment={},consloe),this.updateCheckin=!1}},activated(){this.popupCheckin=!0}},Xb=p("Close"),Zb={key:0,class:"card"},e0={class:"card-header bg-color-green"},t0={class:"list media-list medium-inset"},i0={class:"item-content chevron-center"},n0={class:"item-inner"},o0={class:"item-header"},s0=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),a0={class:"item-subtitle"},l0={class:"item-text"},r0={class:"row"},d0={key:0,class:"col-50"},c0={key:1,class:"col-50"},u0=["onClick"],p0=p("Close"),h0={class:"page-content"},m0={class:"card"},_0={class:"card-header bg-color-green"},f0={class:"list media-list medium-inset"},g0={class:"item-content chevron-center"},v0={class:"item-media"},C0=["src"],b0={class:"item-inner"},I0={class:"item-header"},y0=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),k0={class:"item-subtitle"},D0={class:"item-text"},E0={class:"row"},w0={class:"col-50"},N0=["onClick"],A0=p("Close"),T0={class:"page-content"},P0=i("div",{class:"card card-header"},"Ng\u01B0\u1EDDi \u0111\xE3 check-in",-1);function $0(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("scan-qrcode"),I=a("f7-page"),C=a("f7-popup"),b=a("i-card-info"),m=a("i-shop-checkin-update");return d(),h(N,null,[n(I,null,{default:s(()=>[n(g,{title:"Qu\xE9t qrcode xanh"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=y=>r.closeCheckin())},{default:s(()=>[Xb]),_:1})]),_:1})]),_:1}),n(v,{enable:l.status,onDone:r.doneCheckin},null,8,["enable","onDone"]),o.lastCheckins.length?(d(),h("div",Zb,[i("div",e0,u(o.lastCheckins.length>0?"Check-in g\u1EA7n nh\u1EA5t":"Ch\u01B0a c\xF3"),1),i("div",t0,[i("ul",null,[(d(!0),h(N,null,Q(o.lastCheckins,y=>(d(),h("li",{key:y.id},[i("div",i0,[i("div",n0,[i("div",o0,u(this.$utils.formatQRID(y.id))+"- "+u(y.checkinId),1),s0,i("div",a0,u(y.message),1),i("div",l0,u(e.$utils.formatDistanceToNow(y.created)),1),i("div",r0,[y.payment?(d(),h("div",d0)):(d(),h("div",c0,[i("button",{class:"button button-fill button-round",onClick:E=>r.showPaymentUpdate(y)},"C\u1EADp nh\u1EADt",8,u0)]))])])])]))),128))])])])):k("",!0)]),_:1}),n(C,{opened:o.popupListCheckins,"onUpdate:opened":t[2]||(t[2]=y=>o.popupListCheckins=y),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=y=>r.closeListCheckin())},{default:s(()=>[p0]),_:1})]),_:1})]),_:1}),i("div",h0,[i("div",m0,[i("div",_0,u(o.listCheckins.length>0?"Danh S\xE1ch \u0111\xE3 Check-in":"Ch\u01B0a c\xF3"),1),i("div",f0,[i("ul",null,[(d(!0),h(N,null,Q(o.listCheckins,y=>(d(),h("li",{key:y.ishopId},[i("div",g0,[i("div",v0,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,C0)]),i("div",b0,[i("div",I0,u(this.$utils.formatQRID(y.ishopId)),1),y0,i("div",k0,u(y.message),1),i("div",D0,u(e.$utils.formatDistanceToNow(y.created)),1),i("div",E0,[i("div",w0,[i("button",{class:"button button-fill",onClick:E=>r.showICardDetail(y)},"Chi ti\u1EBFt",8,N0)])])])])]))),128))])])])])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.popupIshopPreview,"tablet-fullscreen":!0},{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[3]||(t[3]=y=>r.closeIshopPreview())},{default:s(()=>[A0]),_:1})]),_:1})]),_:1}),n(I,null,{default:s(()=>[i("div",T0,[P0,n(b,{id:o.icard.id,info:o.icard.info},null,8,["id","info"])])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.updateCheckin,"tablet-fullscreen":!0},{default:s(()=>[n(m,{id:l.id,icard:o.selected,icardId:o.selected.id,onSend:r.closeUpdate},null,8,["id","icard","icardId","onSend"])]),_:1},8,["opened"])],64)}var Me=S(Wb,[["render",$0]]);const U0={props:{id:{type:String},privateCode:{type:String}},components:{IShopReportHistory:Ne,IShopCheckin:Me,IShopCheckinUpdate:tt,iCardOverview:oe,iCardPublic:Ze},data(){return{enablePopup:!1,enableICard:!1,enableCheckin:!1,updateCheckin:!1,enablePreview:!1,enableEditContact:!1,total:0,activeCustomers:0,listCheckins:[],iCard:{id:0},metadata:{},item:{title:"iCard",cardType:"CARD_TYPE.ICARD",ownerName:"",ownerPhoneNumber:"",imageUrls:[],supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{}},selected:{id:"",privateCode:""},payments:[]}},computed:{},methods:{isActive(e){return e=="QRID_STATUS.ACTIVE"},closePopup(){this.enablePopup=!1},async showPopup(){await this.loadCheckins(),this.enablePopup=!0},async showCheckin(){this.enableCheckin=!0},closeCheckin(){this.enableCheckin=!1},async showPreview(e){if(e){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.enablePreview=!0}},async showPaymentUpdate(e){if(e&&e.id){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.updateCheckin=!0}},async closeUpdate(e){e=="SUCCESS"&&await this.loadPayments(),this.updateCheckin=!1},closePreview(){this.enablePreview=!1},async showICard(e){},async loadCheckins(){let e=await this.$api.getCheckinOfUser(this.id);if(e){this.listCheckins=[];let t=e.map(l=>l.id);this.payments=await this.$api.getPayemtList(t),e.forEach(l=>{let c=this.parseICard(l),o=this.payments.find(r=>r.activityId==c.checkinId);c.payment=o,this.listCheckins.push(c)})}},async loadPayments(){let e=this.listCheckins.map(t=>t.checkinId);this.payments=await this.$api.getPayemtList(e)},enablePaymentUpdate(e){return!(e&&e.checkinId&&this.payments&&this.payments.find(l=>l.activityId==e.checkinId))},parseICard(e){let t={};return t.checkinId=e.id,t.id=e.icardId,t.ishopId=e.ishopId,t.imageUrls=[],t.message=e.message,t.created=e.created,t},async showIShop(e){let l=(await this.$api.getQRID(e.ishopId,"")).private;l=l.toString().substring(0,4);let c=`https://www.ishowroom.vn/surl/${e.ishopId}/i/0/p/${l}`;window.location=c}},async mounted(){}},S0={class:"row"},R0={class:"col-100"},x0=p("Close"),O0={class:"card"},B0={class:"card-header bg-color-green"},H0={class:"list media-list medium-inset"},Q0={class:"item-content chevron-center"},V0={class:"item-inner"},L0={class:"item-title-row"},z0={style:{"font-size":"16px"}},q0={class:"item-after"},F0={class:"item-subtitle"},M0={class:"item-text"},G0={class:"row"},K0={class:"col-50"},Y0=["onClick"],j0={key:0,class:"col-50"},J0=["onClick"];function W0(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup"),C=a("i-card-public"),b=a("i-shop-checkin-update");return d(),h(N,null,[i("div",S0,[i("div",R0,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())}," L\u1ECBch s\u1EED Checkin v\xE0 thanh to\xE1n")])]),n(I,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[x0]),_:1})]),_:1})]),_:1}),i("div",O0,[i("div",B0,u(o.listCheckins.length>0?"L\u1ECBch s\u1EED Checkin, thanh to\xE1n t\u1EA1i m\u1EA1ng l\u01B0\u1EDBi c\u1EEDa h\xE0ng iShowroom":"Ch\u01B0a c\xF3"),1),i("div",H0,[i("ul",null,[(d(!0),h(N,null,Q(o.listCheckins,m=>(d(),h("li",{key:m.id},[i("div",Q0,[i("div",V0,[i("div",L0,[i("div",z0,u(this.$utils.shortQRID(m.ishopId)),1),i("div",q0,u(e.$utils.formatDistanceToNow(m.created)),1)]),i("div",F0,u(m.message),1),i("div",M0,u(e.$utils.formatDistanceToNow(m.created)),1),i("div",G0,[i("div",K0,[i("button",{class:"button button-fill button-round",onClick:y=>r.showIShop(m)},"T\u1EDBi c\u1EEDa h\xE0ng",8,Y0)]),m.payment?(d(),h("div",j0,[i("button",{class:"button button-fill bg-color-green button-round",onClick:y=>r.showPaymentUpdate(m)},"Xem thanh to\xE1n",8,J0)])):k("",!0)])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.enablePreview,"onUpdate:opened":t[3]||(t[3]=m=>o.enablePreview=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,{info:o.selected,onClose:r.closePreview},null,8,["info","onClose"])]),_:1},8,["opened"]),n(I,{opened:o.updateCheckin,"tablet-fullscreen":!0},{default:s(()=>[n(b,{id:l.id,icard:o.selected,icardId:o.selected.id,onSend:r.closeUpdate},null,8,["id","icard","icardId","onSend"])]),_:1},8,["opened"])],64)}var X0=S(U0,[["render",W0]]);const Z0={name:"QRNAMECARD",emits:["closePreview"],components:{Avatar:ge,iShopAuthentic:Le,iCardOverview:oe,iCardEdit:qe,iShopInfo:Ve,iBlock:Xe,iBlockContent:ce,qrcode:zg,SelfCheckin:Mv,iCardConnect:MC,ScanQrcode:Ce,iCardCheckin:X0},props:{f7route:Object,f7router:Object,accessType:String,id:Number,privateCode:{type:String,default:""},index:Number,isPreview:{type:Boolean,default:!1}},setup(){},data(){let e={facebook:"https://",tiktok:"",skype:"https://",linkedIn:"https://",twitter:"https://",momo:"https://",qrcare:"https://"},t={photo:"",firstName:"",middleName:"",lastName:"",organization:"",title:"",note:"",nickname:"",namePrefix:"",nameSuffix:"",gender:"",workPhone:"",homePhone:"",cellPhone:"",email:"",workEmail:"",socialUrls:e,facebook:"",zalo:"",linkedIn:"",twitter:"",momo:""},l={title:"",imageUrls:["https://apps.vinaas.com/file/tgs5EFo1O"],ownerName:"",ownerPhoneNumber:"",supportId:111,status:"GENERATED",metadata:{company:{enable:!1,title:"",address:"",name:"",role:""},introduction:{enable:!1,title:"",content:""}}},c={title:"Danh thi\u1EBFp T\u01B0\u01A1ng t\xE1c 4.0",desc:"Mang s\u1EF1 tr\xE2n tr\u1ECDng v\xE0 chuy\xEAn nghi\u1EC7p, nh\u1EEFng gi\xE1 tr\u1ECB v\u1ED1n c\xF3 c\u1EE7a bi\u1EC3u t\u01B0\u1EE3ng Danh thi\u1EBFp",imageUrl:"",icon:"",features:[{title:"\u0110\u01A1n gi\u1EA3n m\xE0 Chuy\xEAn nghi\u1EC7p"},{title:"Ch\u1EA1m \u0111\u1EC3 k\u1EBFt n\u1ED1i, t\u01B0\u01A1ng t\xE1c"},{title:"D\u1EC5 d\xE0ng chia s\u1EBB qua zalo, facebook,..."}]};return{popupOpened:!1,enableConnect:!1,diffTime:0,item:l,vCard:t,ishop:{id:0},enableIshop:!1,iShopActions:de.iblocks,socialUrls:e,namecard40:c,vCardFile:"",metadata:{vcard:{},payments:{},ecommerce:{}}}},computed:{showCheckin(){return this.accessType=="NFC"&&this.privateCode.length>=4},qrcodeUrl(){return this.id.length>0&&this.privateCode.length>=2?`https://www.ishowroom.vn/n/${this.id}/p/${this.privateCode.slice(0,2)}`:""},background(){if(this.item.imageUrls)return this.item.imageUrls[0]||"https://apps.vinaas.com/file/tgs5EFo1O"},phoneNumber(){if(this.metadata&&this.metadata.vcard)return this.metadata.vcard.homePhone||""},address(){if(this.metadata&&this.metadata.vcard)return this.metadata.vcard.address||""},vcardButtons(){let e=[],t=te.props;for(var l in t){let c=t[l].name;c!="address"&&this.metadata.vcard&&this.metadata.vcard[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.vcard[c]})}return e},paymentsButtons(){let e=[],t=te.payments;for(var l in t){let c=t[l].name;this.metadata.payments&&this.metadata.payments[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.payments[c]})}return e},ecommerceButtons(){let e=[],t=te.ecommerce;for(var l in t){let c=t[l].name;this.metadata.ecommerce&&this.metadata.ecommerce[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.ecommerce[c]})}return e},showIshopButtons(){if(this.enableIshop)return this.ishop.actions.filter(e=>e.enable)},icardInfo(){return{background:this.background,ishop:this.metadata.ishop||{},vcard:this.metadata.vcard||{}}},enableUpdateEdit(){return this.isPreview?!1:this.item.status=="QRID_STATUS.ACTIVE"||this.item.createdBy==2?(this.diffTime=this.$utils.formatDistance(new Date(this.item.created),new Date),this.$utils.isAfterTime(this.item.created,14400)):!1}},methods:{clickConnect(){this.enableConnect=!0},closeConnect(){this.enableConnect=!1},showUpdateEdit(){this.popupOpened=!0},showBasicEdit(){return console.log("showBasicEdit"),this.isPreview?!1:!!(this.item.status=="QRID_STATUS.GENERATED"||this.item[!1])},async closeEditPopup(){await this.getDeviceData(),this.popupOpened=!1},closePreview(){this.$emit("closePreview")},async clickAddContact(){this.$api.PersonAction(this.id,this.privateCode,"CONTACT",this.index,{title:"clickAddContact",content:"Them vao danh ba"})},clickCall(e){console.log("clickCall",e),this.$api.PersonAction(this.id,this.privateCode,"CALL",this.index,{title:"clickCall",content:"tel:"+e}),e&&(window.location="tel:"+e)},clickLink(e,t){let l=t;if(e=="zalo"&&!t.includes("zalo.me")&&(l="https://zalo.me/"+t),e=="whatsapp"&&!t.includes("wa.me")&&(l="https://wa.me/"+t),e=="email"){this.clickMail(l);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:"click "+e,content:l}),window.open(l)},clickMail(e){console.log("mailto",e),this.$api.PersonAction(this.id,this.privateCode,"EMAIL",this.index,{title:"clickMail",content:"mailto: "+e}),e&&(window.location="mailto:"+e)},async getDeviceData(){let e=await this.$api.getQRID(this.id,this.privateCode);if(e){this.item=e,this.showBasicEdit()&&(w.dialog.alert("Danh thi\u1EBFp ch\u01B0a k\xEDch ho\u1EA1t. Vui l\xF2ng nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 v\xE0 k\xEDch ho\u1EA1t","iCard"),this.popupOpened=!0),e.metadata&&(this.metadata=e.metadata),e.metadata&&e.metadata.vcard&&(this.vCard=e.metadata.vcard),e.metadata&&e.metadata.ishop?(this.ishop=e.metadata.ishop,this.enableIshop=!0,this.ishop.actions=[],await this.getIshopData(this.ishop)):e.sellerId.length>10?(await this.getIshopDataById(e.sellerId),this.enableIshop=!0):this.enableIshop=!1,this.item.metadata.company||(this.item.metadata.company={enable:!1,title:"",address:"",name:"",role:""}),this.item.metadata.introduction||(this.item.metadata.introduction={enable:!1,title:"",content:""});const t="vcard_"+this.id+"-"+this.privateCode.toString().substring(0,2)+".vcf";this.vCardFile=`https://api.qrcare.net/api/Containers/vcard/download/${t}`,this.accessType&&this.$api.PersonAction(this.id,this.privateCode,this.accessType,this.index)}else console.log(e),w.dialog.alert("Danh thi\u1EBFp ch\u01B0a \u0111\u01B0\u1EE3c kh\u1EDFi t\u1EA1o. D\xF9ng Th\u1EBB thi\u1EBFt l\u1EADp \u0111\u1EC3 kh\u1EDFi t\u1EA1o ho\u1EB7c vui l\xF2ng li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i","iCard")},async getIshopData(e){let t=this.$utils.parseIShopUrl(e.authenUrl),l=await this.$api.getIDocument(t.id,t.index,t.privateCode);l&&l.metadata&&(this.ishop.id=l.id,l.metadata.actions&&(this.ishop.actions=l.metadata.actions),this.ishop.ishopHeader=l.metadata.ishopHeader||de.iShopHeader)},async getIshopDataById(e){let t=await this.$api.getQRID(e);t&&t.metadata&&(this.ishop.id=t.id,this.ishop.ishop=t.metadata.ishop||de.ishop,this.ishop.ishopHeader=t.metadata.ishopHeader||de.iShopHeader,t.metadata.actions&&(this.ishop.actions=t.metadata.actions))},clickIshopAction(e){console.log("clickIshopAction",this.ishop.id,e);let t=e.url,l=e.name,c=e.text;if(l=="zalo"&&!value.includes("zalo")&&(t="https://zalo.me/"+value),l=="email"){this.clickMail(t);return}let o=this.ishop.id,r=1;this.$api.PersonAction(o,"","ISHOP_CLICK",r,{title:`${this.id}: ${c}`,icardId:this.id.toString(),content:JSON.stringify(e)}),e.type=="URL"&&window.open(t)},updateItem(e){}},async mounted(){await this.getDeviceData()}},eI=p("iCard Preview"),tI=p("Close"),iI={class:"page-content",style:{"padding-bottom":"100px"}},nI={key:0,class:"row"},oI=["onClick"],sI=["src"],aI={key:1,class:"f7-icons size-28"},lI={class:"row"},rI=i("i",{class:"f7-icons size-28"},"phone_fill",-1),dI=["href"],cI=i("i",{class:"icon f7-icons if-not-md",style:{color:"black"}},"plus",-1),uI=i("i",{class:"icon material-icons md-only",style:{color:"black"}},"add",-1),pI=i("div",{style:{color:"black"}},"Contact",-1),hI=[cI,uI,pI],mI=p("Payment Information"),_I={key:2,class:"row"},fI=["onClick"],gI=["src"],vI={key:1,class:"f7-icons size-28"},CI=p("Shopping Online"),bI={key:4,class:"row"},II=["onClick"],yI=["src"],kI={key:1,class:"f7-icons size-28"},DI=["innerHTML"],EI={key:1,class:"block"},wI=i("p",null,"\u0111\u1EC3 xem \u0111\u1EA7y \u0111\u1EE7 vui l\xF2ng d\xF9ng Th\u1EBB thi\u1EBFt l\u1EADp",-1),NI={key:0,class:"row"};function AI(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-icon"),C=a("f7-fab"),b=a("i-card-overview"),m=a("f7-block-title"),y=a("f7-card-content"),E=a("f7-card"),T=a("f7-card-header"),P=a("i-card-checkin"),O=a("i-shop-info"),x=a("i-block-content"),B=a("i-block"),H=a("f7-block"),$=a("f7-page"),M=a("i-card-edit"),j=a("f7-popup"),Y=a("i-card-connect");return d(),h(N,null,[n($,{"no-navbar":!l.isPreview},{default:s(()=>[l.isPreview?(d(),D(v,{key:0,sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[eI]),_:1}),n(g,null,{default:s(()=>[n(f,{onClick:t[0]||(t[0]=R=>r.closePreview())},{default:s(()=>[tI]),_:1})]),_:1})]),_:1})):k("",!0),n(C,{position:"center-bottom",color:"green",text:"Connect",onClick:t[1]||(t[1]=R=>r.clickConnect())},{default:s(()=>[n(I,{f7:"plus"})]),_:1}),r.phoneNumber?(d(),D(C,{key:1,position:"right-bottom",color:"blue",text:"",onClick:t[2]||(t[2]=R=>r.clickCall(r.phoneNumber))},{default:s(()=>[n(I,{f7:"phone_fill"})]),_:1})):k("",!0),i("div",iI,[n(b,{id:l.id,bg:r.background,metadata:o.metadata},null,8,["id","bg","metadata"]),n(E,null,{default:s(()=>[n(y,null,{default:s(()=>[r.vcardButtons.length>0?(d(),h("div",nI,[(d(!0),h(N,null,Q(r.vcardButtons,R=>(d(),h("a",{key:R.name,class:"col-50 button button-round",onClick:q=>r.clickLink(R.name,R.value)},[R.icon.includes(".")?(d(),h("img",{key:0,src:R.icon,width:"30",style:{width:"30px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,sI)):(d(),h("i",aI,u(R.icon),1)),i("span",null,u(R.name),1)],8,oI))),128))])):k("",!0),i("div",lI,[r.phoneNumber?(d(),h("button",{key:0,onClick:t[3]||(t[3]=R=>r.clickCall(r.phoneNumber)),class:"col-60 button button-large button-round button-fill"},[rI,p(" "+u(r.phoneNumber),1)])):k("",!0),r.phoneNumber?(d(),h("a",{key:1,class:"col-40 color-blue button button-round external",href:o.vCardFile,onClick:t[4]||(t[4]=R=>r.clickAddContact())},hI,8,dI)):k("",!0)]),r.paymentsButtons.length>0?(d(),D(m,{key:1},{default:s(()=>[mI]),_:1})):k("",!0),r.paymentsButtons.length>0?(d(),h("div",_I,[(d(!0),h(N,null,Q(r.paymentsButtons,R=>(d(),h("a",{key:R.name,class:"col-50 button button-round",onClick:q=>r.clickLink(R.name,R.value)},[R.icon.includes(".")?(d(),h("img",{key:0,src:R.icon,width:"30",style:{width:"30px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,gI)):(d(),h("i",vI,u(R.icon),1)),i("span",null,u(R.name),1)],8,fI))),128))])):k("",!0),r.ecommerceButtons.length>0?(d(),D(m,{key:3},{default:s(()=>[CI]),_:1})):k("",!0),r.ecommerceButtons.length>0?(d(),h("div",bI,[(d(!0),h(N,null,Q(r.ecommerceButtons,R=>(d(),h("a",{key:R.name,class:"col-50 button button-round",onClick:q=>r.clickLink(R.name,R.value)},[R.icon.includes(".")?(d(),h("img",{key:0,src:R.icon,width:"30",style:{width:"30px",margin:"5px",display:"inline-block","vertical-align":"top"}},null,8,yI)):(d(),h("i",kI,u(R.icon),1)),i("span",null,u(R.name),1)],8,II))),128))])):k("",!0)]),_:1})]),_:1}),o.item.metadata.introduction.enable?(d(),D(E,{key:0},{default:s(()=>[n(T,{"bg-color":"blue",innerHTML:o.item.metadata.introduction.title},null,8,["innerHTML"]),n(y,null,{default:s(()=>[i("div",{innerHTML:o.item.metadata.introduction.content},null,8,DI)]),_:1})]),_:1})):k("",!0),r.showCheckin?(d(),h("div",EI,[n(P,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]),wI])):k("",!0),A(i("section",null,[n(O,{id:o.ishop.id,isView:!0,ishop:o.ishop.ishop},null,8,["id","ishop"]),n(x,{data:o.ishop.ishopHeader,showTitle:!1,isView:!0,showButton:!1},null,8,["data"]),i("div",null,[(d(!0),h(N,null,Q(r.showIshopButtons,R=>(d(),D(B,{key:R.name,title:R.name,isView:!0,data:R,onClickAction:r.clickIshopAction},null,8,["title","data","onClickAction"]))),128))])],512),[[F,o.enableIshop]]),n(H,null,{default:s(()=>[r.enableUpdateEdit?(d(),h("div",NI,[i("button",{class:"button button-large button-round button-outline",onClick:t[5]||(t[5]=(...R)=>r.showUpdateEdit&&r.showUpdateEdit(...R))}," C\u1EADp nh\u1EADt th\xF4ng tin")])):k("",!0),n(m,{style:{"text-align":"center","margin-top":"0px"}},{default:s(()=>[p(" ID: "+u(e.$utils.formatQRID(l.id)),1)]),_:1})]),_:1})])]),_:1},8,["no-navbar"]),n(j,{id:"edit",opened:o.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[n($,null,{default:s(()=>[n(M,{id:l.id,privateCode:l.privateCode,isPopup:!0,fullEdit:!1,onCloseItem:r.closeEditPopup},null,8,["id","privateCode","onCloseItem"])]),_:1})]),_:1},8,["opened"]),n(j,{opened:o.enableConnect,"tablet-fullscreen":!0},{default:s(()=>[n(Y,{icardId:l.id,privateCode:l.privateCode,info:r.icardInfo,onClose:t[6]||(t[6]=R=>r.closeConnect())},null,8,["icardId","privateCode","info"])]),_:1},8,["opened"])],64)}var re=S(Z0,[["render",AI]]);const TI={props:{f7route:Object,f7router:Object,accessType:String,id:String,privateCode:String,index:Number},data(){return{data:{status:"",metadata:{}}}},computed:{isActive(){return this.data.status=="QRID_STATUS.ACTIVE"}},methods:{redirectTo(){this.data.metadata.redirectUrl},copyNFC(){},async getDeviceData(){let e=await this.$api.iCheck(this.id,this.index,this.privateCode,this.accessType);e&&(this.data=e,this.redirectTo())}},async mounted(){await this.getDeviceData()}},PI=p("Goto "),$I=p("Copy NFC");function UI(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-col"),g=a("f7-row"),v=a("f7-block"),I=a("f7-page");return d(),D(I,null,{default:s(()=>[n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[n(f,{width:"100"},{default:s(()=>[r.isActive?(d(),D(_,{key:0,fill:"",round:"",large:"",onClick:t[0]||(t[0]=C=>r.redirectTo())},{default:s(()=>[PI]),_:1})):k("",!0)]),_:1})]),_:1}),e.getNFCUrl?(d(),D(_,{key:0,large:"",onClick:t[1]||(t[1]=C=>r.copyNFC())},{default:s(()=>[$I]),_:1})):k("",!0)]),_:1}),i("h3",null,u(`${l.id} : ${l.index} : ${l.privateCode}`),1)]),_:1})}var SI=S(TI,[["render",UI]]);const RI={emits:["update"],components:{Avatar:ge,AvatarPicker:Ue},props:{enable:{type:Boolean,default:!0},isView:{type:Boolean,default:!0},Info:Object,refreshIndex:{type:Number,default:0}},data(){return{enablePopup:!1,templateName:"iBlock1",data:{imageUrl:"",title:"",subTitle:"",subTitle2:""}}},watch:{refreshIndex(e){console.log("Lan update thu:"+e),this.data=this.Info,this.data.imageUrl||(this.data.imageUrl="/assets/favicon.png")}},methods:{closePopup(){this.enablePopup=!1},showEdit(){console.log("showEdit()"),this.enablePopup=!0},saveEdit(){this.$emit("update",this.data)},async onFile(e){const{file:t,fileContent:l}=e;console.log("bao"),console.log({file:t,fileContent:l});var c=this.dataURItoBlob(l);const o=new FormData;o.append("canvasImage",c);try{let r="https://media.vinaas.com/upload/qrcare-vn";const{data:_}=await this.$axios.post(r,o,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(_&&_.id){const f="https://apps.vinaas.com/file/"+_.id;this.data.imageUrl=f}}catch(r){console.log("err",r)}finally{}},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var l=e.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(t.length),o=0;o<t.length;o++)c[o]=t.charCodeAt(o);return new Blob([c],{type:l})}}},me=e=>(W("data-v-01cb1d64"),e=e(),X(),e),xI={key:0,class:"content-edit"},OI=me(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),BI=[OI],HI={class:"block",style:{margin:"0px","padding-top":"20px"}},QI={class:"block-content",style:{"text-align":"center"}},VI={class:"my-block-title"},LI={key:0,class:"subtitle"},zI={key:1,class:"block-footer"},qI=p("Close"),FI={class:"page-content"},MI=me(()=>i("div",{style:{"text-align":"center"}},"Click \u0111\u1EC3 c\u1EADp nh\u1EADt",-1)),GI={class:"list"},KI={class:"item-content item-input"},YI={class:"item-inner"},jI=me(()=>i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1 (Title)",-1)),JI={class:"item-input-wrap"},WI=me(()=>i("span",{class:"input-clear-button"},null,-1)),XI={class:"item-content item-input"},ZI={class:"item-inner"},ey=me(()=>i("div",{class:"item-title item-label"},"Sub Title",-1)),ty={class:"item-input-wrap"},iy=me(()=>i("span",{class:"input-clear-button"},null,-1)),ny={class:"item-content item-input"},oy={class:"item-inner"},sy=me(()=>i("div",{class:"item-title item-label"},"subTitle 2",-1)),ay={class:"item-input-wrap"},ly=me(()=>i("span",{class:"input-clear-button"},null,-1)),ry={class:"block"};function dy(e,t,l,c,o,r){const _=a("avatar"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("avatar-picker"),C=a("f7-block"),b=a("f7-card"),m=a("f7-page"),y=a("f7-popup");return d(),h(N,null,[i("div",null,[l.isView?k("",!0):(d(),h("div",xI,[i("a",{onClick:t[0]||(t[0]=E=>r.showEdit())},BI)])),i("div",HI,[i("div",QI,[n(_,{src:o.data.imageUrl,style:{margin:"auto",width:"50%",height:"50%"}},null,8,["src"]),i("div",VI,u(o.data.title),1),o.data.subTitle?(d(),h("div",LI,u(o.data.subTitle),1)):k("",!0),o.data.subTitle2?(d(),h("div",zI,u(o.data.subTitle2),1)):k("",!0)])])]),n(y,{id:"block-one",opened:o.enablePopup,"onUpdate:opened":t[6]||(t[6]=E=>o.enablePopup=E),"tablet-fullscreen":!0},{default:s(()=>[n(m,null,{default:s(()=>[n(v,{title:"Update Info"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=E=>r.closePopup())},{default:s(()=>[qI]),_:1})]),_:1})]),_:1}),i("div",FI,[n(C,{style:{margin:"0px"}},{default:s(()=>[n(I,{class:"avatar-center",src:o.data.imageUrl,icon:"",cropper:"",onFile:r.onFile,style:{margin:"auto",width:"50%",height:"50%"}},null,8,["src","onFile"]),MI]),_:1}),n(b,null,{default:s(()=>[i("div",GI,[i("ul",null,[i("li",KI,[i("div",YI,[jI,i("div",JI,[A(i("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=E=>o.data.title=E)},null,512),[[V,o.data.title]]),WI])])]),i("li",XI,[i("div",ZI,[ey,i("div",ty,[A(i("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=E=>o.data.subTitle=E)},null,512),[[V,o.data.subTitle]]),iy])])]),i("li",ny,[i("div",oy,[sy,i("div",ay,[A(i("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=E=>o.data.subTitle2=E)},null,512),[[V,o.data.subTitle2]]),ly])])])])])]),_:1}),i("div",ry,[i("button",{class:"button button-large button-round button-fill",onClick:t[5]||(t[5]=E=>r.saveEdit())},"Save")])])]),_:1})]),_:1},8,["opened"])],64)}var cy=S(RI,[["render",dy],["__scopeId","data-v-01cb1d64"]]);const uy={emits:["clickAction"],props:{text:String,link:String,icon:String,name:String,isView:{type:Boolean,default:!0}},methods:{clickAction(e){this.$emit("clickAction",e),this.isView?this.link&&(w.dialog.alert(this.link),window.location=this.link):w.dialog.alert("Edit Action"+e)}}},py={class:"icon f7-icons"},hy={class:"i-icon"};function my(e,t,l,c,o,r){return d(),h("button",{onClick:t[0]||(t[0]=_=>r.clickAction(l.name)),class:"button button-large button-round button-outline istand-btn"},[i("i",py,u(l.icon),1),i("span",hy,u(l.text),1)])}var kt=S(uy,[["render",my],["__scopeId","data-v-2218e065"]]);const _y={emits:["updated"],props:{id:String,btnText:String,bannerUrl:{type:String,default:"https://apps.vinaas.com/file/qRa7o3Xw9"},content:String},data(){return{enablePopup:!1,data:{id:-1,title:"",subTitle:"",imageUrl:"",content:""}}},methods:{closePopup(){this.enablePopup=!1},showPopup(){this.data.id=this.id,this.enablePopup=!0},save(){this.$emit("updated",this.data),this.enablePopup=!1}}},fy=p(" Edit "),gy=p("Close"),vy={class:"list"},Cy={class:"item-content item-input"},by={class:"item-inner"},Iy=i("div",{class:"item-title item-label"},"Title popup",-1),yy={class:"item-input-wrap"},ky=i("span",{class:"input-clear-button"},null,-1),Dy={class:"item-content item-input"},Ey={class:"item-inner"},wy=i("div",{class:"item-title item-label"},"SubTitle Popup",-1),Ny={class:"item-input-wrap"},Ay=i("span",{class:"input-clear-button"},null,-1),Ty={class:"item-content item-input"},Py=["src"],$y={class:"item-inner"},Uy=i("div",{class:"item-title item-label"},"Popup Image",-1),Sy={class:"item-input-wrap"},Ry=i("span",{class:"input-clear-button"},null,-1),xy={class:"item-content item-input"};function Oy(e,t,l,c,o,r){const _=a("f7-button"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-text-editor"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[n(_,{col:"",onClick:t[0]||(t[0]=m=>r.showPopup())},{default:s(()=>[fy]),_:1}),n(b,{id:"istand-right-bottom-button",opened:o.enablePopup,"onUpdate:opened":t[7]||(t[7]=m=>o.enablePopup=m)},{default:s(()=>[n(C,null,{default:s(()=>[n(v,{title:"Update Data"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[gy]),_:1})]),_:1})]),_:1}),i("div",vy,[i("ul",null,[i("li",Cy,[i("div",by,[Iy,i("div",yy,[A(i("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=m=>o.data.title=m)},null,512),[[V,o.data.title]]),ky])])]),i("li",Dy,[i("div",Ey,[wy,i("div",Ny,[A(i("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=m=>o.data.subTitle=m)},null,512),[[V,o.data.subTitle]]),Ay])])]),i("li",Ty,[i("img",{src:o.data.imageUrl,style:{"max-width":"100%",height:"auto"}},null,8,Py),i("div",$y,[Uy,i("div",Sy,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[4]||(t[4]=m=>o.data.imageUrl=m)},null,512),[[V,o.data.imageUrl]]),Ry])])]),i("li",xy,[n(I,{placeholder:"Content",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h3","h4"]],value:o.data.content,"onTexteditor:change":t[5]||(t[5]=m=>o.data.content=m)},null,8,["value"])]),i("li",null,[i("button",{class:"button button-fill",onClick:t[6]||(t[6]=m=>r.save())}," Save & Close ")])])])]),_:1})]),_:1},8,["opened"])],64)}var Dt=S(_y,[["render",Oy]]);const By={emits:["clickAction","update"],components:{iButton:kt,iPopup:Dt},props:{enable:{type:Boolean,default:!0},isView:{type:Boolean,default:!0},Info:Object,refreshIndex:{type:Number,default:0}},computed:{showActions(){return this.actions.filter(e=>e.enable)},isURLAction(e){return!(e&&e!="URL")}},watch:{refreshIndex(e){this.actions=this.Info||[]}},methods:{popupUpdated(e){if(console.log("popupUpdated",e),e.id>-1){for(const[t,l]of Object.entries(e))if(t!="id"){let c="POPUP_"+t;this.actions[e.id][c]=l}console.log("actions",this.actions)}},saveEdit(){this.$emit("update",this.actions)},closePopup(){this.enablePopup=!1},showEdit(){this.enablePopup=!0},clickAction(e,t,l=""){this.isView?e&&t?this.$emit("clickAction",{name:e,url:t,text:l}):w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e}`):this.showEdit()}},data(){return{types:[{name:"URL",value:"URL"},{name:"POPUP",value:"POPUP"},{name:"CALL",value:"CALL"}],enablePopup:!1,actions:[{name:"action_1",enable:!1,valueType:"URL",icon:"house",url:"https://icard.qrcare.vn",text:"click 1"},{name:"action_2",enable:!1,valueType:"URL",icon:"phone-fill",url:"",text:"click 2"},{name:"action_3",enable:!1,valueType:"CALL",icon:"phone",url:"",text:"click 3"},{name:"action_4",enable:!1,valueType:"POPUP",icon:"phone",url:"",text:"click 4"},{name:"action_5",enable:!1,icon:"phone",url:"",text:"click 5"}]}},mounted(){w.colorPicker.create({inputEl:"#demo-color-picker-wheel",targetEl:"#demo-color-picker-wheel-value",targetElSetBackgroundColor:!0,modules:["wheel"],openIn:"popover",value:{hex:"#00ff00"}})}},ue=e=>(W("data-v-c971cb4a"),e=e(),X(),e),Hy={class:""},Qy={class:"block",style:{margin:"0px"}},Vy={key:0,class:"content-edit"},Ly=ue(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),zy=[Ly],qy={class:"block-content",style:{padding:"10px"}},Fy={class:"list no-hairlines"},My={style:{background:"none",border:"none"}},Gy=["onClick"],Ky={key:0,class:"block-footer"},Yy=p("Close"),jy={class:"card-header"},Jy={style:{"padding-right":"10px"}},Wy={class:"list",style:{"margin-top":"10px"}},Xy={class:"button button-large button-round button-fill"},Zy={class:"item-content item-input"},ek={class:"item-inner"},tk=ue(()=>i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1 c\u1EE7a Action",-1)),ik={class:"item-input-wrap"},nk=["onUpdate:modelValue"],ok=ue(()=>i("span",{class:"input-clear-button"},null,-1)),sk={class:"item-content item-input"},ak={class:"item-inner"},lk=ue(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),rk={class:"item-input-wrap"},dk=["onUpdate:modelValue"],ck=ue(()=>i("span",{class:"input-clear-button"},null,-1)),uk={class:"item-content item-input"},pk={class:"item-inner"},hk=ue(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),mk={class:"item-input-wrap"},_k=["onUpdate:modelValue"],fk=ue(()=>i("span",{class:"input-clear-button"},null,-1)),gk={class:"item-content item-input"},vk={class:"item-inner"},Ck=ue(()=>i("div",{class:"item-title item-label"},"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",-1)),bk={class:"item-input-wrap"},Ik=["onUpdate:modelValue"],yk=ue(()=>i("span",{class:"input-clear-button"},null,-1)),kk={class:"item-content item-input"},Dk={class:"block"};function Ek(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-toggle"),I=a("i-popup"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",Hy,[i("div",Qy,[l.isView?k("",!0):(d(),h("div",Vy,[i("a",{onClick:t[0]||(t[0]=m=>r.showEdit())},zy)])),i("div",qy,[i("div",Fy,[i("ul",My,[(d(!0),h(N,null,Q(r.showActions,m=>(d(),h("li",{key:m.name},[i("button",{onClick:y=>r.clickAction(m.name,m.url,m.text),class:"button button-large button-round button-fill istand-btn"},u(m.text),9,Gy)]))),128))])]),l.isView?k("",!0):(d(),h("div",Ky,"Minh ho\u1EA1 m\u1ED9t s\u1ED1 h\xE0nh \u0111\u1ED9ng, cho ph\xE9p thay \u0111\u1ED5i theo nhu c\u1EA7u."))])])]),n(b,{opened:o.enablePopup,"onUpdate:opened":t[3]||(t[3]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Update Data"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[Yy]),_:1})]),_:1})]),_:1}),(d(!0),h(N,null,Q(o.actions,(m,y)=>(d(),h("div",{class:"card",key:m.name},[i("div",jy,[i("span",Jy,"Action # "+u(y+1),1),n(v,{color:"blue",checked:m.enable,"onUpdate:checked":E=>m.enable=E},null,8,["checked","onUpdate:checked"])]),A(i("div",Wy,[i("ul",null,[i("li",null,[i("button",Xy,u(m.text),1)]),i("li",Zy,[i("div",ek,[tk,i("div",ik,[A(i("input",{type:"text","onUpdate:modelValue":E=>o.actions[y].text=E},null,8,nk),[[V,o.actions[y].text]]),ok])])]),A(i("li",sk,[i("div",ak,[lk,i("div",rk,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":E=>o.actions[y].url=E},null,8,dk),[[V,o.actions[y].url]]),ck])])],512),[[F,!m.valueType]]),A(i("li",uk,[i("div",pk,[hk,i("div",mk,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":E=>o.actions[y].url=E},null,8,_k),[[V,o.actions[y].url]]),fk])])],512),[[F,m.valueType=="URL"]]),A(i("li",gk,[i("div",vk,[Ck,i("div",bk,[A(i("input",{type:"text",placeholder:"(84)9","onUpdate:modelValue":E=>o.actions[y].call=E},null,8,Ik),[[V,o.actions[y].call]]),yk])])],512),[[F,m.valueType=="CALL"]]),A(i("li",kk,[n(I,{id:y,onUpdated:r.popupUpdated},null,8,["id","onUpdated"])],512),[[F,m.valueType=="POPUP"]])])],512),[[F,m.enable]])]))),128)),i("div",Dk,[i("button",{class:"button button-large button-fill",onClick:t[2]||(t[2]=m=>r.saveEdit())},"Save")])]),_:1})]),_:1},8,["opened"])],64)}var wk=S(By,[["render",Ek],["__scopeId","data-v-c971cb4a"]]);const Nk={emits:["clickAction","update"],components:{iButton:kt,iPopup:Dt},props:{enable:{type:Boolean,default:!0},isView:{type:Boolean,default:!0},Info:Object,refreshIndex:{type:Number,default:0}},computed:{isURLAction(e){return!(e&&e!="URL")}},watch:{refreshIndex(e){console.log("button-refress",this.Info),this.Info&&this.Info.name&&(this.action=this.Info)}},methods:{popupUpdated(e){if(console.log("popupUpdated",e),e.id>-1){for(const[t,l]of Object.entries(e))if(t!="id"){let c="POPUP_"+t;this.actions[e.id][c]=l}console.log("actions",this.actions)}},saveEdit(){this.$emit("update",this.action)},closePopup(){this.enablePopup=!1},showEdit(){this.enablePopup=!0},showEditAction(e){},clickAction(e,t,l=""){this.isView?e&&t?this.$emit("clickAction",{name:e,url:t,text:l}):w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e}`):this.showEdit()}},data(){return{types:[{name:"URL",value:"URL"},{name:"POPUP",value:"POPUP"},{name:"CALL",value:"CALL"}],action:{name:"action_1",enable:!1,valueType:"URL",icon:"house",url:"https://icard.qrcare.vn",text:"click 1"},enablePopup:!1}},mounted(){w.colorPicker.create({inputEl:"#demo-color-picker-wheel",targetEl:"#demo-color-picker-wheel-value",targetElSetBackgroundColor:!0,modules:["wheel"],openIn:"popover",value:{hex:"#00ff00"}})}},ae=e=>(W("data-v-23e6f80e"),e=e(),X(),e),Ak={class:""},Tk={class:"block",style:{margin:"0px"}},Pk={key:0,class:"content-edit"},$k=ae(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),Uk=[$k],Sk={class:"block-content",style:{padding:"10px"}},Rk={class:"list no-hairlines"},xk={style:{background:"none",border:"none"}},Ok=p("Close"),Bk={class:"block"},Hk=ae(()=>i("div",{class:"block-title"},[i("span",{style:{"padding-right":"10px"}},"Preview")],-1)),Qk={class:"button button-large button-round button-fill"},Vk={class:"block"},Lk={class:"card-header"},zk=ae(()=>i("span",{style:{"padding-right":"10px"}},"Action",-1)),qk={class:"item-content row"},Fk=ae(()=>i("div",{class:"col-60"},"Ch\u1ECDn lo\u1EA1i h\xE0nh \u0111\u1ED9ng:",-1)),Mk={class:"col-40",style:{"border-radis":"solid 1px"}},Gk=["value"],Kk={class:"list",style:{"margin-top":"10px"}},Yk={class:"item-content item-input"},jk=ae(()=>i("span",{style:{"padding-right":"10px"}},"Show / Hide",-1)),Jk={class:"item-content item-input"},Wk={class:"item-inner"},Xk=ae(()=>i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1 c\u1EE7a Action",-1)),Zk={class:"item-input-wrap"},eD=ae(()=>i("span",{class:"input-clear-button"},null,-1)),tD={class:"item-content item-input"},iD={class:"item-inner"},nD=ae(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),oD={class:"item-input-wrap"},sD=ae(()=>i("span",{class:"input-clear-button"},null,-1)),aD={class:"item-content item-input"},lD={class:"item-inner"},rD=ae(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),dD={class:"item-input-wrap"},cD=ae(()=>i("span",{class:"input-clear-button"},null,-1)),uD={class:"item-content item-input"},pD={class:"item-inner"},hD=ae(()=>i("div",{class:"item-title item-label"},"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",-1)),mD={class:"item-input-wrap"},_D=ae(()=>i("span",{class:"input-clear-button"},null,-1)),fD={class:"item-content item-input"},gD={class:"block"};function vD(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-toggle"),I=a("i-popup"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",Ak,[i("div",Tk,[l.isView?k("",!0):(d(),h("div",Pk,[i("a",{onClick:t[0]||(t[0]=m=>r.showEdit())},Uk)])),i("div",Sk,[i("div",Rk,[i("ul",xk,[i("li",null,[i("button",{onClick:t[1]||(t[1]=m=>r.clickAction(o.action.name,o.action.url,o.action.text)),class:"button button-large button-round button-fill istand-btn"},u(o.action.text),1)])])])])])]),n(b,{id:"i-buttons",opened:o.enablePopup,"onUpdate:opened":t[11]||(t[11]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Update Data"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=m=>r.closePopup())},{default:s(()=>[Ok]),_:1})]),_:1})]),_:1}),i("div",Bk,[Hk,i("button",Qk,u(o.action.text),1)]),i("div",Vk,[i("div",Lk,[zk,n(v,{color:"blue",checked:o.action.enable,"onUpdate:checked":t[3]||(t[3]=m=>o.action.enable=m)},null,8,["checked"])]),i("div",qk,[Fk,i("div",Mk,[A(i("select",{"onUpdate:modelValue":t[4]||(t[4]=m=>o.action.valueType=m)},[(d(!0),h(N,null,Q(o.types,m=>(d(),h("option",{key:m.name,value:m.value},u(m.name),9,Gk))),128))],512),[[xe,o.action.valueType]])])]),i("div",Kk,[i("ul",null,[i("li",Yk,[jk,n(v,{color:"blue",checked:o.action.enable,"onUpdate:checked":t[5]||(t[5]=m=>o.action.enable=m)},null,8,["checked"])]),i("li",Jk,[i("div",Wk,[Xk,i("div",Zk,[A(i("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=m=>o.action.text=m)},null,512),[[V,o.action.text]]),eD])])]),A(i("li",tD,[i("div",iD,[nD,i("div",oD,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[7]||(t[7]=m=>o.action.url=m)},null,512),[[V,o.action.url]]),sD])])],512),[[F,!o.action.valueType]]),A(i("li",aD,[i("div",lD,[rD,i("div",dD,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[8]||(t[8]=m=>o.action.url=m)},null,512),[[V,o.action.url]]),cD])])],512),[[F,o.action.valueType=="URL"]]),A(i("li",uD,[i("div",pD,[hD,i("div",mD,[A(i("input",{type:"text",placeholder:"(84)9","onUpdate:modelValue":t[9]||(t[9]=m=>o.action.call=m)},null,512),[[V,o.action.call]]),_D])])],512),[[F,o.action.valueType=="CALL"]]),A(i("li",fD,[n(I,{id:e.index,onUpdated:r.popupUpdated},null,8,["id","onUpdated"])],512),[[F,o.action.valueType=="POPUP"]])])])]),i("div",gD,[i("button",{class:"button button-large button-fill",onClick:t[10]||(t[10]=m=>r.saveEdit())},"Save")])]),_:1})]),_:1},8,["opened"])],64)}var CD=S(Nk,[["render",vD],["__scopeId","data-v-23e6f80e"]]);const bD={props:{id:String,privateCode:String},components:{UserActions:Qe},data(){return{enablePopup:!1,qrid:"0",code:"0"}},methods:{closePopup(){this.enablePopup=!1},showPopup(){this.qrid=this.id,this.code=this.privateCode,this.enablePopup=!0}}},ID=p("Close");function yD(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-fab"),g=a("f7-link"),v=a("f7-nav-right"),I=a("f7-navbar"),C=a("user-actions"),b=a("f7-page"),m=a("f7-popup");return d(),h(N,null,[n(f,{position:"right-bottom",color:"green",text:"",onClick:t[0]||(t[0]=y=>r.showPopup())},{default:s(()=>[n(_,{f7:"waveform"})]),_:1}),n(m,{id:"istand-right-bottom-button",opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=y=>o.enablePopup=y)},{default:s(()=>[n(b,null,{default:s(()=>[n(I,{title:"L\u1ECBch s\u1EED t\u01B0\u01A1ng t\xE1c"},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{onClick:t[1]||(t[1]=y=>r.closePopup())},{default:s(()=>[ID]),_:1})]),_:1})]),_:1}),n(C,{qrid:o.qrid,privateCode:o.code},null,8,["qrid","privateCode"])]),_:1})]),_:1},8,["opened"])],64)}var kD=S(bD,[["render",yD]]);const DD={emits:["addAddContact"],props:{id:String,privateCode:String,index:Number,cardType:String,lang:{type:String,default:"vn"}},data(){return{vCardFile:""}},computed:{isShow(){return this.cardType=="ICARD"}},methods:{closePopup(){this.enablePopup=!1},async showPopup(){this.vCardFile=await this.$api.getVcard(this.id,this.privateCode.toString().substring(0,2)),console.log("vCard",this.id,this.privateCode.toString().substring(0,2),this.vCardFile),this.enablePopup=!0},async clickAddContact(){this.$api.PersonAction(this.id,this.privateCode,"CONTACT",this.index,{title:"clickAddContact",content:"Them vao danh ba"}),this.closePopup()}}},ED={key:0,class:"fab fab-center-bottom color-blue"},wD=i("i",{class:"icon f7-icons if-not-md"},"plus",-1),ND=i("i",{class:"icon material-icons md-only"},"add",-1),AD=[wD,ND],TD=p("Close"),PD=i("div",{class:"block"},[i("div",{class:"block-title"},"C\xE1ch l\u01B0u v\xE0o danh b\u1EA1 tr\xEAn iOS")],-1),$D={key:0,class:"fab fab-extended fab-center-bottom color-blue"},UD=["href"],SD=i("i",{class:"icon f7-icons if-not-md"},"plus",-1),RD=i("i",{class:"icon material-icons md-only"},"add",-1),xD=i("div",{class:"fab-text"},null,-1),OD=[SD,RD,xD];function BD(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup");return d(),h(N,null,[r.isShow?(d(),h("div",ED,[i("a",{onClick:t[0]||(t[0]=C=>r.showPopup())},AD)])):k("",!0),n(I,{id:"btn-add-contact",opened:e.enablePopup,"onUpdate:opened":t[3]||(t[3]=C=>e.enablePopup=C),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:"Update Info"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=C=>r.closePopup())},{default:s(()=>[TD]),_:1})]),_:1})]),_:1}),PD,o.vCardFile?(d(),h("div",$D,[i("a",{class:"external",href:o.vCardFile,onClick:t[2]||(t[2]=C=>r.clickAddContact())},OD,8,UD)])):k("",!0)]),_:1})]),_:1},8,["opened"])],64)}var HD=S(DD,[["render",BD]]);const QD={props:{id:String,privateCode:String},components:{},data(){return{enablePopup:!1,selectIndex:1,code:""}},computed:{genID(){if(this.code){let e=this.code.slice(0,3),t=this.selectIndex.toString().padStart(4,"0");return`${this.id}.${t}-${e}`.substring(11)}else return"Ch\u01B0a c\xF3 privateCode"}},watch:{selectIndex(e){e>0&&this.updateCode()}},methods:{closePopup(){this.enablePopup=!1},async showPopup(){await this.updateCode(),this.enablePopup=!0},async updateCode(){let e=await this.$api.getPrivateCode(this.id,this.selectIndex,this.privateCode);e&&(this.code=e.privateCode||"")},async copyNFC(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.qrcare.vn/infc/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,4)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iStand")}else w.dialog.alert("Error on get NFC Url")},async copyQRCode(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.qrcare.vn/id/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,3)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iStand")}else w.dialog.alert("Error on get Url")},async copyLINK(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.qrcare.vn/id-url/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,3)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iStand")}else w.dialog.alert("Error on get Url")}}},VD={class:"card"},LD=p("Close"),zD={class:"block block-strong"},qD={class:"block-title"},FD={class:"block-footer"},MD={class:"list no-hairlines"},GD={class:"item-content"},KD={class:"block-title"},YD={class:"item-content"},jD=i("small",null,"Index",-1),JD={class:"stepper stepper-fill stepper-round stepper-init"},WD=i("div",{class:"stepper-button-minus"},null,-1),XD={class:"stepper-input-wrap"},ZD=i("div",{class:"stepper-button-plus"},null,-1),eE={class:"row",style:{"margin-top":"15px"}},tE=p("NFC"),iE=p("QRCode"),nE=p("Share");function oE(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-button"),I=a("f7-page"),C=a("f7-popup");return d(),h(N,null,[i("div",VD,[i("a",{class:"button button-round",onClick:t[0]||(t[0]=b=>r.showPopup())},"Get Urls")]),n(C,{id:"istand",opened:o.enablePopup,"onUpdate:opened":t[6]||(t[6]=b=>o.enablePopup=b),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:"Update Info"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=b=>r.closePopup())},{default:s(()=>[LD]),_:1})]),_:1})]),_:1}),i("div",zD,[i("div",qD,"QRID: "+u(l.id),1),i("div",FD,"PrivateCode: "+u(l.privateCode),1),i("div",MD,[i("ul",null,[i("li",GD,[i("div",KD,u(r.genID),1)]),i("li",YD,[jD,i("div",JD,[WD,i("div",XD,[A(i("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=b=>o.selectIndex=b),min:"1",max:"999",step:"1"},null,512),[[V,o.selectIndex]])]),ZD])]),i("li",eE,[n(v,{"col-20":"",fill:"",round:"",large:"",onClick:t[3]||(t[3]=b=>r.copyNFC())},{default:s(()=>[tE]),_:1}),n(v,{"col-30":"",fill:"",round:"",large:"",onClick:t[4]||(t[4]=b=>r.copyQRCode())},{default:s(()=>[iE]),_:1}),n(v,{"col-40":"",fill:"",round:"",large:"",onClick:t[5]||(t[5]=b=>r.copyLINK())},{default:s(()=>[nE]),_:1})])])])])]),_:1})]),_:1},8,["opened"])],64)}var sE=S(QD,[["render",oE]]);const aE={data(){return{enablePopup:!1,id:"100010010680004",privateCode:"14504942",navbar:"iStand v1.2",title:"C\xE1ch s\u1EED d\u1EE5ng iStand",sections:[{title:"Ch\u1EA1m NFC tr\xEAn iOS",subTitle:"iPhone X tr\u1EDF l\xEAn",content:"Ch\u1EA1m v\xE0o m\u1EB7t sau, tr\xEAn \u0111\u1EC9nh, k\u1EC1 ph\u1EA7n camera trong 2,3 gi\xE2y",button:{text:"",icon:"",url:""}},{title:"Ch\u1EA1m NFC tr\xEAn iPhone 7,8",subTitle:"",content:"",button:{text:"",icon:"",url:""}}]}},methods:{closePopup(){this.enablePopup=!1},showPopup(){},async loadData(){}}},lE={class:"block",style:{margin:"0px","padding-bottom":"50px"}},rE={class:"block-content",style:{"text-align":"center"}},dE={class:"block-footer"},cE=p("Close"),uE={class:"block strong"},pE={class:"block-title"},hE=["innerHTML"];function mE(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-card-header"),I=a("f7-card"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",lE,[i("div",rE,[i("a",{onClick:t[0]||(t[0]=m=>r.showPopup())},[i("div",dE,u(o.navbar),1)])])]),n(b,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:o.navbar},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[cE]),_:1})]),_:1})]),_:1},8,["title"]),(d(!0),h(N,null,Q(o.sections,(m,y)=>(d(),D(I,{key:y},{default:s(()=>[n(v,null,{default:s(()=>[p(u(m.title),1)]),_:2},1024),i("div",uE,[i("div",pE,u(m.subTitle),1),i("div",{innerHTML:m.content},null,8,hE)])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"])],64)}var _E=S(aE,[["render",mE]]);const fE={components:{BlockOne:cy,iButton:CD,IstandRightBtn:kD,IstandUrl:sE,IstandButton:wk,InfoIstand:_E,ImagePicker:Se,AddContactBtn:HD},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010686068"},privateCode:{type:String,default:"1213123"},index:{type:String,default:"0"},isView:{type:Boolean,default:!0},accessType:String},methods:{showToastIcon(){this.toastIcon||(this.toastIcon=w.toast.create({icon:$theme.ios||$theme.aurora?'<i class="f7-icons">star_fill</i>':'<i class="material-icons">star</i>',text:"I'm with icon",position:"center",closeTimeout:2e3})),this.toastIcon.open()},closePopup(){this.enablePopup=!1},clickAction(e){console.log("clickAction",e);let t=e.url,l=e.name,c=e.text;if(l=="zalo"&&!value.includes("zalo")&&(t="https://zalo.me/"+value),l=="email"){this.clickMail(t);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:`${c}`,content:JSON.stringify(e)}),window.open(t)},showEdit(){this.enablePopup=!0},async updateInfo(e){this.data.standInfo=e,await this.updateData()},async updateActions(e){this.data.actions=e,await this.updateData()},async updateData(){if(console.log("updateData",this.status),this.status=="QRID_STATUS.GENERATED")return await this.initData();if(this.status=="NOT_GENERATED")return await this.initData();let e={metadata:this.data};await this.$api.updateISale(this.id,this.privateCode,e)?w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u. "):w.dialog.alert("FAILED")},async initData(){let e={status:"QRID_STATUS.ACTIVE",metadata:this.data};console.log("initData()",this.id,this.privateCode,e);let t=await this.$api.initCard(this.id,this.privateCode,e);t&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng"),this.item=t)},async onFile(e){let t=await this.$utils.onFile(e);t?(this.data.backgroundUrl=t,await this.updateData()):w.dialog.alert("upload file faild")},async loadData(){let e=await this.$api.getIDocument(this.id,this.index,this.privateCode);e&&this.status==e.status,e&&e.metadata&&(this.data=_e(_e({},this.data),e.metadata),console.log("data",this.data),e.metadata.standInfo?this.data.standInfo=e.metadata.standInfo:this.data.standInfo={title:"T\xEAn s\u1EF1 ki\u1EC7n",subTitle:"\u0111\u1ECBa \u0111i\u1EC3m t\u1ED5 ch\u1EE9c",subTitle2:"th\u1EDDi gian di\u1EC5n ra s\u1EF1 ki\u1EC7n"},e.metadata.actions?this.data.actions=e.metadata.actions:(e.metadata.redirectUrl&&e.metadata.redirectUrl,this.data.actions=[{name:"action_1",enable:!0,icon:"phone-fill",url:"",text:"\u0110\u0103ng k\xFD tham gia"},{name:"action_2",enable:!0,icon:"phone-fill",url:"",text:"Chi ti\u1EBFt s\u1EF1 ki\u1EC7n"},{name:"action_3",enable:!0,icon:"phone",url:"",text:"Danh s\xE1ch kh\xE1ch m\u1EDDi"},{name:"action_4",enable:!1,icon:"phone",url:"",text:"click 4"},{name:"action_5",enable:!1,icon:"phone",url:"",text:"click 5"}]),this.data.backgroundUrl||(this.data.backgroundUrl="https://apps.vinaas.com/file/2D0CABmx3"),this.isView&&this.accessType&&this.$api.PersonAction(this.id,this.privateCode,this.accessType,this.index)),e.metadata==null&&(console.log("loadData",e),this.data.standInfo={title:"T\xEAn s\u1EF1 ki\u1EC7n",subTitle:"\u0111\u1ECBa \u0111i\u1EC3m t\u1ED5 ch\u1EE9c",subTitle2:"th\u1EDDi gian di\u1EC5n ra s\u1EF1 ki\u1EC7n"},this.data.actions=[{name:"action_1",enable:!0,icon:"phone-fill",url:"",text:"\u0110\u0103ng k\xFD tham gia"},{name:"action_2",enable:!0,icon:"phone-fill",url:"",text:"Chi ti\u1EBFt s\u1EF1 ki\u1EC7n"},{name:"action_3",enable:!0,icon:"phone",url:"",text:"Danh s\xE1ch kh\xE1ch m\u1EDDi"},{name:"action_4",enable:!1,icon:"phone",url:"",text:"click 4"},{name:"action_5",enable:!1,icon:"phone",url:"",text:"click 5"}],this.data.backgroundUrl="https://apps.vinaas.com/file/2D0CABmx3"),this.refreshIndex++}},data(){return{toastIcon:null,enablePopup:!1,selectIndex:1,refreshIndex:0,status:"",data:{title:"",backgroundUrl:"",standInfo:{imageUrl:"",title:"tieu de",subTitle:"",subTitle2:""},actions:[]}}},async mounted(){await this.loadData()}},gE={class:"page"},vE=p("Th\u1EBB Thi\u1EBFt l\u1EADp"),CE={class:"page-content"},bE={key:0,class:"istand-content-edit"},IE={class:"demo-content"};function yE(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("istand-right-btn"),v=a("add-contact-btn"),I=a("image-picker"),C=a("block-one"),b=a("istand-button"),m=a("info-istand"),y=a("istand-url");return d(),h("div",gE,[l.isView?k("",!0):(d(),D(f,{key:0,sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[vE]),_:1})]),_:1})),l.isView?k("",!0):(d(),D(g,{key:1,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])),n(v,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]),i("div",CE,[i("div",{class:"demo-wrap",style:Oe("--bg-image: url("+o.data.backgroundUrl+")")},[l.isView?k("",!0):(d(),h("div",bE,[n(I,{icon:"",onFile:r.onFile},null,8,["onFile"])])),i("div",IE,[n(C,{Info:o.data.standInfo,refreshIndex:o.refreshIndex,isView:l.isView,onUpdate:r.updateInfo},null,8,["Info","refreshIndex","isView","onUpdate"]),n(b,{Info:o.data.actions,refreshIndex:o.refreshIndex,isView:l.isView,onUpdate:r.updateActions,onClickAction:r.clickAction},null,8,["Info","refreshIndex","isView","onUpdate","onClickAction"]),n(m)])],4),l.isView?k("",!0):(d(),D(y,{key:0,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]))])])}var Ge=S(fE,[["render",yE],["__scopeId","data-v-08f86938"]]);const kE=G({props:{isView:Boolean,id:String,privateCode:String,type:String,limit:{type:Number,default:5}},components:{Activity:Fe},data(){return{isLoading:!1,filter:{skip:0,limit:this.limit,order:"id desc"},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){this.id>0&&(this.isLoading=!0,this.type&&(this.filter.where={type:this.type}),this.data=await this.$api.getCardHistory(this.id,this.privateCode,this.filter),this.isLoading=!1)}},async mounted(){this.loadData()}}),DE={key:0,class:"card"},EE={class:"card-header"},wE=i("i",{class:"f7-icons"},"arrow_2_circlepath",-1),NE=p(" refresh"),AE=[wE,NE],TE={class:"list media-list"},PE=["onClick"],$E={class:"item-media"},UE=["src"],SE={class:"item-inner"},RE={class:"item-header"},xE={class:"item-subtitle"},OE={key:1};function BE(e,t,l,c,o,r){const _=a("activity"),f=a("f7-popup");return d(),h(N,null,[e.data.length>0?(d(),h("div",DE,[i("div",EE,[p(u(e.limit)+" Ho\u1EA1t \u0111\u1ED9ng g\u1EA7n nh\u1EA5t ",1),i("a",{onClick:t[0]||(t[0]=(...g)=>e.loadData&&e.loadData(...g)),style:{"margin-left":"30px"}},AE)]),i("div",TE,[i("ul",null,[(d(!0),h(N,null,Q(e.data,g=>(d(),h("li",{key:g.id},[i("a",{onClick:v=>e.clickViewActivity(g),class:"item-link item-content chevron-center"},[i("div",$E,[i("img",{style:{border:"1px solid #ccc","max-width":"50px"},src:e.$utils.firstImage(g.imageUrls),width:"50"},null,8,UE)]),i("div",SE,[i("div",RE,u(e.$utils.formatDateTime(g.modified)),1),i("div",xE,u(g.title||"kh\xF4ng c\xF3"),1)])],8,PE)]))),128))])])])):(d(),h("div",OE)),n(f,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[1]||(t[1]=g=>e.enablePopup=g),"tablet-fullscreen":!0},{default:s(()=>[n(_,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var Et=S(kE,[["render",BE]]);const HE=G({props:{id:String,type:String},emits:["send"],components:{Camera:Ee,ImageUpload:De,ICardReportHistory:Et},data(){return{isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{title:"",imageUrls:[],sellerName:null,type:"",qrid:0,userComment:0,status:"CREATED",metadata:{enableSender:!1}},action:{name:"ICARD_REPORT",type:"ACTIVITY.ICARD_REPORT",title:"C\u1EADp nh\u1EADt c\xF4ng vi\u1EC7c",desc:"Th\u1EF1c hi\u1EC7n sau khi g\u1EB7p g\u1EE1 kh\xE1ch h\xE0ng hay ho\xE0n th\xE0nh m\u1ED9t c\xF4ng vi\u1EC7c theo k\u1EBF ho\u1EA1ch \u0111\u01B0a ra",recentLimit:5}}},watch:{},computed:{maxImages(){return this.type=="ACTIVITY.ICARD_NOTE"?2:4}},methods:{async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)},uploaded(e){console.log("uploaded",e),this.data.imageUrls.push(e)},close(){this.enablePopup=!1,this.$emit("send","CANCEL")},async postActivity(){this.data.qrid=this.id,this.data.type=this.type||"ACTIVITY.ICARD_REPORT",await this.$api.createRequest(this.data),w.dialog.alert("G\u1EEDi th\xE0nh c\xF4ng, c\u1EA3m \u01A1n b\u1EA1n!"),this.$emit("send","SUCCESS")}}}),QE=p(" Ch\u1EE5p h\xECnh th\u1EF1c t\u1EBF v\xE0 m\xF4 t\u1EA3 "),VE={class:"list",style:{"margin-top":"10px"}},LE=["src"],zE={class:"row"},qE=i("div",{class:"col-20"},null,-1),FE=p("Ch\u1EE5p H\xECnh"),ME=i("div",{class:"col-20"},null,-1),GE=p("Th\xF4ng tin kh\xE1ch h\xE0ng (tu\u1EF3 ch\u1ECDn) "),KE=i("i",{class:"f7-icons"},"xmark_circle",-1),YE=p("Hu\u1EF7"),jE=i("i",{class:"f7-icons"},"checkmark_circle",-1),JE=p("G\u1EEDi");function WE(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("f7-card-header"),v=a("f7-col"),I=a("f7-row"),C=a("f7-icon"),b=a("f7-button"),m=a("f7-text-editor"),y=a("f7-card-content"),E=a("f7-card"),T=a("f7-toggle"),P=a("f7-list-input"),O=a("f7-list"),x=a("f7-block"),B=a("camera"),H=a("f7-popup"),$=a("f7-page");return d(),D($,null,{default:s(()=>[n(f,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[p(u(e.action.title),1)]),_:1})]),_:1}),n(E,null,{default:s(()=>[n(g,{"bg-color":"blue"},{default:s(()=>[QE]),_:1}),n(y,null,{default:s(()=>[i("div",VE,[i("ul",null,[i("li",null,[n(I,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,M=>(d(),D(v,{width:"50",key:M},{default:s(()=>[i("img",{style:{"max-width":"100%",height:"auto"},src:M},null,8,LE)]),_:2},1024))),128))]),_:1})]),i("li",null,[i("div",zE,[qE,n(b,{class:"col-50",large:"",round:"",outline:"",onClick:t[0]||(t[0]=M=>e.showCamera())},{default:s(()=>[n(C,{f7:"camera"}),FE]),_:1}),ME])]),n(m,{placeholder:"m\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h3","h4"],["image"]],style:{"--f7-text-editor-height":"200px"},value:e.data.title,"onTexteditor:change":t[1]||(t[1]=M=>e.data.title=M)},null,8,["value"])])])]),_:1})]),_:1}),e.type=="ACTIVITY.ICARD_REPORT"?(d(),D(E,{key:0},{default:s(()=>[n(g,{"bg-color":"green"},{default:s(()=>[GE,n(T,{checked:e.data.metadata.enableSender,"onUpdate:checked":t[2]||(t[2]=M=>e.data.metadata.enableSender=M)},null,8,["checked"])]),_:1}),n(y,null,{default:s(()=>[A(n(O,{"no-hairlines-md":""},{default:s(()=>[n(P,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.customerName,"onUpdate:value":t[3]||(t[3]=M=>e.data.customerName=M)},null,8,["value"]),n(P,{outline:"",type:"textarea",label:"Ghi ch\xFA","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.customerAddress,"onUpdate:value":t[4]||(t[4]=M=>e.data.customerAddress=M)},null,8,["value"])]),_:1},512),[[F,e.data.metadata.enableSender]])]),_:1})]),_:1})):k("",!0),n(x,null,{default:s(()=>[n(I,null,{default:s(()=>[n(v,{width:"30"},{default:s(()=>[n(b,{raised:"",round:"",large:"",color:"gray",onClick:t[5]||(t[5]=M=>e.close())},{default:s(()=>[KE,YE]),_:1})]),_:1}),n(v,{width:"60"},{default:s(()=>[n(b,{raised:"",round:"",fill:"",large:"",onClick:t[6]||(t[6]=M=>e.postActivity())},{default:s(()=>[jE,JE]),_:1})]),_:1})]),_:1})]),_:1}),n(H,{opened:e.enablePopup,"onUpdate:opened":t[7]||(t[7]=M=>e.enablePopup=M)},{default:s(()=>[n(B,{ref:"camera",maxImages:e.maxImages,onSave:e.saveImageUrls},null,8,["maxImages","onSave"])]),_:1},8,["opened"])]),_:1})}var XE=S(HE,[["render",WE]]);const ZE={props:{title:{type:String,default:"Order"},id:String,privateCode:String,productId:{type:Number,default:1}},data(){return{enablePopup:!1}},methods:{showPopup(){this.enablePopup=!0},closeItem(e){e=="CANCEL"&&console.log("do nothing"),this.enablePopup=!1},order(){let e="https://www.ishowroom.vn/s/100010010880009/i/3/p/401";console.log("order",e),window.open(e)}}},ew={class:"block"},tw=p("Order Detail"),iw=p("Close"),nw={class:"block"},ow=i("div",{class:"block-content"},"iShop \u0111\u01B0\u1EE3c ph\xE2n ph\u1ED1i b\u1EDFi Nh\xE0 cung c\u1EA5p theo khu v\u1EF1c ",-1),sw={class:"block-footer"};function aw(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-page"),C=a("f7-popup");return d(),h(N,null,[i("div",ew,[i("button",{class:"button button-outline button-large button-round",onClick:t[0]||(t[0]=b=>r.showPopup())},u(l.title),1)]),n(C,{opened:o.enablePopup,"onUpdate:opened":t[3]||(t[3]=b=>o.enablePopup=b),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[tw]),_:1}),n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=b=>r.closeItem())},{default:s(()=>[iw]),_:1})]),_:1})]),_:1}),i("div",nw,[ow,i("div",sw,[i("button",{class:"button button-large button-round",onClick:t[2]||(t[2]=b=>r.order())},"\u0110\u1EB7t mua")])])]),_:1})]),_:1},8,["opened"])],64)}var lw=S(ZE,[["render",aw]]);const rw={components:{ICardReport:XE,ICardReportHistory:Et,OrderButton:lw},props:{f7route:Object,f7router:Object,id:{type:String,default:""},privateCode:{type:String,default:""},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},data(){return{enablePopup:!1,enableBuy:!1,type:"ACTIVITY.ICARD_REPORT",enableActions:["ICARD_NOTE","ICARD_REPORT"],freeActions:de.freeActions,actions:de.iCardActions,ishop:{},enableIShop:!1}},computed:{},watch:{id:"loadData"},methods:{enableClick(e){return e.forFree||this.enableIShop},clickAction(e){e.name&&(this.type=e.type,this.showPopup())},showPopup(){this.enablePopup=!0},closePopup(e){e=="CANCEL"&&console.log("do nothing"),this.enablePopup=!1},async loadData(){let e=await this.$api.getIshopAuthentic(this.id,this.privateCode);e&&e.metadata&&e.metadata.ishop&&(this.ishop=e.metadata.ishop,this.ishop.id||this.ishop.name?this.enableIShop=!0:this.enableIShop=!1)}},async mounted(){await this.loadData()}},dw=i("div",{class:"card-header bg-color-green"},"Ghi ch\xFA c\xE1 nh\xE2n",-1),cw=i("div",{class:"block-header"},"Ch\u1EC9 c\xF3 th\u1EC3 xem b\u1EB1ng Th\u1EBB thi\u1EBFt l\u1EADp c\xE1 nh\xE2n ",-1),uw={class:"block-content"},pw=["onClick"],hw=i("div",{class:"block block-footer"}," Gi\u1EDBi h\u1EA1n 2 h\xE0nh \u0111\u1ED9ng m\u1ED7i ng\xE0y ",-1),mw=i("div",{class:"card-header bg-color-blue"},"B\xE1o c\xE1o v\u1EDBi Qu\u1EA3n l\xFD Tr\u1EF1c ti\u1EBFp",-1),_w=i("div",{class:"block block-header"},"Nh\xE2n vi\xEAn c\xF3 th\u1EC3 c\u1EADp nh\u1EADt c\xF4ng vi\u1EC7c b\u1EB1ng h\xECnh \u1EA3nh th\u1EF1c t\u1EBF, ghi ch\xFA n\u1ED9i dung,... v\u1EDBi Qu\u1EA3n l\xFD tr\u1EF1c ti\u1EBFp ",-1),fw=i("div",{class:"block-header"},null,-1),gw={key:0,class:"block-content"},vw=["onClick"],Cw={key:1,class:"block-content"},bw=i("div",{class:"card-header bg-color-blue"},"T\u0103ng gi\xE1 tr\u1ECB s\u1EED d\u1EE5ng iCard",-1),Iw=i("div",{class:"block block-content"},[i("p",null," iCard s\u1EBD tr\u1EDF th\xE0nh Th\u1EBB nh\xE2n vi\xEAn, t\u0103ng hi\u1EC7u qu\u1EA3 cho Ng\u01B0\u1EDDi s\u1EED d\u1EE5ng trong c\xF4ng vi\u1EC7c n\u1EBFu \u0111\u01B0\u1EE3c k\u1EBFt n\u1ED1i, ch\u1EE9c th\u1EF1c v\u1EDBi iShop. "),i("p",null,"Vui l\xF2ng li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c t\u01B0 v\u1EA5n, gi\u1EA3i th\xEDch th\xEAm ")],-1),yw={class:"block block-footer"};function kw(e,t,l,c,o,r){const _=a("f7-card"),f=a("order-button"),g=a("i-card-report-history"),v=a("i-card-report"),I=a("f7-popup");return d(),h(N,null,[n(_,null,{default:s(()=>[dw,(d(!0),h(N,null,Q(o.freeActions,C=>(d(),h("div",{key:C.name,class:"block inset"},[cw,i("div",uw,[i("button",{class:"button button-fill button-large button-round",onClick:b=>r.clickAction(C)},u(C.title),9,pw)])]))),128)),hw]),_:1}),o.enableIShop?(d(),D(_,{key:0},{default:s(()=>[mw,_w,(d(!0),h(N,null,Q(o.actions,C=>(d(),h("div",{key:C.name,class:"block inset"},[fw,r.enableClick(C)?(d(),h("div",gw,[i("button",{class:"button button-fill button-large button-round",onClick:b=>r.clickAction(C)},u(C.title),9,vw)])):(d(),h("div",Cw,[n(f,{title:C.title},null,8,["title"])]))]))),128)),n(g,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])]),_:1})):(d(),D(_,{key:1},{default:s(()=>[bw,Iw,i("div",yw,[n(f,{title:"Li\xEAn h\u1EC7"})])]),_:1})),n(I,{opened:o.enablePopup,"onUpdate:opened":t[1]||(t[1]=C=>o.enablePopup=C),"tablet-fullscreen":!0},{default:s(()=>[n(v,{id:l.id,type:o.type,onSend:t[0]||(t[0]=C=>r.closePopup())},null,8,["id","type"])]),_:1},8,["opened"])],64)}var Dw=S(rw,[["render",kw]]);const Ew={name:"ICARD",components:{Avatar:ge,iCardEdit:qe,iCardOverview:oe,iCardPublic:re},props:{f7route:Object,f7router:Object,accessType:String,id:String,privateCode:String,index:{type:Number,default:-1},isPopup:{type:Boolean,default:!1},isView:{type:Boolean,default:!0}},data(){let e={facebook:"https://",tiktok:"",skype:"https://",linkedIn:"https://",twitter:"https://",momo:"https://",qrcare:"https://"};return{popupOpened:!1,previewOpened:!1,item:{title:"",imageUrls:["https://apps.vinaas.com/file/tgs5EFo1O"],ownerName:"",ownerPhoneNumber:"",supportId:111,status:"GENERATED",metadata:{company:{enable:!1,title:"",address:"",name:"",role:""},introduction:{enable:!1,title:"",content:""}}},vCard:{photo:"",firstName:"",middleName:"",lastName:"",organization:"",title:"",note:"",nickname:"",namePrefix:"",nameSuffix:"",gender:"",workPhone:"",homePhone:"",cellPhone:"",email:"",workEmail:"",socialUrls:e,facebook:"",zalo:"",linkedIn:"",twitter:"",momo:""},socialUrls:e,namecard40:{title:"Danh thi\u1EBFp T\u01B0\u01A1ng t\xE1c 4.0",desc:"Mang s\u1EF1 tr\xE2n tr\u1ECDng v\xE0 chuy\xEAn nghi\u1EC7p, nh\u1EEFng gi\xE1 tr\u1ECB v\u1ED1n c\xF3 c\u1EE7a bi\u1EC3u t\u01B0\u1EE3ng Danh thi\u1EBFp",imageUrl:"",icon:"",features:[{title:"\u0110\u01A1n gi\u1EA3n m\xE0 Chuy\xEAn nghi\u1EC7p"},{title:"Ch\u1EA1m \u0111\u1EC3 k\u1EBFt n\u1ED1i, t\u01B0\u01A1ng t\xE1c"},{title:"D\u1EC5 d\xE0ng chia s\u1EBB qua zalo, facebook,..."}]},vCardFile:"",imageUrls:[],metadata:{vcard:{},payments:{},ecommerce:{}}}},watch:{id:"loadData"},computed:{ishop(){return this.metadata&&this.metadata.ishop?this.metadata.ishop:{enable:!0,id:100010010880001,name:"C\xF4ng ty Ph\u1EA7n M\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam (VinaAS)",content:"305&nbsp; H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, Tp H\u1ED3 Ch\xED Minh<div>M\xE3 s\u1ED1 thu\u1EBF: 0311071162</div>",title:"Gi\xE1m \u0111\u1ED1c",status:"WORKING",authenText:"Ch\u1EE9ng th\u1EF1c"}},background(){if(this.imageUrls)return this.imageUrls[0]||""},address(){if(this.metadata&&this.metadata.vcard)return this.metadata.vcard.address||""},vcardButtons(){let e=[],t=te.props;for(var l in t){let c=t[l].name;c!="address"&&this.metadata.vcard&&this.metadata.vcard[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.vcard[c]})}return e},paymentsButtons(){let e=[],t=te.payments;for(var l in t){let c=t[l].name;this.metadata.payments&&this.metadata.payments[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.payments[c]})}return e},ecommerceButtons(){let e=[],t=te.ecommerce;for(var l in t){let c=t[l].name;this.metadata.ecommerce&&this.metadata.ecommerce[c]&&e.push({name:c,icon:t[l].icon,value:this.metadata.ecommerce[c]})}return e}},methods:{showPreview(){this.previewOpened=!0},closePreview(){this.previewOpened=!1},showItem(){this.popupOpened=!0},async closeItem(){console.log("closeitem"),await this.loadData(),this.popupOpened=!1},async clickAddContact(){this.$api.PersonAction(this.id,this.privateCode,"CONTACT",this.index,{title:"clickAddContact",content:"Them vao danh ba"})},clickCall(e){console.log("clickCall",e),this.$api.PersonAction(this.id,this.privateCode,"CALL",this.index,{title:"clickCall",content:"tel:"+e}),e&&(window.location="tel:"+e)},clickLink(e,t){let l=t;if(e=="zalo"&&!t.includes("zalo")&&(l="https://zalo.me/"+t),e=="whatsapp"&&!t.includes("wa")&&(l="https://wa.me/"+t),e=="email"){this.clickMail(l);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:"click "+e,content:l}),window.open(l)},clickMail(e){console.log("mailto",e),this.$api.PersonAction(this.id,this.privateCode,"EMAIL",this.index,{title:"clickMail",content:"mailto: "+e}),e&&(window.location="mailto:"+e)},async loadData(){let e=await this.$api.getIshopAuthentic(this.id,this.privateCode);e?(console.log("icard-show",e),this.imageUrls=e.imageUrls,e.metadata&&(this.metadata=e.metadata)):(console.log(e),w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t","iCard"))}},async mounted(){await this.loadData()}},ww=p("Th\u1EBB Thi\u1EBFt l\u1EADp"),Nw=p("Close");function Aw(e,t,l,c,o,r){const _=a("i-card-overview"),f=a("f7-card-footer"),g=a("f7-card"),v=a("f7-nav-title"),I=a("f7-link"),C=a("f7-nav-right"),b=a("f7-navbar"),m=a("i-card-edit"),y=a("f7-page"),E=a("f7-popup");return d(),h(N,null,[n(_,{id:l.id,bg:r.background,metadata:o.metadata},null,8,["id","bg","metadata"]),n(g,null,{default:s(()=>[n(f,null,{default:s(()=>[i("button",{class:"button button-large button-round button-fill",onClick:t[0]||(t[0]=T=>r.showItem())},"C\u1EADp nh\u1EADt")]),_:1})]),_:1}),n(E,{id:"edit",opened:o.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[n(y,null,{default:s(()=>[n(b,{sliding:!1},{default:s(()=>[n(v,{sliding:""},{default:s(()=>[ww]),_:1}),l.isPopup?(d(),D(C,{key:0},{default:s(()=>[n(I,{onClick:t[1]||(t[1]=T=>{o.popupOpened=!1})},{default:s(()=>[Nw]),_:1})]),_:1})):k("",!0)]),_:1}),n(m,{id:l.id,privateCode:l.privateCode,isPopup:!0,onCloseItem:r.closeItem},null,8,["id","privateCode","onCloseItem"])]),_:1})]),_:1},8,["opened"])],64)}var Tw=S(Ew,[["render",Aw]]);const Pw=G({name:"VueQr3",props:{qrCodeUrl:{type:String,default:"http://qr-code-styling.com"},width:{type:Number,default:300},height:{type:Number,default:300}},data(){const e={width:320,height:320,type:"svg",data:this.qrCodeUrl,image:"",margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff"},dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"square",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}};return{options:e,extension:"svg",qrCode:new rt(e),logoUrl:"https://apps.vinaas.com/file/tgs5EFo1O"}},async mounted(){this.qrCode.append(this.$refs.svg),await this.convertToImage()},watch:{qrCodeUrl(e){e&&(this.refreshQRCode(),this.qrCode.update(this.options),this.convertToImage())}},methods:{refreshQRCode(){this.options.data=this.qrCodeUrl,this.options.image=this.logoUrl,this.options.width=this.width,this.options.height=this.height},async convertToImage(){var e=this.$refs.svg.firstChild;console.log("mysvg",e),console.log("mysvg2",this.qrCode._svg);var t=this.$refs.imgQrcode,l=document.createElement("canvas"),c=l.getContext("2d"),o=new Image;if(o.width=l.width=this.width,o.height=l.height=this.height,o.onload=function(){c.drawImage(o,0,0,o.width,o.height),t.src=l.toDataURL()},e){var r=new XMLSerializer().serializeToString(e);o.src="data:image/svg+xml,"+encodeURIComponent(r)}}}}),wt=e=>(W("data-v-ca81bb4c"),e=e(),X(),e),$w={class:"block"},Uw={id:"qr-code",ref:"svg",hidden:""},Sw={class:"block-content"},Rw={key:1,class:"button button-large button-outline button-round"},xw={class:"list item-content item-input"},Ow={class:"item-inner"},Bw=wt(()=>i("div",{class:"item-title item-label"},"LogoUrl",-1)),Hw={class:"item-input-wrap"},Qw=wt(()=>i("span",{class:"input-clear-button"},null,-1)),Vw={width:"300",height:"300",ref:"imgQrcode"};function Lw(e,t,l,c,o,r){return d(),h("div",$w,[i("div",Uw,null,512),i("div",Sw,[e.qrCodeUrl?(d(),h("button",{key:0,class:"button button-large button-fill button-round",onClick:t[0]||(t[0]=_=>e.convertToImage())},"Show QRCode Image")):(d(),h("button",Rw,"Show QRCode Image")),i("div",xw,[i("div",Ow,[Bw,i("div",Hw,[A(i("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=_=>e.logoUrl=_)},null,512),[[V,e.logoUrl]]),Qw])])])]),i("img",Vw,null,512)])}var it=S(Pw,[["render",Lw],["__scopeId","data-v-ca81bb4c"]]);const zw={props:{id:String,privateCode:String},components:{UserActions:Qe},data(){return{enablePopup:!1,qrid:"0",code:"0",totalDevices:100,todayDevices:3,datasets:[{label:"today",value:150,color:"#ff0"},{label:"others",value:150,color:"#0f0"},{label:"link Clicks",value:400,color:"#00f"}]}},watch:{id:"loadSumary"},methods:{closePopup(){this.enablePopup=!1},showPopup(){this.qrid=this.id,this.code=this.privateCode,this.enablePopup=!0},async loadSumary(){let e=await this.$api.countUserActions(this.id);console.log(e),e&&(this.totalDevices=e.count)}},mounted(){this.loadSumary()}},qw={class:"card"},Fw=i("div",{class:"card-header bg-color-green"},"Th\u1ED1ng k\xEA T\u01B0\u01A1ng t\xE1c",-1),Mw={class:"row"},Gw=i("div",{class:"col"},null,-1),Kw={class:"col elevation-demo elevation-10"},Yw=i("div",{class:"col"},null,-1),jw=i("div",{class:"block-header"},"Kh\xE1ch h\xE0ng \u0111\xE3 ch\u1EA1m NFC, qu\xE9t qrcode hay click links ",-1),Jw=p("Xem chi ti\u1EBFt"),Ww=p("Close");function Xw(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-row"),g=a("f7-block"),v=a("f7-link"),I=a("f7-nav-right"),C=a("f7-navbar"),b=a("user-actions"),m=a("f7-page"),y=a("f7-popup");return d(),h(N,null,[i("div",qw,[Fw,n(g,{strong:""},{default:s(()=>[i("div",Mw,[Gw,i("div",Kw,u(o.totalDevices),1),Yw]),jw,o.totalDevices>0?(d(),D(f,{key:0},{default:s(()=>[i("button",{class:"button button-large button-round button-fill",onClick:t[0]||(t[0]=E=>r.showPopup())},[n(_,{f7:"waveform"}),Jw])]),_:1})):k("",!0)]),_:1})]),n(y,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=E=>o.enablePopup=E),"tablet-fullscreen":!0},{default:s(()=>[n(m,null,{default:s(()=>[n(C,{title:"L\u1ECBch s\u1EED t\u01B0\u01A1ng t\xE1c"},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{onClick:t[1]||(t[1]=E=>r.closePopup())},{default:s(()=>[Ww]),_:1})]),_:1})]),_:1}),n(b,{qrid:o.qrid,privateCode:o.code},null,8,["qrid","privateCode"])]),_:1})]),_:1},8,["opened"])],64)}var Zw=S(zw,[["render",Xw]]);const eN={components:{iCardEdit:qe,iCardShow:Tw,ICardInternal:Dw,CustomerHistory:Zw,qrcode:it},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010560001"},privateCode:{type:String,default:"42035451"},index:{type:String,default:"0"},isView:{type:Boolean,default:!0},accessType:String},data(){return{popupOpened:!1,isGenerated:!1,isLoading:!0,item:{title:"iCard",cardType:"CARD_TYPE.ICARD",imageUrls:[],supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{}}}},computed:{qrcodeUrl(){return this.id>0&&this.privateCode.length>=4?`https://www.ishowroom.vn/n/${this.id}/p/${this.privateCode.slice(0,2)}`:""}},methods:{showItem(e){this.popupOpened=!0},closeItem(){this.popupOpened=!1},copyNFC(){if(this.id>0&&this.privateCode.length>=4){let e=`https://www.ishowroom.vn/nfc/${this.id}/p/${this.privateCode.slice(0,4)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iCard")}},copyURL(){if(this.id>0&&this.privateCode.length>=4){let e=`https://www.ishowroom.vn/url/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iCard")}},copyQRCODE(){if(this.id>0&&this.privateCode.length>=4){let e=`https://www.ishowroom.vn/n/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iCard")}},async initData(){w.dialog.preloader();let e=await this.$api.initCard(this.id,this.privateCode,this.item);w.dialog.close(),e&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng","iCard"),this.item=e,this.isGenerated=!0)},async loadData(){this.isLoading=!0;const e=await this.$api.existQRID(this.id);e&&e.exists&&(this.isGenerated=!0),this.isLoading=!1}},async mounted(){await this.loadData()}},tN=["no-navbar"],iN=p("iCard-Th\u1EBB Thi\u1EBFt l\u1EADp"),nN={class:"page-content"},oN={key:0},sN={key:1},aN={key:0,class:"block"},lN=i("div",{class:"block-header"},"\u0110i\u1EC1n m\u1ED9t s\u1ED1 th\xF4ng tin \u0111\u1EC3 ghi nh\u1EDB ",-1),rN={class:"list"},dN={class:"item-content item-input"},cN={class:"item-inner"},uN={class:"item-title"},pN={class:"item-content item-input"},hN={class:"item-inner"},mN=i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1",-1),_N={class:"item-input-wrap"},fN=i("span",{class:"input-clear-button"},null,-1),gN={class:"item-content item-input"},vN={class:"item-inner"},CN=i("div",{class:"item-title item-label"},"M\xF4 t\u1EA3 (n\u1EBFu c\xF3) ",-1),bN={class:"item-input-wrap"},IN=i("span",{class:"input-clear-button"},null,-1),yN=p("Click to copy Link for setup or share"),kN=p("NFC"),DN=p("QRCODE"),EN=p("URL");function wN(e,t,l,c,o,r){const _=a("f7-nav-title"),f=a("f7-navbar"),g=a("i-card-show"),v=a("customer-history"),I=a("i-card-internal"),C=a("f7-block-title"),b=a("f7-button"),m=a("f7-col"),y=a("f7-row"),E=a("qrcode"),T=a("f7-block"),P=a("i-card-edit"),O=a("f7-popup");return d(),h(N,null,[i("div",{class:"page","no-navbar":l.isView},[l.isView?k("",!0):(d(),D(f,{key:0,sliding:!1},{default:s(()=>[n(_,{sliding:""},{default:s(()=>[iN]),_:1})]),_:1})),i("div",nN,[o.isGenerated?(d(),h("div",oN,[n(g,{id:l.id,privateCode:l.privateCode,isPopup:!0,onCloseItem:r.closeItem},null,8,["id","privateCode","onCloseItem"]),l.isView?k("",!0):(d(),D(v,{key:0,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])),l.isView?k("",!0):(d(),D(I,{key:1,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]))])):(d(),h("div",sN,[o.isLoading?k("",!0):(d(),h("div",aN,[lN,i("div",rN,[i("ul",null,[i("li",dN,[i("div",cN,[i("div",uN,"Lo\u1EA1i Th\u1EBB: "+u(o.item.cardType),1)])]),i("li",pN,[i("div",hN,[mN,i("div",_N,[A(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=x=>o.item.title=x)},null,512),[[V,o.item.title]]),fN])])]),i("li",gN,[i("div",vN,[CN,i("div",bN,[A(i("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=x=>o.item.description=x)},null,512),[[V,o.item.description]]),IN])])])])]),i("button",{class:"button button-fill button-large",onClick:t[2]||(t[2]=x=>r.initData())},"Kh\u1EDFi t\u1EA1o")]))])),l.isView?k("",!0):(d(),D(T,{key:2},{default:s(()=>[n(C,null,{default:s(()=>[yN]),_:1}),n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(b,{outline:"",round:"",large:"",onClick:t[3]||(t[3]=x=>r.copyNFC())},{default:s(()=>[kN]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(b,{outline:"",round:"",large:"",onClick:t[4]||(t[4]=x=>r.copyQRCODE())},{default:s(()=>[DN]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(b,{outline:"",round:"",large:"",onClick:t[5]||(t[5]=x=>r.copyURL())},{default:s(()=>[EN]),_:1})]),_:1})]),_:1}),n(y),n(E,{qrCodeUrl:r.qrcodeUrl},null,8,["qrCodeUrl"]),n(y,null,{default:s(()=>[p(" iCard ID: "+u(l.id)+", private: "+u(l.privateCode),1)]),_:1})]),_:1}))])],8,tN),n(O,{opened:o.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[o.popupOpened?(d(),D(P,{key:0,id:l.id,privateCode:l.privateCode,isPopup:!0,onCloseItem:r.closeItem},null,8,["id","privateCode","onCloseItem"])):k("",!0)]),_:1},8,["opened"])],64)}var Ke=S(eN,[["render",wN]]);const NN=G({emits:["detect","warning"],props:{cardType:{type:String,default:"ICARD"}},components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),this.warning=!1,this.qrUrl=e;let t=!0;if(this.cardType=="ICARD"&&e.includes("edit-card")){let o=new URL(e).pathname.split("/");if(o[1]=="edit-card"&&o[3]=="p"){let r={status:"VALID",url:e,id:o[2],privateCode:o[4]};console.log(r),this.$emit("detect",r)}else t=!1}else t=!1;if(!t){this.warning="Kh\xF4ng \u0111\xFAng Th\u1EBB thi\u1EBFt l\u1EADp c\u1EE7a iCard";let l={status:"INVALID",url:e};console.log(l),this.$emit("detect",l)}}}}),Nt=e=>(W("data-v-48ee10b6"),e=e(),X(),e),AN=Nt(()=>i("h3",null,"Qu\xE9t qrcode tr\xEAn Th\u1EBB thi\u1EBFt l\u1EADp c\u1EE7a iCard",-1)),TN={class:"reader"},PN={class:"center stream"},$N=Nt(()=>i("div",{style:{color:"red"},class:"frame"},null,-1)),UN={key:0,class:"text-color-red"};function SN(e,t,l,c,o,r){const _=a("qr-stream");return d(),h(N,null,[AN,i("div",TN,[i("div",null,[i("div",PN,[n(_,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[$N]),_:1},8,["onDecode"])])]),i("div",null,u(e.qrUrl),1),e.warning?(d(),h("h4",UN,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):k("",!0)])],64)}var RN=S(NN,[["render",SN],["__scopeId","data-v-48ee10b6"]]);const xN={emits:["addToIshop"],components:{ScanIcard:RN,iCardOverview:oe},props:{iShopId:{type:Number,default:0},iShopPrivateCode:{type:String,default:""},enable:{type:Boolean,default:!1}},data(){return{device:Pe(),iCardUrl:"",verified:!1,verifiedResult:"",message:"",showOverview:!1,metadata:{},background:"",data:{id:"",privateCode:"",enable:"",title:"",name:"",status:"",start:"",authenText:"Ch\u1EE9ng th\u1EF1c cho",roles:[]},vCard:{}}},watch:{},computed:{enableAdd2Ishop(){let e=!0;return e=this.verified,(this.iShopId<=0||!this.iShopPrivateCode)&&(e=!1),(this.data.id<=0||!this.data.privateCode)&&(e=!1),e}},methods:{async detectIcard(e){e&&e.status=="VALID"?(this.iCardUrl=e.url,await this.verifyICard()):this.iCardUrl=""},async verifyICard(){if(!this.parseICardUrl())return;this.verified=!1;let e=await this.$api.getIshopAuthentic(this.data.id,this.data.privateCode);e&&e.metadata?(this.background=this.$utils.firstImage(e.imageUrls),this.metadata=e.metadata,this.showOverview=!0,e.metadata.ishop&&e.metadata.ishop.id?(this.verifiedResult="\u0110\xE3 \u0111\u01B0\u1EE3c x\xE1c th\u1EF1c b\u1EDFi iSHOP kh\xE1c",this.verified=!1):(this.verifiedResult="C\xF3 th\u1EC3 th\xEAm v\xE0o iSHOP",this.verified=!0)):(this.verified=!0,this.verifiedResult="iCard Ch\u01B0a \u0111\u01B0\u1EE3c kh\u1EDFi t\u1EA1o")},parseICardUrl(){let e=!0;if(this.iCardUrl){let l=new URL(this.iCardUrl).pathname;this.iCardUrl.includes("#!")&&(l=this.iCardUrl.split("#!")[1]);let c=l.split("/");c[1]=="edit-card"&&c[3]=="p"?(this.data.id=c[2],this.data.privateCode=c[4],this.message=""):(this.message="iCardUrl kh\xF4ng \u0111\xFAng",e=!1)}return e},async addToIShop(){if(this.enableAdd2Ishop){w.dialog.preloader();let e=await this.$api.addIcard2Ishop(this.iShopId,this.iShopPrivateCode,this.data.id);w.dialog.close(),e&&e.status!="INVALID"?(w.dialog.alert("SUCCESS!","iShop"),this.$emit("addToIshop","SUCCESS")):w.dialog.alert("FAILED","iShop")}}}},ON={class:"block"},BN={class:"list"},HN={key:0,class:"item-content item-input"},QN={class:"item-inner"},VN=i("div",{class:"item-title item-label"},"iCard Url",-1),LN={class:"item-input-wrap"},zN=i("span",{class:"input-clear-button"},null,-1),qN={class:"item-content item-input"},FN={class:"block-title"},MN={class:"row"},GN={class:"col-100"},KN={class:"block-title"},YN={class:"block"};function jN(e,t,l,c,o,r){const _=a("scan-icard"),f=a("i-card-overview");return d(),h(N,null,[i("div",ON,[l.enable?(d(),D(_,{key:0,onDetect:r.detectIcard},null,8,["onDetect"])):k("",!0),i("div",BN,[i("ul",null,[o.device.desktop?(d(),h("li",HN,[i("div",QN,[VN,i("div",LN,[A(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=g=>o.iCardUrl=g)},null,512),[[V,o.iCardUrl]]),zN])])])):k("",!0),i("li",qN,[i("div",FN,"ID: "+u(o.data.id),1)])])]),i("div",MN,[i("div",GN,[i("div",{class:"button button-large button-fill",onClick:t[1]||(t[1]=g=>r.verifyICard())}," K\u1EBFt qu\u1EA3 ")]),i("div",KN,u(o.verifiedResult),1)])]),o.showOverview?(d(),D(f,{key:0,id:o.data.id,bg:o.background,metadata:o.metadata},null,8,["id","bg","metadata"])):k("",!0),i("div",YN,[r.enableAdd2Ishop?(d(),h("button",{key:0,class:"button button-large button-fill",onClick:t[2]||(t[2]=g=>r.addToIShop())},"Add to IShop ")):k("",!0)])],64)}var At=S(xN,[["render",jN]]);const JN={props:{id:{type:String},privateCode:{type:String},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{IShopReportHistory:Ne,iCardOverview:oe,iCardPreview:At,iCard:Ke},data(){return{enablePopup:!1,enableICard:!1,enablePreview:!1,enableEditContact:!1,iCards:[{title:"",fullName:"",status:"",imageUrls:""}],iCard:{id:0},background:"",metadata:{},selected:{id:"",privateCode:""}}},methods:{closePopup(){this.enablePopup=!1},async showPopup(){await this.loadICards(),this.enablePopup=!0},closeICard(){this.enableICard=!1},showPreview(e){e&&(this.selected.id=e.id,this.selected.privateCode=e.privateCode,this.enablePreview=!0)},async getAuthenUrl(){if(this.id>0&&this.privateCode.length>0){let e=1,t=await this.$api.getPrivateCode(this.id,e,this.privateCode);if(t){let l=t.privateCode||"",c="https://www.ishowroom.vn";this.iCard.authenUrl=`${c}/s/${this.id}/i/${e}/p/${l.substring(0,3)}`,this.iCard.id=this.id,this.iCard.index=e,this.iCard.privateCode=l.substring(0,3)}}},async showICard(e){if(e){this.selected.id=e.id,this.selected.privateCode=e.privateCode;let t=await this.$api.getIshopAuthentic(this.selected.id,this.selected.privateCode);if(t.metadata&&t.metadata.ishop){let l=t.metadata.ishop;this.iCard=Object.assign(l,e),l.authenText||(this.iCard.authenText="X\xE1c th\u1EF1c cho"),l.authenUrl||await this.getAuthenUrl(),this.background=this.$utils.firstImage(t.imageUrls),this.metadata=t.metadata,this.metadata.ishop=t.metadata.ishop,this.enableEditContact=!0}}},addIcard(){this.enableICard=!0},async save2ICard(){let e=this.metadata.ishop;e.id=this.id,e.title=this.iCard.title,e.status=this.iCard.status,e.authenText=this.iCard.authenText,e.authenUrl=this.iCard.authenUrl,console.log("save2ICard",e),await this.$api.updateIshopInfoOfICard(this.selected.id,this.selected.privateCode,e)?(await this.loadICards(),w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u.","iShop"),this.enableEditContact=!1):w.dialog.alert("C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i. Vui l\xF2ng th\u1EED l\u1EA1i","iShop")},async remove2ICard(){await this.$api.removeIcard2Ishop(this.id,this.privateCode,this.iCard.id)?(await this.loadICards(),w.dialog.alert("Xo\xE1 th\xE0nh c\xF4ng, c\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u","iShop"),this.enableEditContact=!1):w.dialog.alert("X\xF3a th\u1EA5t b\u1EA1i. Vui l\xF2ng th\u1EED l\u1EA1i.","iShop")},async loadICards(){let e=await this.$api.getIcardsOfIshop(this.id,this.privateCode);e&&(this.iCards=[],(e.iCards||[]).forEach(l=>{let c=this.parseICard(l);this.iCards.push(c)}))},async addToIshop(e){e=="SUCCESS"&&(await this.loadICards(),this.enableICard=!1)},parseICard(e){let t={};if(t.id=e.id,t.privateCode=e.privateCode,t.imageUrls=e.imageUrls,e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t.fullName=l.lastName+" "+l.firstName,t.title=l.title}if(e.metadata&&e.metadata.ishop){let l=e.metadata.ishop;t.title=l.title,t.status=l.status||"ACTIVE"}return t},getName(e){let t=e.id;if(e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t=l.lastName+" "+l.firstName}return t}}},WN=i("i",{class:"f7-icons"}," person_2",-1),XN=p(" Qu\u1EA3n l\xFD Nh\xE2n vi\xEAn"),ZN=[WN,XN],e7=p("Close"),t7={class:"card"},i7={class:"card-header bg-color-green"},n7={class:"list media-list medium-inset"},o7={class:"item-link item-content chevron-center"},s7={class:"item-media"},a7=["src"],l7={class:"item-inner"},r7={class:"item-header"},d7={class:"item-title-row"},c7={style:{"font-size":"16px"}},u7=i("div",{class:"item-after"},null,-1),p7={class:"item-subtitle"},h7={class:"item-text"},m7={class:"row"},_7={class:"col-50"},g7=["onClick"],v7={class:"col-50"},C7=["onClick"],b7={class:"block row"},I7=i("div",{class:"block"},null,-1),y7=p("Close"),k7=p("Close"),D7=p("Close"),E7={class:"block"},w7={class:"list"},N7={class:"item-content item-input"},A7={class:"item-inner"},T7=i("div",{class:"item-title item-label"},"Ch\u1EE9c Danh",-1),P7={class:"item-input-wrap"},$7=i("span",{class:"input-clear-button"},null,-1),U7={class:"item-content item-input"},S7={class:"item-inner"},R7=i("div",{class:"item-title item-label"},"Tr\u1EA1ng th\xE1i L\xE0m vi\u1EC7c",-1),x7={class:"item-input-wrap"},O7=i("span",{class:"input-clear-button"},null,-1),B7={class:"item-content item-input"},H7={class:"item-inner"},Q7=i("div",{class:"item-title item-label"},"Text",-1),V7={class:"item-input-wrap"},L7=i("span",{class:"input-clear-button"},null,-1),z7={class:"item-content item-input"},q7={class:"item-inner"},F7=i("div",{class:"item-title item-label"},"AuthenUrl",-1),M7={class:"item-input-wrap"},G7=i("span",{class:"input-clear-button"},null,-1),K7={class:"row"};function Y7(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("i-shop-report-history"),I=a("f7-page"),C=a("f7-popup"),b=a("i-card-preview"),m=a("i-card"),y=a("i-card-overview");return d(),h(N,null,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=E=>r.showPopup())},ZN),n(C,{opened:o.enablePopup,"onUpdate:opened":t[3]||(t[3]=E=>o.enablePopup=E),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=E=>r.closePopup())},{default:s(()=>[e7]),_:1})]),_:1})]),_:1}),n(v,{id:l.id,privateCode:l.privateCode,isView:l.isView},null,8,["id","privateCode","isView"]),i("div",t7,[i("div",i7,u(o.iCards.length>0?"Danh S\xE1ch iCard Nh\xE2n vi\xEAn":"Ch\u01B0a c\xF3 Nh\xE2n vi\xEAn"),1),i("div",n7,[i("ul",null,[(d(!0),h(N,null,Q(o.iCards,E=>(d(),h("li",{key:E.id},[i("div",o7,[i("div",s7,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(E.imageUrls),width:"80"},null,8,a7)]),i("div",l7,[i("div",r7,u(this.$utils.formatQRID(E.id)),1),i("div",d7,[i("div",c7,u(E.fullName),1),u7]),i("div",p7,u(E.title),1),i("div",h7,u(E.status=="ACTIVE"?"ACTIVE":E.status),1),i("div",m7,[i("div",_7,[i("button",{class:"button button-fill",onClick:T=>r.showICard(E)},"Edit",8,g7)]),i("div",v7,[i("button",{class:"button button-fill",onClick:T=>r.showPreview(E)},"Preview",8,C7)])])])])]))),128))])])]),i("div",b7,[i("button",{onClick:t[2]||(t[2]=E=>r.addIcard()),class:"col-100 button button-large button-fill button-round"},"Th\xEAm Nh\xE2n vi\xEAn v\xE0o iSHOP")]),I7]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.enableICard,"onUpdate:opened":t[5]||(t[5]=E=>o.enableICard=E),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:"Th\xEAm iCard v\xE0o iShop"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[4]||(t[4]=E=>o.enableICard=!1)},{default:s(()=>[y7]),_:1})]),_:1})]),_:1}),n(b,{enable:o.enableICard,iShopId:l.id,iShopPrivateCode:l.privateCode,onAddToIshop:r.addToIshop},null,8,["enable","iShopId","iShopPrivateCode","onAddToIshop"])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.enablePreview,"onUpdate:opened":t[7]||(t[7]=E=>o.enablePreview=E),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[6]||(t[6]=E=>o.enablePreview=!1)},{default:s(()=>[k7]),_:1})]),_:1})]),_:1}),o.selected.id?(d(),D(m,{key:0,isView:!1,id:o.selected.id,privateCode:o.selected.privateCode,accessType:e.PREVIEW},null,8,["id","privateCode","accessType"])):k("",!0)]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.enableEditContact,"onUpdate:opened":t[15]||(t[15]=E=>o.enableEditContact=E),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:"Update Contact Info"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[8]||(t[8]=E=>o.enableEditContact=!1)},{default:s(()=>[D7]),_:1})]),_:1})]),_:1}),n(y,{id:o.iCard.id,bg:o.background,metadata:o.metadata},null,8,["id","bg","metadata"]),i("div",E7,[i("div",w7,[i("ul",null,[i("li",N7,[i("div",A7,[T7,i("div",P7,[A(i("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=E=>o.iCard.title=E)},null,512),[[V,o.iCard.title]]),$7])])]),i("li",U7,[i("div",S7,[R7,i("div",x7,[A(i("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=E=>o.iCard.status=E)},null,512),[[V,o.iCard.status]]),O7])])]),i("li",B7,[i("div",H7,[Q7,i("div",V7,[A(i("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=E=>o.iCard.authenText=E)},null,512),[[V,o.iCard.authenText]]),L7])])]),i("li",z7,[i("div",q7,[F7,i("div",M7,[A(i("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=E=>o.iCard.authenUrl=E)},null,512),[[V,o.iCard.authenUrl]]),G7])])])])]),i("div",K7,[i("button",{class:"col-60 button bg-color-red button-large button-fill",onClick:t[13]||(t[13]=E=>r.remove2ICard())},"Remove it"),i("button",{class:"col-40 button button-large button-fill",onClick:t[14]||(t[14]=E=>r.save2ICard())},"Update ")])])]),_:1})]),_:1},8,["opened"])],64)}var j7=S(JN,[["render",Y7]]);const J7={props:{id:{type:String},privateCode:{type:String},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{IShopReportHistory:Ne,iCardOverview:oe,iCardPublic:Ze,addQrcode:Ce,iCard:re},data(){return{enablePopup:!1,enableICard:!1,enablePreview:!1,enableEditContact:!1,total:0,activeCustomers:0,search_title:"",iCards:[{title:"",fullName:"",address:"",organization:"",status:"",imageUrls:""}],iCard:{id:0},background:"",metadata:{},selected:{id:"",privateCode:""},payments:[],search:{id:"",ownerName:""}}},watch:{},methods:{isActive(e){return e=="QRID_STATUS.ACTIVE"},closePopup(){this.enablePopup=!1},async showPopup(){await this.loadICards(),await this.loadData(),this.enablePopup=!0},closeICard(){this.enableICard=!1},async showPreview(e){if(e){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.enablePreview=!0}},closePreview(){this.enablePreview=!1},async getAuthenUrl(){if(this.id>0&&this.privateCode.length>0){let e=1,t=await this.$api.getPrivateCode(this.id,e,this.privateCode);if(t){let l=t.privateCode||"",c="https://www.ishowroom.vn";this.iCard.authenUrl=`${c}/s/${this.id}/i/${e}/p/${l.substring(0,3)}`,this.iCard.id=this.id,this.iCard.index=e,this.iCard.privateCode=l.substring(0,3)}}},async showICard(e){if(e){this.selected.id=e.id,this.selected.privateCode=e.privateCode;let t=await this.$api.getIshopAuthentic(this.selected.id,this.selected.privateCode);if(t.metadata&&t.metadata.ishop){let l=t.metadata.ishop;this.iCard=Object.assign(l,e),l.authenText||(this.iCard.authenText="X\xE1c th\u1EF1c cho"),l.authenUrl||await this.getAuthenUrl(),this.background=this.$utils.firstImage(t.imageUrls),this.metadata=t.metadata,this.metadata.ishop=t.metadata.ishop,this.enableEditContact=!0}}},async loadICards(){let e={status:"QRID_STATUS.ACTIVE"};this.search.ownerName.length>2&&(e={ownerName:{regexp:this.search.ownerName},status:"QRID_STATUS.ACTIVE"});let t=await this.$api.getICustomers(this.id,e,this.privateCode);t&&(this.iCards=[],t.forEach(c=>{let o=this.parseICard(c);this.iCards.push(o)}))},async addToIshop(e){e=="SUCCESS"&&(await this.loadICards(),this.enableICard=!1)},parseICard(e){let t={};if(t.id=e.id,t.privateCode=e.privateCode,t.imageUrls=e.imageUrls,t.ownerName=e.ownerName,t.ownerPhoneNumber=e.ownerPhoneNumber,t.status=e.status,t.modified=e.modified,e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t["ownerName]"]?t.fullName=t.ownerName:t.fullName=[l.lastName," ",l.firstName].join(""),t.title=l.title,t.address=l.address,t.organization=l.organization}return t},getName(e){let t=e.id;if(e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t=l.lastName+" "+l.firstName}return t},async doPayment(e){if(e.status=="QRID_STATUS.ACTIVE"){let t="C\u1EA3m \u01A1n "+e.ownerName+" r\u1EA5t nhi\u1EC1u",l={ishopId:this.id,ishopIndex:this.index,icardId:e.id,actionType:"PAID",message:t,metadata:{}};await this.$api.createQRCheckin(l)&&w.dialog.alert("Thanh to\xE1n th\xE0nh c\xF4ng"+t,"iShop")}else e.type=="ICARD"?w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. Vui l\xF2ng c\u1EADp nh\u1EADt th\xF4ng tin","iShop"):w.dialog.alert("Thanh to\xE1n th\u1EA5t b\u1EA1i ","iShop")},async loadData(){let e=await this.$api.countICustomers(this.id,"QRID_STATUS.ACTIVE");this.activeCustomers=e||0},async listPayments(){let e=await this.$api.checkListPayments(this.id,"");e&&(this.payments=e.map(t=>t.icardId))},async searchName(){if(this.search_title){let e=await this.$api.searchiCard(this.id,this.search_title,"QRID_STATUS.ACTIVE");console.log("searchName",e),e&&(this.enablePopup=!0)}}},async mounted(){let e=await this.$api.countICustomers(this.id);this.total=e||0}},W7={class:"row"},X7={class:"col-100"},Z7=p("Close"),eA={class:"card"},tA={class:"card-header"},iA=i("i",{class:"f7-icons"},"arrow_2_circlepath",-1),nA=p("Search"),oA=[iA,nA],sA={class:"block"},aA={class:"list item-content item-input"},lA={class:"item-inner"},rA=i("div",{class:"item-title item-label"},"T\xEAn",-1),dA={class:"item-input-wrap"},cA=i("span",{class:"input-clear-button"},null,-1),uA={class:"card"},pA={class:"card-header bg-color-green"},hA={class:"list media-list medium-inset"},mA={class:"item-content chevron-center"},_A={class:"item-media"},fA=["src"],gA={class:"item-inner"},vA={class:"item-header"},CA={class:"item-title-row"},bA={style:{"font-size":"16px"}},IA={class:"item-after"},yA={class:"item-subtitle"},kA={class:"item-subtitle"},DA={class:"item-subtitle"},EA={key:0,class:"row"},wA=i("div",{class:"col-60"},null,-1),NA={class:"col-40"},AA=["onClick"],TA={key:1,class:"row"},PA=i("div",{class:"item-text"},"Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u",-1),$A=[PA],UA=p("Close");function SA(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup"),C=a("add-qrcode"),b=a("i-card-public");return d(),h(N,null,[i("div",W7,[A(i("div",X7,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())}," Kh\xE1ch m\u1EDDi \u0111\xE3 khai b\xE1o ")],512),[[F,o.total]])]),n(I,{opened:o.enablePopup,"onUpdate:opened":t[4]||(t[4]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[Z7]),_:1})]),_:1})]),_:1}),i("div",eA,[i("div",tA,[p(u(o.activeCustomers)+" kh\xE1ch h\xE0ng / t\u1ED5ng "+u(o.total)+" th\u1EBB ",1),i("a",{onClick:t[2]||(t[2]=(...m)=>r.loadICards&&r.loadICards(...m)),class:"button button-round button-fill",style:{"margin-left":"30px"}},oA)]),i("div",sA,[i("div",aA,[i("div",lA,[rA,i("div",dA,[A(i("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=m=>o.search.ownerName=m)},null,512),[[V,o.search.ownerName]]),cA])])])])]),i("div",uA,[i("div",pA,u(o.iCards.length>0?"Danh S\xE1ch Kh\xE1ch h\xE0ng":"Ch\u01B0a c\xF3"),1),i("div",hA,[i("ul",null,[(d(!0),h(N,null,Q(o.iCards,m=>(d(),h("li",{key:m.id},[i("div",mA,[i("div",_A,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(m.imageUrls),width:"80"},null,8,fA)]),i("div",gA,[i("div",vA,u(this.$utils.formatQRID(m.id)),1),i("div",CA,[i("div",bA,u(m.fullName),1),i("div",IA,u(e.$utils.formatDistanceToNow(m.modified)),1)]),i("div",yA,u(m.title),1),i("div",kA,u(m.organization),1),i("div",DA,u(m.ownerPhoneNumber),1),r.isActive(m.status)?(d(),h("div",EA,[wA,i("div",NA,[i("button",{class:"button button-fill",onClick:y=>r.showPreview(m)}," Chi ti\u1EBFt ",8,AA)])])):(d(),h("div",TA,$A))])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.enableICard,"onUpdate:opened":t[6]||(t[6]=m=>o.enableICard=m),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:"Th\xEAm iCard v\xE0o iShop"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[5]||(t[5]=m=>o.enableICard=!1)},{default:s(()=>[UA]),_:1})]),_:1})]),_:1}),n(C,{enable:o.enableICard,iShopId:l.id,iShopPrivateCode:l.privateCode,onAddToIshop:r.addToIshop},null,8,["enable","iShopId","iShopPrivateCode","onAddToIshop"])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.enablePreview,"onUpdate:opened":t[7]||(t[7]=m=>o.enablePreview=m),"tablet-fullscreen":!0},{default:s(()=>[n(b,{info:o.selected,onClose:r.closePreview},null,8,["info","onClose"])]),_:1},8,["opened"])],64)}var RA=S(J7,[["render",SA]]);const xA={props:{id:{type:String},privateCode:{type:String},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{IShopReportHistory:Ne,IShopCheckin:Me,IShopCheckinUpdate:tt,iCardOverview:oe,iCardPublic:Ze,addQrcode:Ce,iCard:re},data(){return{enablePopup:!1,enableICard:!1,enableCheckin:!1,updateCheckin:!1,enablePreview:!1,enableEditContact:!1,total:0,activeCustomers:0,listCheckins:[],iCard:{id:0},metadata:{},item:{title:"iCard",cardType:"CARD_TYPE.ICARD",ownerName:"",ownerPhoneNumber:"",imageUrls:[],supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{}},selected:{id:"",privateCode:""},payments:[]}},computed:{background(){if(this.item.imageUrls)return this.item.imageUrls[0]||"https://apps.vinaas.com/file/tgs5EFo1O"}},methods:{isActive(e){return e=="QRID_STATUS.ACTIVE"},closePopup(){this.enablePopup=!1},async showPopup(){await this.loadICards(),await this.loadData(),this.enablePopup=!0},async showCheckin(){this.enableCheckin=!0},closeCheckin(){this.enableCheckin=!1},async showPreview(e){if(e){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.enablePreview=!0}},async showPaymentUpdate(e){if(e&&e.id){let t=await this.$api.getQRID(e.id,"");this.selected=Object.assign(e,t),this.updateCheckin=!0}},async closeUpdate(e){e=="SUCCESS"&&await this.loadPayments(),this.updateCheckin=!1},closePreview(){this.enablePreview=!1},async showICard(e){},async loadICards(){let e=await this.$api.getCheckinList(this.id);if(e){this.listCheckins=[];let t=e.map(l=>l.id);this.payments=await this.$api.getPayemtList(t),e.forEach(l=>{let c=this.parseICard(l),o=this.payments.find(r=>r.activityId==c.checkinId);c.payment=o,this.listCheckins.push(c)})}},async loadPayments(){let e=this.listCheckins.map(t=>t.checkinId);this.payments=await this.$api.getPayemtList(e)},enablePaymentUpdate(e){return!(e&&e.checkinId&&this.payments&&this.payments.find(l=>l.activityId==e.checkinId))},async addToIshop(e){e=="SUCCESS"&&(await this.loadICards(),this.enableICard=!1)},parseICard(e){let t={};return t.checkinId=e.id,t.id=e.icardId,t.imageUrls=[],t.message=e.message,t.created=e.created,t},getName(e){let t=e.id;if(e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t=l.lastName+" "+l.firstName}return t},async loadData(){let e=await this.$api.countICustomers(this.id,"QRID_STATUS.ACTIVE");this.activeCustomers=e||0}},async mounted(){let e=await this.$api.countICustomers(this.id);this.total=e||0}},OA={class:"row"},BA={class:"col-50"},HA={class:"col-50"},QA=p("Close"),VA={class:"card"},LA={class:"card-header bg-color-green"},zA={class:"list media-list medium-inset"},qA=i("li",{class:"item-content card-footer"},"Sau khi checkin, c\xF3 th\u1EC3 c\u1EADp nh\u1EADt th\xF4ng tin v\u1EC1 kh\xE1ch h\xE0ng, ho\xE1 \u0111\u01A1n thanh to\xE1n, ...",-1),FA={class:"item-content chevron-center"},MA={class:"item-inner"},GA={class:"item-header"},KA=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),YA={class:"item-subtitle"},jA={class:"item-text"},JA={class:"row"},WA={class:"col-50"},XA=["onClick"],ZA={key:0,class:"col-50"},eT=["onClick"],tT={key:1,class:"col-50"},iT=["onClick"];function nT(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup"),C=a("i-shop-checkin"),b=a("i-card-public"),m=a("i-shop-checkin-update");return d(),h(N,null,[i("div",OA,[i("div",BA,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=y=>r.showPopup())}," Danh s\xE1ch ")]),i("div",HA,[i("button",{class:"button button-large button-fill button-round",onClick:t[1]||(t[1]=y=>r.showCheckin())},"Check-in")])]),n(I,{opened:o.enablePopup,"onUpdate:opened":t[3]||(t[3]=y=>o.enablePopup=y),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=y=>r.closePopup())},{default:s(()=>[QA]),_:1})]),_:1})]),_:1}),i("div",VA,[i("div",LA,u(o.listCheckins.length>0?"Danh s\xE1ch \u0111\xE3 Checkin v\xE0 c\u1EADp nh\u1EADt":"Ch\u01B0a c\xF3"),1),i("div",zA,[i("ul",null,[qA,(d(!0),h(N,null,Q(o.listCheckins,y=>(d(),h("li",{key:y.id},[i("div",FA,[i("div",MA,[i("div",GA,u(this.$utils.formatQRID(y.id))+"- "+u(y.checkinId),1),KA,i("div",YA,u(y.message),1),i("div",jA,u(e.$utils.formatDistanceToNow(y.created)),1),i("div",JA,[i("div",WA,[i("button",{class:"button bg-color-green button-fill button-round",onClick:E=>r.showPreview(y)},"Kh\xE1ch h\xE0ng",8,XA)]),y.payment?(d(),h("div",ZA,[i("button",{class:"button button-fill bg-color-green button-round",onClick:E=>r.showPaymentUpdate(y)},"Xem l\u1EA1i",8,eT)])):(d(),h("div",tT,[i("button",{class:"button button-fill button-round",onClick:E=>r.showPaymentUpdate(y)},"C\u1EADp nh\u1EADt",8,iT)]))])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(I,{opened:o.enableCheckin,"onUpdate:opened":t[5]||(t[5]=y=>o.enableCheckin=y),"tablet-fullscreen":!0},{default:s(()=>[n(C,{id:l.id,status:o.enableCheckin,privateCode:l.privateCode,onClose:t[4]||(t[4]=y=>r.closeCheckin())},null,8,["id","status","privateCode"])]),_:1},8,["opened"]),n(I,{opened:o.enablePreview,"onUpdate:opened":t[6]||(t[6]=y=>o.enablePreview=y),"tablet-fullscreen":!0},{default:s(()=>[n(b,{info:o.selected,onClose:r.closePreview},null,8,["info","onClose"])]),_:1},8,["opened"]),n(I,{opened:o.updateCheckin,"tablet-fullscreen":!0},{default:s(()=>[n(m,{id:l.id,icard:o.selected,icardId:o.selected.id,onSend:r.closeUpdate},null,8,["id","icard","icardId","onSend"])]),_:1},8,["opened"])],64)}var oT=S(xA,[["render",nT]]);const sT={emits:["send","close"],components:{ScanQrcode:et,iBlockContent:ce,iCardInfo:we},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},index:{type:Number,default:0},status:String,info:Object},data(){return{popupListCheckins:!1,thankyouPopup:!1,popupCheckin:!1,popupIshopPreview:!1,icard:{id:"",info:{}},ishopHeader:{},data:{},enableDoPayment:!1,listCheckins:[{ishopId:0,ishopIndex:0,icardId:0,actionType:"CHECKIN",message:"string",metadata:{},created:""}],lastCheckins:[]}},methods:{async checkPayment(e){if(e.type=="ICARD"&&e.status=="QRID_STATUS.ACTIVE"){console.log("checkPayment",e),this.icard=e;let t=await this.$api.checkPaymentOfIcard(e.id,this.id,this.privateCode);t&&t.length>0?(console.log("paid",e),w.dialog.alert("C\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 thanh to\xE1n. Xin m\u1EDDi v\xE0o","iShop"),this.enableDoPayment=!1):(w.dialog.alert("Qu\xFD kh\xE1ch ch\u01B0a thanh to\xE1n. Vui l\xF2ng li\xEAn h\u1EC7 v\u1EDBi Ban t\u1ED5 ch\u1EE9c","iShop"),this.enableDoPayment=!0)}else e.type=="ICARD"?w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. Vui l\xF2ng c\u1EADp nh\u1EADt th\xF4ng tin","iShop"):w.dialog.alert("Thanh to\xE1n th\u1EA5t b\u1EA1i ","iShop")},async doPayment(){let e=this.icard;if(e.type=="ICARD"&&e.status=="QRID_STATUS.ACTIVE"){console.log("donePayment",e);let t="https://apps.vinaas.com/file/tgs5EFo1O";if(e.imageUrls&&e.imageUrls.length>0&&(t=e.imageUrls[0]),e.metadata){this.icard.info={background:t,ishop:e.metadata.ishop||{},vcard:e.metadata.vcard||{}};let l=e.ownerName+" \u0111\xE3 thanh to\xE1n",c={ishopId:this.id,ishopIndex:this.index,icardId:this.icard.id,actionType:"PAID",message:l,metadata:{}};await this.$api.createQRCheckin(c)&&w.dialog.alert("Thanh to\xE1n th\xE0nh c\xF4ng","iShop")}}else e.type=="ICARD"?w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. Vui l\xF2ng c\u1EADp nh\u1EADt th\xF4ng tin","iShop"):w.dialog.alert("Thanh to\xE1n th\u1EA5t b\u1EA1i ","iShop")},clickCheckin(){this.popupCheckin=!0},closeCheckin(){this.popupCheckin=!1,this.$emit("close")},closeIshopPreview(){this.popupIshopPreview=!1},async showListCheckin(){await this.getListCheckins(),this.popupListCheckins=!0},closeListCheckin(){this.popupListCheckins=!1},async showICardDetail(e){this.popupIshopPreview=!0},async showListPayments(){let e=await this.$api.checkListPayments(this.id,"");e&&(this.iCards=[],e.forEach(l=>{let c=this.parseICard(l);this.lastCheckins.push(c)}))},parseICard(e){let t={};if(t.id=e.id,t.privateCode=e.privateCode,t.imageUrls=e.imageUrls,t.ownerName=e.ownerName,t.ownerPhoneNumber=e.ownerPhoneNumber,t.status=e.status,t.modified=e.modified,e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t["ownerName]"]?t.fullName=t.ownerName:t.fullName=[l.lastName," ",l.firstName].join(""),t.title=l.title,t.address=l.address,t.organization=l.organization}return t}},activated(){this.popupCheckin=!0}},aT=p("Close"),lT={key:0,class:"list media-list medium-inset"},rT={class:"item-content chevron-center"},dT={class:"item-media"},cT=["src"],uT={class:"item-inner"},pT={class:"item-header"},hT={class:"item-title-row"},mT={style:{"font-size":"16px"}},_T={class:"item-after"},fT={class:"item-subtitle"},gT={class:"item-subtitle"},vT={class:"card-footer row"},CT={key:0,class:"col-50"},bT={class:"row"},IT={class:"col-100"},yT={class:"card"},kT={class:"list media-list medium-inset"},DT={class:"item-content chevron-center"},ET={class:"item-media"},wT=["src"],NT={class:"item-inner"},AT={class:"item-header"},TT={class:"item-title-row"},PT={style:{"font-size":"16px"}},$T={class:"item-after"},UT={class:"item-subtitle"},ST={class:"item-subtitle"},RT={class:"item-subtitle"},xT=p("Close");function OT(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("scan-qrcode"),I=a("f7-page"),C=a("f7-popup");return d(),h(N,null,[n(I,null,{default:s(()=>[n(g,{title:"Qu\xE9t qrcode \u0111\u1EC3 ki\u1EC3m tra"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=b=>r.closeCheckin())},{default:s(()=>[aT]),_:1})]),_:1})]),_:1}),n(v,{enable:l.status,onDone:r.checkPayment},null,8,["enable","onDone"]),o.icard.id?(d(),h("div",lT,[i("ul",null,[i("li",null,[i("div",rT,[i("div",dT,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(o.icard.imageUrls),width:"80"},null,8,cT)]),i("div",uT,[i("div",pT,u(this.$utils.formatQRID(o.icard.id)),1),i("div",hT,[i("div",mT,u(o.icard.ownerName),1),i("div",_T,u(e.$utils.formatDistanceToNow(o.icard.modified)),1)]),i("div",fT,u(o.icard.title),1),i("div",gT,u(o.icard.organization),1),i("div",vT,[o.enableDoPayment?(d(),h("div",CT,[i("button",{class:"button button-fill",onClick:t[1]||(t[1]=b=>r.doPayment(o.icard))}," \u0110\xF3ng Ph\xED")])):k("",!0)])])])])])])):k("",!0),i("div",bT,[i("div",IT,[i("button",{class:"button button-fill",onClick:t[2]||(t[2]=b=>r.showListPayments())},"Danh s\xE1ch \u0111\xF3ng ph\xED")])]),i("div",yT,[i("div",kT,[i("ul",null,[(d(!0),h(N,null,Q(o.lastCheckins,b=>(d(),h("li",{key:b.id},[i("div",DT,[i("div",ET,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage(b.imageUrls),width:"80"},null,8,wT)]),i("div",NT,[i("div",AT,u(this.$utils.formatQRID(b.id)),1),i("div",TT,[i("div",PT,u(b.fullName),1),i("div",$T,u(e.$utils.formatDistanceToNow(b.modified)),1)]),i("div",UT,u(b.title),1),i("div",ST,u(b.organization),1),i("div",RT,u(b.ownerPhoneNumber),1)])])]))),128))])])])]),_:1}),n(C,{opened:o.thankyouPopup,"onUpdate:opened":t[4]||(t[4]=b=>o.thankyouPopup=b),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[3]||(t[3]=b=>r.closeListCheckin())},{default:s(()=>[xT]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])],64)}var BT=S(sT,[["render",OT]]);const HT={emits:["send","close"],components:{ScanQrcode:et,iBlockContent:ce,iCardInfo:we},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},index:{type:Number,default:0},status:String,info:Object},data(){return{popupListCheckins:!1,popupCheckin:!1,popupIshopPreview:!1,icard:{id:"",info:{}},ishopHeader:{},data:{},listCheckins:[{ishopId:0,ishopIndex:0,icardId:0,actionType:"CHECKIN",message:"string",metadata:{},created:""}],lastCheckins:[]}},methods:{async donePayment(e){if(this.data=e,e.type=="ICARD"&&e.status=="QRID_STATUS.ACTIVE"){console.log("donePayment",e),this.icard=e;let t="https://apps.vinaas.com/file/tgs5EFo1O";if(e.imageUrls&&e.imageUrls.length>0&&(t=e.imageUrls[0]),e.metadata){this.icard.info={background:t,ishop:e.metadata.ishop||{},vcard:e.metadata.vcard||{}};let l=this.data.ownerName+" \u0111\xE3 thanh to\xE1n",c={ishopId:this.id,ishopIndex:this.index,icardId:this.icard.id,actionType:"PAID",message:l,metadata:{}};this.lastCheckins.unshift(this.icard),await this.$api.createQRCheckin(c)&&w.dialog.alert("Thanh to\xE1n th\xE0nh c\xF4ng","iShop")}}else e.type=="ICARD"?w.dialog.alert("Th\u1EBB ch\u01B0a \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. Vui l\xF2ng c\u1EADp nh\u1EADt th\xF4ng tin","iShop"):w.dialog.alert("Thanh to\xE1n th\u1EA5t b\u1EA1i ","iShop")},clickCheckin(){this.popupCheckin=!0},closeCheckin(){this.popupCheckin=!1,this.$emit("close")},closeIshopPreview(){this.popupIshopPreview=!1},closeListCheckin(){this.popupListCheckins=!1},async showICardDetail(e){this.popupIshopPreview=!0}},activated(){this.popupCheckin=!0}},QT=p("Close"),VT={key:0,class:"card"},LT={class:"card-header bg-color-green"},zT={class:"list media-list medium-inset"},qT={class:"item-content chevron-center"},FT={class:"item-media"},MT=["src"],GT={class:"item-inner"},KT={class:"item-header"},YT=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),jT={class:"item-subtitle"},JT={class:"item-text"},WT={class:"row"},XT={class:"col-50"},ZT=["onClick"],eP=p("Close"),tP={class:"page-content"},iP={class:"card"},nP={class:"card-header bg-color-green"},oP={class:"list media-list medium-inset"},sP={class:"item-content chevron-center"},aP={class:"item-media"},lP=["src"],rP={class:"item-inner"},dP={class:"item-header"},cP=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),uP={class:"item-subtitle"},pP={class:"item-text"},hP={class:"row"},mP={class:"col-50"},_P=["onClick"],fP=p("Close"),gP={class:"page-content"},vP=i("div",{class:"card card-header"},"Ng\u01B0\u1EDDi \u0111\xE3 check-in",-1);function CP(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("scan-qrcode"),I=a("f7-page"),C=a("f7-popup"),b=a("i-card-info");return d(),h(N,null,[n(I,null,{default:s(()=>[n(g,{title:"\u0110\xF3ng ph\xED cho"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[0]||(t[0]=m=>r.closeCheckin())},{default:s(()=>[QT]),_:1})]),_:1})]),_:1}),n(v,{enable:l.status,onDone:r.donePayment},null,8,["enable","onDone"]),o.lastCheckins.length?(d(),h("div",VT,[i("div",LT,u(o.lastCheckins.length>0?"Ki\u1EC3m tra g\u1EA7n nh\u1EA5t":"Ch\u01B0a c\xF3"),1),i("div",zT,[i("ul",null,[(d(!0),h(N,null,Q(o.lastCheckins,m=>(d(),h("li",{key:m.ishopId},[i("div",qT,[i("div",FT,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,MT)]),i("div",GT,[i("div",KT,u(this.$utils.formatQRID(m.id)),1),YT,i("div",jT,u(m.ownerName),1),i("div",JT,u(e.$utils.formatDistanceToNow(m.created)),1),i("div",WT,[i("div",XT,[i("button",{class:"button button-fill",onClick:y=>r.showICardDetail(m)},"Chi ti\u1EBFt",8,ZT)])])])])]))),128))])])])):k("",!0)]),_:1}),n(C,{opened:o.popupListCheckins,"onUpdate:opened":t[2]||(t[2]=m=>o.popupListCheckins=m),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closeListCheckin())},{default:s(()=>[eP]),_:1})]),_:1})]),_:1}),i("div",tP,[i("div",iP,[i("div",nP,u(o.listCheckins.length>0?"Danh S\xE1ch \u0111\xE3 ki\u1EC3m tra":"Ch\u01B0a c\xF3"),1),i("div",oP,[i("ul",null,[(d(!0),h(N,null,Q(o.listCheckins,m=>(d(),h("li",{key:m.ishopId},[i("div",sP,[i("div",aP,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,lP)]),i("div",rP,[i("div",dP,u(this.$utils.formatQRID(m.ishopId)),1),cP,i("div",uP,u(m.message),1),i("div",pP,u(e.$utils.formatDateTime(m.created)),1),i("div",hP,[i("div",mP,[i("button",{class:"button button-fill",onClick:y=>r.showICardDetail(m)},"Chi ti\u1EBFt",8,_P)])])])])]))),128))])])])])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.popupIshopPreview,"tablet-fullscreen":!0},{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[3]||(t[3]=m=>r.closeIshopPreview())},{default:s(()=>[fP]),_:1})]),_:1})]),_:1}),n(I,null,{default:s(()=>[i("div",gP,[vP,n(b,{id:o.icard.id,info:o.icard.info},null,8,["id","info"])])]),_:1})]),_:1},8,["opened"])],64)}var bP=S(HT,[["render",CP]]);const IP={props:{id:{type:String},privateCode:{type:String},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{IShopReportHistory:Ne,iCardOverview:oe,addQrcode:Ce,iCard:re,CheckPayments:BT,DoPayment:bP},data(){return{checkPayment:!1,enableICard:!1,enablePreview:!1,enableEditContact:!1,total:0,activeCustomers:0,iCards:[{id:0,title:"",fullName:"",status:"",imageUrls:""}],iCard:{id:0},metadata:{},item:{title:"iCard",cardType:"CARD_TYPE.ICARD",ownerName:"",ownerPhoneNumber:"",imageUrls:[],supportId:111,ownerOrganizationId:0,status:"NOT_GENERATED",metadata:{}},selected:{id:"",privateCode:""}}},computed:{background(){if(this.item.imageUrls)return this.item.imageUrls[0]||"https://apps.vinaas.com/file/tgs5EFo1O"}},methods:{isActive(e){return e=="QRID_STATUS.ACTIVE"},closePopup(){this.checkPayment=!1},async showPopup(){await this.loadICards(),await this.loadData(),this.checkPayment=!0},closeICard(){this.enableICard=!1},async showPreview(e){if(e){this.selected.id=e.id;let t=await this.$api.getQRID(e.id,"");this.selected.privateCode=t.private,this.enablePreview=!0}},closePreview(){this.enablePreview=!1},async getAuthenUrl(){if(this.id>0&&this.privateCode.length>0){let e=1,t=await this.$api.getPrivateCode(this.id,e,this.privateCode);if(t){let l=t.privateCode||"",c="https://www.ishowroom.vn";this.iCard.authenUrl=`${c}/s/${this.id}/i/${e}/p/${l.substring(0,3)}`,this.iCard.id=this.id,this.iCard.index=e,this.iCard.privateCode=l.substring(0,3)}}},async showICard(e){},async loadICards(){let e=await this.$api.getCheckinList(this.id);e&&(this.iCards=[],e.forEach(l=>{let c=this.parseICard(l);this.iCards.push(c)}))},async addToIshop(e){e=="SUCCESS"&&(await this.loadICards(),this.enableICard=!1)},parseICard(e){let t={};return t.id=e.icardId,t.imageUrls=[],t.message=e.message,t.created=e.created,console.log("parseICard",e,t),t},getName(e){let t=e.id;if(e.metadata&&e.metadata.vcard){let l=e.metadata.vcard;t=l.lastName+" "+l.firstName}return t},async loadData(){let e=await this.$api.countICustomers(this.id,"QRID_STATUS.ACTIVE");this.activeCustomers=e||0}},async mounted(){let e=await this.$api.countICustomers(this.id);this.total=e||0}},yP={class:"row"},kP={class:"col-100"},DP=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}}," \u0111\u1EC3 tham gia Gala Dinner ",-1),EP=p("Close");function wP(e,t,l,c,o,r){const _=a("check-payments"),f=a("f7-popup"),g=a("f7-link"),v=a("f7-nav-right"),I=a("f7-navbar"),C=a("add-qrcode"),b=a("f7-page"),m=a("i-card");return d(),h(N,null,[i("div",yP,[i("div",kP,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=y=>r.showPopup())}," Ki\u1EC3m tra \u0110\xF3ng Ph\xED "),DP])]),n(f,{opened:o.checkPayment,"onUpdate:opened":t[2]||(t[2]=y=>o.checkPayment=y),"tablet-fullscreen":!0},{default:s(()=>[n(_,{id:l.id,status:o.checkPayment,privateCode:l.privateCode,onClose:t[1]||(t[1]=y=>r.closePopup())},null,8,["id","status","privateCode"])]),_:1},8,["opened"]),n(f,{opened:o.enableICard,"onUpdate:opened":t[4]||(t[4]=y=>o.enableICard=y),"tablet-fullscreen":!0},{default:s(()=>[n(b,null,{default:s(()=>[n(I,{title:"Th\xEAm iCard v\xE0o iShop"},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{onClick:t[3]||(t[3]=y=>o.enableICard=!1)},{default:s(()=>[EP]),_:1})]),_:1})]),_:1}),n(C,{enable:o.enableICard,iShopId:l.id,iShopPrivateCode:l.privateCode,onAddToIshop:r.addToIshop},null,8,["enable","iShopId","iShopPrivateCode","onAddToIshop"])]),_:1})]),_:1},8,["opened"]),n(f,{opened:o.enablePreview,"onUpdate:opened":t[5]||(t[5]=y=>o.enablePreview=y),"tablet-fullscreen":!0},{default:s(()=>[n(b,null,{default:s(()=>[o.selected.id?(d(),D(m,{key:0,isPreview:!0,id:o.selected.id,privateCode:o.selected.privateCode,onClosePreview:r.closePreview},null,8,["id","privateCode","onClosePreview"])):k("",!0)]),_:1})]),_:1},8,["opened"])],64)}var NP=S(IP,[["render",wP]]);const AP={props:{id:{type:String},privateCode:{type:String},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{IShopReportHistory:Ne,iCardOverview:oe,iCardPreview:At,iCard:Ke},data(){return{enablePopup:!1,enableICard:!1,enablePreview:!1,enableEditContact:!1,iVouchers:[{qrUrl:"",qrid:"",name:"",status:"CREATED",info:{phoneNumber:""},history:[],created:"",modified:""}]}},methods:{statusText(e){if(e=="CREATED")return"\u0110\xE3 \u0111\u0103ng k\xFD";if(e=="USED")return"\u0110\xE3 s\u1EED d\u1EE5ng";if(e=="EXPIRED")return"\u0110\xE3 h\u1EBFt h\u1EA1n"},closePopup(){this.enablePopup=!1},async showPopup(){await this.loadIvouchers(),this.enablePopup=!0},async loadIvouchers(){let e=await this.$api.getIvouchers(this.id);e&&(console.log("voucher",e),this.iVouchers=e)}}},TP=i("i",{class:"f7-icons"}," person_2",-1),PP=p("Danh s\xE1ch iVoucher"),$P=[TP,PP],UP=p("Close"),SP={class:"card"},RP=i("div",{class:"card-header bg-color-green"}," Danh S\xE1ch iVouchers",-1),xP={class:"list media-list medium-inset"},OP={class:"item-link item-content chevron-center"},BP={class:"item-inner"},HP={class:"item-header"},QP={class:"item-title-row"},VP={style:{"font-size":"16px"}},LP=i("div",{class:"item-after"},null,-1),zP={class:"item-subtitle"},qP={class:"item-text"},FP=i("div",{class:"row"},null,-1),MP={class:"block row"},GP=i("div",{class:"block"},null,-1);function KP(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-page"),I=a("f7-popup");return d(),h(N,null,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=C=>r.showPopup())},$P),n(I,{opened:o.enablePopup,"onUpdate:opened":t[3]||(t[3]=C=>o.enablePopup=C),"tablet-fullscreen":!0},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{title:""},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=C=>r.closePopup())},{default:s(()=>[UP]),_:1})]),_:1})]),_:1}),i("div",SP,[RP,i("div",xP,[i("ul",null,[(d(!0),h(N,null,Q(o.iVouchers,C=>(d(),h("li",{key:C.qrUrl},[i("div",OP,[i("div",BP,[i("div",HP,"iVoucher s\u1ED1 "+u(this.$utils.ivoucherID(C.qrUrl)),1),i("div",QP,[i("div",VP,"T\xEAn kh\xE1ch h\xE0ng: "+u(C.name),1),LP]),i("div",zP,"Sdt : "+u(C.info.phoneNumber),1),i("div",qP,u(r.statusText(C.status)),1),FP])])]))),128))])])]),i("div",MP,[i("button",{onClick:t[2]||(t[2]=C=>e.addIcard()),class:"col-100 button button-large button-fill button-round"},"Th\xEAm Nh\xE2n vi\xEAn v\xE0o iSHOP")]),GP]),_:1})]),_:1},8,["opened"])],64)}var YP=S(AP,[["render",KP]]);const jP={props:{id:String,privateCode:String},components:{qrcode:it},data(){return{enablePopup:!1,selectIndex:1,code:"",qrCodeUrl:""}},computed:{genID(){if(this.code){let e=this.code.slice(0,3),t=this.selectIndex.toString().padStart(4,"0"),l=`${this.id}.${t}-${e}`,c=`https://www.ishowroom.vn/s/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,3)}`;return this.qrCodeUrl=c,l.substring(11)}else return"Ch\u01B0a c\xF3 privateCode"}},watch:{selectIndex(e){e>0&&this.updateCode()}},methods:{closePopup(){this.enablePopup=!1},async showPopup(){await this.updateCode(),this.enablePopup=!0},async updateCode(){let e=await this.$api.getPrivateCode(this.id,this.selectIndex,this.privateCode);e&&(this.code=e.privateCode||"")},async copyNFC(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.ishowroom.vn/snfc/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,4)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iShop")}else w.dialog.alert("Error on get NFC Url")},async copyQRCode(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.ishowroom.vn/s/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,3)}`;navigator.clipboard.writeText(e),this.qrCodeUrl=e,w.dialog.alert("Success to clipboard","iShop")}else w.dialog.alert("Error on get Url")},async copyLINK(){if(this.selectIndex>0&&this.code.length>4){let e=`https://www.ishowroom.vn/surl/${this.id}/i/${this.selectIndex}/p/${this.code.substring(0,3)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iShop")}else w.dialog.alert("Error on get Url")}}},JP={class:"row"},WP=i("div",{class:"col-10"},null,-1),XP={class:"col-80"},ZP=i("div",{class:"col-10"},null,-1),e$=p("Close"),t$={class:"block block-strong"},i$={class:"list no-hairlines"},n$={class:"block-title"},o$={class:"item-content"},s$=i("small",null,"Index",-1),a$={class:"stepper stepper-fill stepper-round stepper-init"},l$=i("div",{class:"stepper-button-minus"},null,-1),r$={class:"stepper-input-wrap"},d$=i("div",{class:"stepper-button-plus"},null,-1),c$={class:"block-title"},u$={class:"row",style:{"margin-top":"15px"}},p$=p("NFC"),h$=p("QRCode"),m$=p("Share");function _$(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-button"),I=a("qrcode"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",JP,[WP,i("div",XP,[i("a",{class:"button button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())},"Get Urls")]),ZP]),n(b,{id:"ishop-urls",opened:o.enablePopup,"onUpdate:opened":t[6]||(t[6]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Update Info"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[e$]),_:1})]),_:1})]),_:1}),i("div",t$,[i("div",i$,[i("ul",null,[i("div",n$,"ID: "+u(e.$utils.formatQRID(l.id)),1),i("li",o$,[s$,i("div",a$,[l$,i("div",r$,[A(i("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=m=>o.selectIndex=m),min:"1",max:"999",step:"1"},null,512),[[V,o.selectIndex]])]),d$])]),i("li",c$," Generated: "+u(r.genID),1),i("li",u$,[n(v,{col:"",fill:"",round:"",large:"",onClick:t[3]||(t[3]=m=>r.copyNFC())},{default:s(()=>[p$]),_:1}),n(v,{col:"",fill:"",round:"",large:"",onClick:t[4]||(t[4]=m=>r.copyQRCode())},{default:s(()=>[h$]),_:1}),n(v,{col:"",fill:"",round:"",large:"",onClick:t[5]||(t[5]=m=>r.copyLINK())},{default:s(()=>[m$]),_:1})])])])]),i("div",null,[n(I,{qrCodeUrl:o.qrCodeUrl},null,8,["qrCodeUrl"])])]),_:1})]),_:1},8,["opened"])],64)}var f$=S(jP,[["render",_$]]);const g$={props:{type:{type:String,default:"USER"},id:{type:String},index:{type:Number}},data(){return{}},computed:{getName(){let e="iShop";return(this.$utils.qrid_index(this.id)>=2e3||this.index>1e3)&&(e="iVoucher"),this.type=="SETUP"&&(e=`Setup ${e}`),e+" v1.3, ID:"+this.$utils.shortQRID(this.id)}},methods:{gotoIShop(){let e="https://www.ishowroom.vn/s/100010010880006/i/3/p/419";this.type=="SETUP"&&(e="https://www.ishowroom.vn/s/100010010880003/i/3/p/231"),window.open(e)}}},v$={class:"card-header"};function C$(e,t,l,c,o,r){return d(),h("section",null,[i("a",v$,u(r.getName),1)])}var Tt=S(g$,[["render",C$]]);const b$={components:{},props:{qrid:String,privateCode:String},emits:["selected"],data(){return{isLoading:!1,items:[],selectedId:0,item:{},actionHistory:[],userInfo:{},popupOpened:!1,filters:{},searchQuery:"",datasets:[],deviceDatasets:[]}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{qrid:"loadData"},methods:{closeItem(){this.popupOpened=!1},selected(e){console.log("a",e),this.selectedId=e,this.loadDetail(),this.popupOpened=!0},async loadDetail(){this.userInfo={},this.item=await this.$api.UserDeviceAction(this.qrid,this.privateCode,this.selectedId),this.actionHistory=this.item.actionHistory,this.item.userInfo&&(this.userInfo=this.item.userInfo)},async updateUserInfo(e){console.log("updateUserInfo",e),e&&e.name&&await this.$api.updateUserInfo(this.qrid,this.privateCode,this.item.id,e)&&w.dialog.alert("Success Update")},async refreshData(){this.items=[],await this.loadData()},async loadData(){this.qrid>0&&(this.isLoading=!0,this.items=await this.$api.UserActionHistory(this.qrid,this.privateCode),this.isLoading=!1,this.interactiveSets())},interactiveSets(){if(this.items){let e=0,t=0,l=0,c=0,o=0,r=0,_=0;this.items.forEach(f=>{console.log(f),f.lastAction&&(f.lastAction.type=="NFC"&&e++,f.lastAction.type=="SCAN"&&t++,f.lastAction.type=="CLICK"&&l++,f.lastAction.type=="LINK"&&c++),f.deviceInfo&&(f.deviceInfo.os=="ios"?o++:f.deviceInfo.os=="android"?r++:_++)}),this.deviceDatasets=[{label:"iOS",value:o,color:"#0f0"},{label:"android",value:r,color:"#00f"},{label:"Others",value:_,color:"#f00"}],this.datasets=[{label:"NFC Taps",value:e,color:"#ff0"},{label:"qrcode Scans",value:t,color:"#0f0"},{label:"link Clicks",value:c,color:"#00f"},{label:"url Clicks",value:l,color:"#00f"}]}},logoOS(e){if(e&&e.deviceInfo){let t=e.deviceInfo.os;return this.$utils.getLogoOS(t)}},actionInfo(e){if(e){let t="";return e.os&&(t+=e.os),e.osVersion&&(t+=" "+e.osVersion),t}},content(e){if(e)return e.title+`
`+e.content},addNote(){w.dialog.alert("Li\xEAn h\u1EC7 \u0111\u1EC3 \u0111\u01B0\u1EE3c t\u01B0 v\u1EA5n v\xE0 k\xEDch ho\u1EA1t s\u1EED d\u1EE5ng","T\xEDnh n\u0103ng cho Doanh nghi\u1EC7p")}},async mounted(){await this.loadData()}},I$=p("Th\u1ED1ng k\xEA (Summary) "),y$={class:"row"},k$={class:"card-header"},D$=i("div",{class:"card-header"},"T\u01B0\u01A1ng t\xE1c",-1),E$=p(" L\u1ECBch s\u1EED t\u01B0\u01A1ng t\xE1c"),w$=p(" L\xE0 nh\u1EEFng h\xE0nh \u0111\u1ED9ng c\u1EE7a kh\xE1ch h\xE0ng nh\u01B0 ch\u1EA1m NFC, qu\xE9t qrcode, click v\xE0o link,... "),N$={class:"row"},A$=i("div",{class:"col-20"},null,-1),T$={class:"col"},P$=i("div",{class:"col-20"},null,-1),$$={class:"list media-list"},U$=["onClick"],S$={class:"item-media"},R$={class:"f7-icons",style:{"font-size":"35px"}},x$={class:"item-inner"},O$={class:"item-title-row"},B$={class:"item-header"},H$={class:"item-after"},Q$={key:0,class:"item-title"},V$={class:"item-text"},L$=p(" Thi\u1EBFt b\u1ECB "),z$=p("Close"),q$={class:"card"},F$={class:"card-header bg-color-green"},M$={class:"f7-icons",style:{"font-size":"35px: padding-right:40px"}},G$={class:"card-header bg-color-green"},K$=p(" C\xE0ng nhi\u1EC1u t\u01B0\u01A1ng t\xE1c, k\xE9o d\xE0i trong nhi\u1EC1u ng\xE0y c\xE0ng th\u1EC3 hi\u1EC7n s\u1EF1 quan t\xE2m c\u1EE7a Kh\xE1ch h\xE0ng "),Y$={class:"card-content"},j$={class:"list media-list"},J$={class:"item-content"},W$={class:"item-media"},X$=["src"],Z$={key:1,class:"f7-icons",style:{"font-size":"40px"}},eU={class:"item-inner"},tU={class:"item-title-row"},iU={class:"item-header"},nU={class:"item-text"};function oU(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-pie-chart"),g=a("f7-row"),v=a("f7-block"),I=a("f7-block-header"),C=a("f7-card"),b=a("f7-link"),m=a("f7-nav-right"),y=a("f7-navbar"),E=a("f7-page"),T=a("f7-popup");return d(),h(N,null,[n(v,null,{default:s(()=>[n(_,{"bg-color":"green"},{default:s(()=>[I$]),_:1}),i("div",y$,[n(v,{class:"col-50"},{default:s(()=>[i("div",k$,u(o.items.length)+" Devices ",1),n(g,null,{default:s(()=>[n(f,{tooltip:"",datasets:o.deviceDatasets},null,8,["datasets"])]),_:1}),(d(!0),h(N,null,Q(o.deviceDatasets,P=>(d(),D(g,{key:P.label},{default:s(()=>[p(u(P.label)+": "+u(P.value),1)]),_:2},1024))),128))]),_:1}),n(v,{class:"col-50"},{default:s(()=>[D$,n(g,null,{default:s(()=>[n(f,{tooltip:"",datasets:o.datasets},null,8,["datasets"])]),_:1}),(d(!0),h(N,null,Q(o.datasets,P=>(d(),D(g,{key:P.label},{default:s(()=>[p(u(P.label)+": "+u(P.value),1)]),_:2},1024))),128))]),_:1})])]),_:1}),n(C,null,{default:s(()=>[n(_,{"bg-color":"blue"},{default:s(()=>[E$]),_:1}),n(I,null,{default:s(()=>[w$]),_:1}),i("div",N$,[A$,i("div",T$,[i("button",{class:"button button-large button-round button-fill color-green",onClick:t[0]||(t[0]=P=>r.refreshData())},"Refresh")]),P$]),i("div",$$,[i("ul",null,[(d(!0),h(N,null,Q(o.items,P=>(d(),h("li",{key:P.id},[i("a",{onClick:O=>r.selected(P.id),class:"item-link item-content chevron-center"},[i("div",S$,[i("span",null,u(P.userIndex),1),i("i",R$,u(r.logoOS(P)),1)]),i("div",x$,[i("div",O$,[i("div",B$,u(e.$utils.actionMessage(P.lastAction.type,P.lastAction.time)),1),i("div",H$,u(P.lastAction.totalActions),1)]),P.userInfo?(d(),h("div",Q$,u(P.userInfo.name),1)):k("",!0),i("div",V$,[L$,i("span",null,u(P.deviceCode),1),p(" \u0111\xE3 t\u01B0\u01A1ng t\xE1c "+u(P.lastAction.totalActions)+" l\u1EA7n, "+u(r.actionInfo(P.deviceInfo)),1)])])],8,U$)]))),128))])])]),_:1}),n(T,{opened:o.popupOpened,"tablet-fullscreen":!0},{default:s(()=>[n(E,null,{default:s(()=>[n(y,null,{default:s(()=>[n(m,null,{default:s(()=>[n(b,{onClick:t[1]||(t[1]=P=>r.closeItem())},{default:s(()=>[z$]),_:1})]),_:1})]),_:1}),i("div",q$,[i("div",F$,[i("i",M$,u(r.logoOS(o.item)),1),p(" "+u(o.item.deviceCode),1)]),i("div",G$," iShop Index: "+u(o.item.userIndex),1),n(I,null,{default:s(()=>[K$]),_:1}),i("div",Y$,[i("div",j$,[i("ul",null,[(d(!0),h(N,null,Q(o.actionHistory,P=>(d(),h("li",{key:P.id},[i("div",J$,[i("div",W$,[P.type=="NFC"||P.type=="CLICK"?(d(),h("img",{key:0,src:e.$utils.actionIcon(P.type),width:"40"},null,8,X$)):(d(),h("i",Z$,u(e.$utils.actionIcon(P.type)),1))]),i("div",eU,[i("div",tU,[i("div",iU,u(e.$utils.actionMessage(P.type,P.time)),1)]),i("div",nU,u(P.data?P.data.title:""),1)])])]))),128))])])])])]),_:1})]),_:1},8,["opened"])],64)}var Pt=S(b$,[["render",oU]]);const sU={components:{iShopUserAction:Pt},props:{id:String,privateCode:String},data(){return{enablePopup:!1}},methods:{async showPopup(){this.enablePopup=!0}}},aU=p(" Kh\xE1ch h\xE0ng \u0111\xE3 t\u01B0\u01A1ng t\xE1c"),lU=p("Close");function rU(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("i-shop-user-action"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())},[n(_,{f7:"waveform"}),aU]),n(b,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(v,{title:"Update Info"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=m=>o.enablePopup=!1)},{default:s(()=>[lU]),_:1})]),_:1})]),_:1}),o.enablePopup?(d(),D(I,{key:0,qrid:l.id,privateCode:l.privateCode},null,8,["qrid","privateCode"])):k("",!0)]),_:1})]),_:1},8,["opened"])],64)}var dU=S(sU,[["render",rU]]);const cU=G({props:{isView:Boolean,id:String,privateCode:String,types:{type:String,default:["ACTIVITY.ISHOP_FEEDBACK"]},limit:{type:Number,default:10}},components:{Activity:Fe},data(){return{isLoading:!1,filter:{skip:0,limit:this.limit,order:"id desc"},enablePopup:!1,selectedId:0,data:{}}},watch:{id:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){if(this.id.length>0){this.isLoading=!0,this.types&&(this.filter.where={type:{inq:this.types}});let e=await this.$api.getIShopContacts(this.id,this.privateCode,this.filter);e&&(this.data=e),this.isLoading=!1}}},async mounted(){this.loadData()}}),uU={key:0,class:"card"},pU={class:"card-header bg-color-green"},hU=i("i",{class:"f7-icons"},"arrow_2_circlepath",-1),mU=p(" refresh"),_U=[hU,mU],fU={class:"list media-list"},gU=["onClick"],vU={class:"item-media"},CU=["src"],bU={class:"item-inner"},IU={class:"item-header"},yU={class:"item-title-row"},kU={style:{"font-size":"16px"}},DU=i("div",{class:"item-after"},null,-1),EU={class:"item-subtitle"},wU={key:1,class:"card"},NU=i("div",{class:"card-header bg-color-green"},"Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u",-1),AU=[NU];function TU(e,t,l,c,o,r){const _=a("activity"),f=a("f7-popup");return d(),h(N,null,[e.data.length>0?(d(),h("div",uU,[i("div",pU,[p(u(e.limit)+" Li\xEAn h\u1EC7 g\u1EA7n nh\u1EA5t ",1),i("a",{onClick:t[0]||(t[0]=(...g)=>e.loadData&&e.loadData(...g)),style:{"margin-left":"30px"}},_U)]),i("div",fU,[i("ul",null,[(d(!0),h(N,null,Q(e.data,g=>(d(),h("li",{key:g.id},[i("a",{onClick:v=>e.clickViewActivity(g),class:"item-link item-content chevron-center"},[i("div",vU,[i("img",{style:{border:"1px solid #ccc","max-width":"50px"},src:e.$utils.firstImage(g.imageUrls),width:"50"},null,8,CU)]),i("div",bU,[i("div",IU,u(e.$utils.formatDateTime(g.modified)),1),i("div",yU,[i("div",kU,u(g.qrid),1),DU]),i("div",EU,u(g.title||"kh\xF4ng c\xF3"),1)])],8,gU)]))),128))])])])):(d(),h("div",wU,AU)),n(f,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[1]||(t[1]=g=>e.enablePopup=g),"tablet-fullscreen":!0},{default:s(()=>[n(_,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var $t=S(cU,[["render",TU]]);const PU={components:{iShopFeedbacks:$t},props:{id:String,privateCode:String},data(){return{enablePopup:!1}},methods:{async showPopup(){this.enablePopup=!0}}},$U=p(" Ph\u1EA3n \xE1nh c\u1EE7a Kh\xE1ch h\xE0ng "),UU=p("Close");function SU(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("i-shop-feedbacks"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())},[n(_,{f7:"paperplane"}),$U]),n(b,{opened:o.enablePopup,"onUpdate:opened":t[2]||(t[2]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(v,{title:"Update Info"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=m=>o.enablePopup=!1)},{default:s(()=>[UU]),_:1})]),_:1})]),_:1}),n(I,{id:l.id,privateCode:l.privateCode,isView:e.isView},null,8,["id","privateCode","isView"])]),_:1})]),_:1},8,["opened"])],64)}var RU=S(PU,[["render",SU]]);const xU={props:{f7route:Object,f7router:Object,id:{type:String,default:""},privateCode:{type:String,default:""},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{iShopUrls:f$,IShopCards:j7,IShopVouchers:YP,iShopVersion:Tt,iShopIhistory:dU,iShopCustomerContact:RU,ICustomers:RA,ICheckin:oT,IshopCheckin:Me,ListPayments:NP},data(){return{enablePopup:!1,totalImember:0,icards:[{id:"100010010560001",privateCode:"42035451",title:"",name:"",status:"",start:"",roles:[]},{id:"100010010560006",privateCode:"38090079",title:"",name:"",status:"",start:"",roles:[]}]}},computed:{},async mounted(){let e=await this.$api.countICustomers(this.id);this.totalImember=e||0},methods:{async showICard(e){await this.loadIcards()},showPopup(){this.enablePopup=!0},closePopup(){this.enablePopup=!1},addToIshop(e){this.icards.push(e),this.closePopup()},async loadIcards(){let e=this.icards.map(t=>t.id);console.log("ids",e)}}},OU=i("div",{class:"block block-title-medium",style:{"text-align":"center"}},"Ph\u1EA7n Qu\u1EA3n l\xFD N\u1ED9i b\u1ED9 ",-1),BU={key:0,class:"block"},HU={class:"block"},QU={class:"block"},VU={class:"block"},LU={class:"block"},zU={class:"block"},qU=i("div",{class:"block-title"},null,-1),FU={class:"block"},MU=i("div",{class:"block-footer",style:{"text-align":"center"}}," Get link to setup or share",-1);function GU(e,t,l,c,o,r){const _=a("list-payments"),f=a("i-checkin"),g=a("i-customers"),v=a("i-shop-customer-contact"),I=a("i-shop-ihistory"),C=a("i-shop-cards"),b=a("i-shop-urls"),m=a("i-shop-version");return d(),h("section",null,[OU,l.id=="100010010882050"?(d(),h("div",BU,[n(_,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])])):k("",!0),A(i("div",HU,[n(f,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])],512),[[F,o.totalImember>0]]),A(i("div",QU,[n(g,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])],512),[[F,o.totalImember>0]]),i("div",VU,[n(v,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])]),i("div",LU,[n(I,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])]),i("div",zU,[qU,n(C,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"])]),i("div",FU,[n(b,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]),MU]),n(m,{type:"SETUP",id:l.id,index:l.index},null,8,["id","index"])])}var KU=S(xU,[["render",GU]]);const YU=G({props:{id:String,type:String},emits:["send"],components:{Camera:Ee,ImageUpload:De},data(){return{isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{title:"",imageUrls:[],sellerName:null,type:"",qrid:0,userComment:0,status:"CREATED",metadata:{enableSender:!0}},action:{name:"ISHOP_FEEDBACK",type:"ACTIVITY.ISHOP_FEEDBACK",title:"C\u1EA3m \u01A1n Qu\xFD kh\xE1ch \u0111\xE3 li\xEAn h\u1EC7",desc:"",recentLimit:5}}},watch:{},computed:{maxImages(){return 2}},methods:{async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)},uploaded(e){console.log("uploaded",e),this.data.imageUrls.push(e)},close(){this.enablePopup=!1,this.$emit("send","CANCEL")},async postActivity(){this.data.qrid=this.id,this.data.type=this.type||"ACTIVITY.ISHOP_FEEDBACK",await this.$api.createRequest(this.data),w.dialog.alert("G\u1EEDi th\xE0nh c\xF4ng, c\u1EA3m \u01A1n Qu\xFD kh\xE1ch!","iShowroom"),this.$emit("send","SUCCESS")}}}),jU=p("C\u1EA3m \u01A1n qu\xFD kh\xE1ch, vui l\xF2ng \u0111\u1EC3 l\u1EA1i v\xE0i th\xF4ng tin"),JU=p(" Ch\u1EE5p h\xECnh th\u1EF1c t\u1EBF v\xE0 m\xF4 t\u1EA3 (n\u1EBFu c\xF3) \u0111\u1EC3 gi\xFAp ch\xFAng t\xF4i ph\u1EE5c v\u1EE5 t\u1ED1t h\u01A1n "),WU={class:"list",style:{"margin-top":"10px"}},XU=["src"],ZU={class:"row"},e2=i("div",{class:"col-20"},null,-1),t2=p("Ch\u1EE5p H\xECnh"),i2=i("div",{class:"col-20"},null,-1),n2=i("i",{class:"f7-icons"},"xmark_circle",-1),o2=p("Hu\u1EF7"),s2=i("i",{class:"f7-icons"},"checkmark_circle",-1),a2=p("G\u1EEDi");function l2(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-list-input"),g=a("f7-list"),v=a("f7-card-content"),I=a("f7-card"),C=a("f7-col"),b=a("f7-row"),m=a("f7-icon"),y=a("f7-button"),E=a("f7-text-editor"),T=a("f7-block"),P=a("camera"),O=a("f7-popup"),x=a("f7-page");return d(),D(x,null,{default:s(()=>[n(I,null,{default:s(()=>[n(_,{"bg-color":"green"},{default:s(()=>[jU]),_:1}),n(v,null,{default:s(()=>[A(n(g,{"no-hairlines-md":""},{default:s(()=>[n(f,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"anh / ch\u1ECB ...",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.customerName,"onUpdate:value":t[0]||(t[0]=B=>e.data.customerName=B)},null,8,["value"]),n(f,{outline:"",type:"text",label:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i (ho\u1EB7c \u0111\u1EC3 tr\u1ED1ng)","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:e.data.customerPhoneNumber,"onUpdate:value":t[1]||(t[1]=B=>e.data.customerPhoneNumber=B)},null,8,["value"])]),_:1},512),[[F,e.data.metadata.enableSender]])]),_:1})]),_:1}),n(I,null,{default:s(()=>[n(_,null,{default:s(()=>[JU]),_:1}),n(v,null,{default:s(()=>[i("div",WU,[i("ul",null,[i("li",null,[n(b,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,B=>(d(),D(C,{width:"50",key:B},{default:s(()=>[i("img",{style:{"max-width":"100%",height:"auto"},src:B},null,8,XU)]),_:2},1024))),128))]),_:1})]),i("li",null,[i("div",ZU,[e2,n(y,{class:"col-50",large:"",round:"",outline:"",onClick:t[2]||(t[2]=B=>e.showCamera())},{default:s(()=>[n(m,{f7:"camera"}),t2]),_:1}),i2])]),n(E,{placeholder:"m\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h2","h3"]],style:{"--f7-text-editor-height":"200px"},value:e.data.title,"onTexteditor:change":t[3]||(t[3]=B=>e.data.title=B)},null,8,["value"])])])]),_:1})]),_:1}),n(T,null,{default:s(()=>[n(b,null,{default:s(()=>[n(C,{width:"30"},{default:s(()=>[n(y,{raised:"",round:"",large:"",color:"gray",onClick:t[4]||(t[4]=B=>e.close())},{default:s(()=>[n2,o2]),_:1})]),_:1}),n(C,{width:"60"},{default:s(()=>[n(y,{raised:"",round:"",fill:"",large:"",onClick:t[5]||(t[5]=B=>e.postActivity())},{default:s(()=>[s2,a2]),_:1})]),_:1})]),_:1})]),_:1}),n(O,{opened:e.enablePopup,"onUpdate:opened":t[6]||(t[6]=B=>e.enablePopup=B)},{default:s(()=>[n(P,{ref:"camera",maxImages:e.maxImages,onSave:e.saveImageUrls},null,8,["maxImages","onSave"])]),_:1},8,["opened"])]),_:1})}var r2=S(YU,[["render",l2]]);const d2={components:{iShopFeedbacks:$t},props:{id:String,privateCode:String,index:Number},data(){var e=new Date;return e.setDate(e.getDate()+7),{expiredDate:this.$utils.formatDate(e),enableButton:!1,btnTitle:"\u0110\u0103ng k\xFD s\u1EED d\u1EE5ng",btnSubTitle:"iVoucher ch\u01B0a \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng",enablePopup:!1,enableCustomer:!0,customer:{qrUrl:"",qrid:this.id,name:"",status:"CREATED",info:{phoneNumber:""},history:[]}}},computed:{getiVoucherId(){return`iVoucher:${this.id}-${this.index}-${this.privateCode}`},hiddenPhoneNumber(){if(this.customer.info){let e=this.customer.info.phoneNumber||"";return"*****"+e.toString().slice(e.length-3,e.length)}return""}},methods:{async showPopup(){this.enablePopup=!0},async clearCustomer(){await this.$api.clearCustomer(this.getiVoucherId)},async createCustomer(){this.customer.qrUrl=this.getiVoucherId;let e=await this.$api.createCustomer(this.customer);e&&(this.customer=e,this.enablePopup=!1,this.updateCustomer())},async loadCustomer(){let e=await this.$api.getQRCustomer(this.getiVoucherId);e&&(console.log("loadCustomer",e),this.customer=e,this.customer.info||(this.customer.info={}),this.updateCustomer())},updateCustomer(){this.btnTitle=this.customer.name,this.btnSubTitle="kh\xE1ch h\xE0ng \u0111\xE3 \u0111\u0103ng k\xFD, ch\u01B0a s\u1EED d\u1EE5ng.",this.customer.status=="USED"&&(this.btnSubTitle="kh\xE1ch h\xE0ng \u0111\xE3 s\u1EED d\u1EE5ng"),this.enableCustomer=!1}},async mounted(){(this.$utils.qrid_index(this.id)>=2e3||this.index>1e3)&&(await this.loadCustomer(),this.enableButton=!0)}},c2={class:"block content"},u2={key:1,class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},p2=p("Close"),h2=p("\u0110\u0103ng k\xFD ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"),m2=i("p",null," Th\xF4ng tin sau khi \u0111\u0103ng k\xFD, kh\xF4ng th\u1EC3 ch\u1EC9nh s\u1EEDa. M\u1ED9t s\u1ED1 th\xF4ng tin s\u1EBD \u0111\u01B0\u1EE3c \u1EA9n, ch\u1EC9 c\xF3 ng\u01B0\u1EDDi \u0111\u0103ng k\xFD m\u1EDBi bi\u1EBFt. Sau khi \u0111\u0103ng k\xFD, vui l\xF2ng s\u1EED d\u1EE5ng trong 7 ng\xE0y t\u1EDBi",-1),_2=i("i",{class:"f7-icons"},"checkmark_circle",-1),f2=p("\u0110\u0103ng k\xFD"),g2=p("Th\xF4ng tin ng\u01B0\u1EDDi \u0111\u0103ng k\xFD"),v2=i("p",null,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EA7y \u0111\u1EE7 \u0111\u01B0\u1EE3c \u1EA9n, ch\u1EC9 c\xF3 ng\u01B0\u1EDDi \u0111\u0103ng k\xFD m\u1EDBi bi\u1EBFt. ",-1);function C2(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-icon"),g=a("f7-link"),v=a("f7-nav-right"),I=a("f7-navbar"),C=a("f7-list-input"),b=a("f7-list-item"),m=a("f7-list"),y=a("f7-button"),E=a("f7-col"),T=a("f7-row"),P=a("f7-block"),O=a("f7-card-content"),x=a("f7-card"),B=a("f7-page"),H=a("f7-popup");return d(),h(N,null,[A(i("section",c2,[l.index>1e3?(d(),D(_,{key:0},{default:s(()=>[p("iVoucher s\u1ED1 "+u(l.index),1)]),_:1})):k("",!0),i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=$=>r.showPopup())},[n(f,{f7:"user"}),p(u(o.btnTitle),1)]),o.btnSubTitle?(d(),h("div",u2,u(o.btnSubTitle),1)):k("",!0)],512),[[F,o.enableButton]]),n(H,{opened:o.enablePopup,"onUpdate:opened":t[4]||(t[4]=$=>o.enablePopup=$),"tablet-fullscreen":!0},{default:s(()=>[n(B,null,{default:s(()=>[n(I,{title:"Th\xF4ng tin iVoucher"},{default:s(()=>[n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[p2]),_:1})]),_:1})]),_:1}),A(n(x,null,{default:s(()=>[n(_,null,{default:s(()=>[h2]),_:1}),n(O,null,{default:s(()=>[m2,n(m,{"no-hairlines-md":""},{default:s(()=>[n(C,{type:"text",outline:"",label:"T\xEAn ng\u1EAFn \u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4","floating-label":"",info:"ng\u1EAFn g\u1ECDn \u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.customer.name,"onUpdate:value":t[1]||(t[1]=$=>o.customer.name=$)},null,8,["value"]),n(C,{outline:"",type:"text",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 \u0111\u1ED1i chi\u1EBFu ","floating-label":"",resizable:"",placeholder:"nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",minlength:"10","clear-button":"",value:o.customer.info.phoneNumber,"onUpdate:value":t[2]||(t[2]=$=>o.customer.info.phoneNumber=$)},null,8,["value"]),n(b)]),_:1}),n(P,null,{default:s(()=>[n(T,null,{default:s(()=>[n(E,{width:"60"},{default:s(()=>[n(y,{raised:"",round:"",fill:"",large:"",onClick:t[3]||(t[3]=$=>r.createCustomer())},{default:s(()=>[_2,f2]),_:1})]),_:1}),n(E,{width:"20"})]),_:1}),n(T,null,{default:s(()=>[i("p",null,"iVoucher n\xE0y h\u1EBFt h\u1EA1n v\xE0o ng\xE0y "+u(o.expiredDate),1)]),_:1})]),_:1})]),_:1})]),_:1},512),[[F,o.enableCustomer]]),A(n(x,null,{default:s(()=>[n(_,null,{default:s(()=>[g2]),_:1}),n(O,null,{default:s(()=>[v2,n(m,{"no-hairlines-md":""},{default:s(()=>[n(b,null,{default:s(()=>[p("T\xEAn: "+u(o.customer.name),1)]),_:1}),n(b,null,{default:s(()=>[p("S\u1ED1 \u0111i\u1EC7n tho\u1EA1i: "+u(r.hiddenPhoneNumber),1)]),_:1})]),_:1}),n(P,null,{default:s(()=>[n(T)]),_:1})]),_:1})]),_:1},512),[[F,!o.enableCustomer]])]),_:1})]),_:1},8,["opened"])],64)}var b2=S(d2,[["render",C2]]);const I2={components:{ImagePicker:Se,iBlockContent:ce,iShopInfo:Ve,iBlock:Xe,iShopManagement:KU,iShopVersion:Tt,iShopFeedback:r2,iVoucher:b2,iShopCheckin:Me},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},index:{type:Number,default:0},isView:{type:Boolean,default:!0},accessType:String},computed:{isTest(){return this.isView==!1&&this.id.toString()=="100010010880003"},showButtons(){return this.isView?this.data.actions.filter(e=>e.enable):this.data.actions}},methods:{test(){},async updateFloatActions(){let e={left:this.left_bottom,center:this.center_bottom,right:this.right_bottom};this.data.fab_actions=e,await this.updateData()},async updateInfo(e){this.data.ishop=e,await this.$api.updateIshopInfo(this.id,this.privateCode,e).then(t=>{w.dialog.alert("SUCCESS")}).error(t=>{w.dialog.alert("FAILED")})},async updateHeader(e){this.data.ishopHeader=e,await this.updateData()},async updateFooter(e){this.data.ishopFooter=e,await this.updateData()},async notifyUpdate(e){let t=this.data.actions.findIndex(l=>l.name==e.name);t>-1&&(console.log("notify",t,e),this.data.actions[t]=e,await this.updateData())},async updateData(){if(console.log("updateData",this.status),this.status=="QRID_STATUS.GENERATED"||this.status=="NOT_GENERATED")return await this.initData();let e={cardType:this.cardType,metadata:this.data};await this.$api.updateISale(this.id,this.privateCode,e)?w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u. "):w.dialog.alert("FAILED")},async initData(){let e={status:"QRID_STATUS.ACTIVE",cardType:this.cardType,metadata:this.data};console.log("initData()",this.id,this.privateCode,e);let t=await this.$api.initCard(this.id,this.privateCode,e);t&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng"),this.item=t)},async onFile(e){let t=await this.$utils.onFile(e);t?(this.data.backgroundUrl=t,await this.updateData()):w.dialog.alert("upload file faild")},async loadData(){let e=await this.$api.getIDocument(this.id,this.index,this.privateCode);e&&this.status==e.status,e&&e.metadata&&(this.data=_e(_e({},this.data),e.metadata),e.metadata.actions?(this.data.actions=e.metadata.actions,this.data.actions.length==5&&(this.data.actions.push({name:"action_6",enable:!1,icon:"phone",url:"",title:"Action 6"}),this.data.actions.push({name:"action_7",enable:!1,icon:"phone",url:"",title:"Action 7"}))):this.data.actions=de.iblocks,this.data.ishop=e.metadata.ishop,this.data.ishopHeader=e.metadata.ishopHeader||de.iShopHeader,this.data.backgroundUrl||(this.data.backgroundUrl="https://apps.vinaas.com/file/2D0CABmx3"),this.isView&&this.accessType,e.metadata.fab_actions&&(this.data.fab_actions=e.metadata.fab_actions,this.data.fab_actions.left&&(this.left_bottom=this.data.fab_actions.left),this.data.fab_actions.center&&(this.center_bottom=this.data.fab_actions.center),this.data.fab_actions.right&&(this.right_bottom=this.data.fab_actions.right)),e.metadata.manager&&(this.data.manager=e.metadata.manager)),e.metadata==null&&(this.data.actions=de.iblocks,this.data.backgroundUrl="https://apps.vinaas.com/file/2D0CABmx3"),console.log("loadData",this.data),this.refreshIndex++},clickAction(e){console.log("clickAction",e);let t=e.url,l=e.name,c=e.text;if(l=="zalo"&&!value.includes("zalo")&&(t="https://zalo.me/"+value),l=="email"){this.clickMail(t);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:`${c}`,content:JSON.stringify(e)}),e.type=="URL"&&window.open(t)},async Mockup(){this.data.actions=de.iblocks,this.refreshIndex++},clickRightBottomCall(e){this.$api.PersonAction(this.id,this.privateCode,"CALL",this.index,{title:"RIGHT_FAB.CALL",content:"tel:"+e}),e&&(window.location="tel:"+e)},openPopup(e){if(!this.isView){this.enableFab=!0;return}e=="CENTER"&&(this.enableCenter=!0),e=="RIGHT"&&this.data.hotline&&this.clickRightBottomCall(this.data.hotline)},closePopup(e){e=="CENTER"&&(this.enableCenter=!1)},goIcon(){window.open("https://framework7.io/icons/")},getName(){let e="v1.3",t="iShop";if((this.$utils.qrid_index(this.id)>=2e3||this.index>1e3)&&(t="iVoucher"),this.type=="USER")return`${t} ${this.id} ${e}`;if(this.type=="SETUP")return`${t} Setup ${this.id} ${e}`}},data(){return{cardType:"CARD_TYPE.ISHOP",enablePopup:!1,selectIndex:1,refreshIndex:0,status:"",data:{title:"",backgroundUrl:"",ishop:{},ishopHeader:{},ishopFooter:{},actions:[],fab_actions:{},hotline:"",email:"",manager:{fullName:"",email:"",phoneNumber:""}},enableFab:!1,enableCenter:!1,enableLeft:!1,enableRight:!1,clickedPosition:"",left_bottom:{enable:!1,text:"",icon:"plus",value:{type:"",email:"",phoneNumber:""}},center_bottom:{enable:!0,text:"Checkin",icon:"placemark_fill",value:{}},right_bottom:{enable:!1,text:"",icon:"phone_fill",value:{}}}},async mounted(){await this.loadData()}},J=e=>(W("data-v-2251fe55"),e=e(),X(),e),y2={class:"icon f7-icons"},k2={class:"icon f7-icons"},D2={class:"icon f7-icons"},E2={key:0,class:"bg-edit"},w2={class:"demo-content"},N2={class:"block"},A2=p("Close"),T2={class:"block strong"},P2=J(()=>i("div",{class:"card-header"},"Th\xF4ng tin chung c\u1EE7a iShop",-1)),$2={class:"list media"},U2={class:"item-content item-input"},S2=J(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"phone_fill")],-1)),R2={class:"item-inner"},x2=J(()=>i("div",{class:"item-title item-label"},"Hotline c\u1EEDa h\xE0ng(\u0111\u1EC3 kh\xE1ch h\xE0ng tr\u1EF1c ti\u1EBFp g\u1ECDi)",-1)),O2={class:"item-input-wrap"},B2={class:"item-content item-input"},H2=J(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"envelope")],-1)),Q2={class:"item-inner"},V2=J(()=>i("div",{class:"item-title item-label"},"Email \u0111\u1EC3 nh\u1EADn G\xF3p \xFD, ph\u1EA3n \u1EA3nh t\u1EEB kh\xE1ch h\xE0ng",-1)),L2={class:"item-input-wrap"},z2={class:"item-content item-input"},q2=J(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"person_alt")],-1)),F2={class:"item-inner"},M2=J(()=>i("div",{class:"item-title item-label"},"T\xEAn c\u1EE7a Nh\xE2n s\u1EF1 qu\u1EA3n l\xFD iShop",-1)),G2={class:"item-input-wrap"},K2={key:0,class:"list media"},Y2=J(()=>i("div",{class:"block-header"},"Nh\xE2n s\u1EF1 Qu\u1EA3n l\xFD c\u0169ng \u0111\u01B0\u1EE3c th\xF4ng b\xE1o \u0111\u1EC3 ti\u1EC7n theo d\xF5i, gi\xE1m s\xE1t qua c\xE1c k\xEAnh",-1)),j2={class:"item-content item-input"},J2=J(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"envelope")],-1)),W2={class:"item-inner"},X2=J(()=>i("div",{class:"item-title item-label"},"T\u1EAFt / B\u1EADt",-1)),Z2={class:"item-input-wrap"},eS={class:"item-inner"},tS=J(()=>i("div",{class:"item-title item-label"},"Email \u0111\u1EC3 nh\u1EADn th\xF4ng b\xE1o",-1)),iS={class:"item-input-wrap"},nS={class:"item-content item-input"},oS=J(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"phone_fill")],-1)),sS={class:"item-inner"},aS=J(()=>i("div",{class:"item-title item-label"},"T\u1EAFt / B\u1EADt",-1)),lS={class:"item-input-wrap"},rS={class:"item-inner"},dS=J(()=>i("div",{class:"item-title item-label"},"Th\xF4ng b\xE1o (sms) t\u1EDBi s\u1ED1 \u0111i\u1EC7n tho\u1EA1i ",-1)),cS={class:"item-input-wrap"},uS=J(()=>i("div",{class:"card-header bg-color-blue"}," Left Button",-1)),pS={class:"list media"},hS={class:"item-content item-input"},mS={class:"item-inner"},_S=J(()=>i("div",{class:"item-title item-label"},"\u1EA8n / Hi\u1EC3n th\u1ECB button",-1)),fS={class:"item-input-wrap"},gS={class:"item-content item-input"},vS={class:"item-inner"},CS=J(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),bS={class:"item-input-wrap"},IS={class:"item-content item-input"},yS={class:"item-media"},kS={class:"f7-icons size-40"},DS={class:"item-inner"},ES=J(()=>i("div",{class:"item-title item-label"},"Icon",-1)),wS={class:"item-input-wrap"},NS=J(()=>i("div",{class:"card-header bg-color-blue"}," Center Button",-1)),AS={class:"list media"},TS={class:"item-content"},PS=p(" Hi\u1EC3n th\u1ECB / \u1EA8n"),$S={class:"item-content item-input"},US={class:"item-inner"},SS=J(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),RS={class:"item-input-wrap"},xS={class:"item-content item-input"},OS={class:"item-media"},BS={class:"f7-icons size-40"},HS={class:"item-inner"},QS=J(()=>i("div",{class:"item-title item-label"},"Icon",-1)),VS={class:"item-input-wrap"},LS=J(()=>i("div",{class:"card-header bg-color-blue"},"Right Button",-1)),zS={class:"list media"},qS={class:"item-content"},FS=p(" Hi\u1EC3n th\u1ECB / \u1EA8n"),MS={class:"item-content item-input"},GS={class:"item-inner"},KS=J(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),YS={class:"item-input-wrap"},jS={class:"item-content item-input"},JS={class:"item-media"},WS={class:"f7-icons size-40"},XS={class:"item-inner"},ZS=J(()=>i("div",{class:"item-title item-label"},"Icon",-1)),eR={class:"item-input-wrap"},tR={class:"block"},iR={class:"block-footer"},nR=p(" Danh s\xE1ch iCon tham kh\u1EA3o \u1EDF ");function oR(e,t,l,c,o,r){const _=a("f7-fab"),f=a("image-picker"),g=a("i-shop-info"),v=a("i-block-content"),I=a("i-block"),C=a("i-shop-version"),b=a("i-shop-management"),m=a("f7-page"),y=a("i-shop-checkin"),E=a("i-shop-feedback"),T=a("f7-popup"),P=a("f7-link"),O=a("f7-nav-right"),x=a("f7-navbar"),B=a("f7-toggle"),H=a("f7-card");return d(),h(N,null,[n(m,{"no-navbar":!0},{default:s(()=>[o.left_bottom.enable&&r.isTest?(d(),D(_,{key:0,position:"left-bottom",color:"blue",text:o.left_bottom.text,onClick:t[0]||(t[0]=$=>r.openPopup("LEFT"))},{default:s(()=>[i("i",y2,u(o.left_bottom.icon),1)]),_:1},8,["text"])):k("",!0),o.center_bottom.enable?(d(),D(_,{key:1,position:"center-bottom",color:"green",text:o.center_bottom.text,onClick:t[1]||(t[1]=$=>r.openPopup("CENTER"))},{default:s(()=>[i("i",k2,u(o.center_bottom.icon),1)]),_:1},8,["text"])):k("",!0),o.right_bottom.enable?(d(),D(_,{key:2,position:"right-bottom",color:"green",text:o.right_bottom.text,onClick:t[2]||(t[2]=$=>r.openPopup("RIGHT"))},{default:s(()=>[i("i",D2,u(o.right_bottom.icon),1)]),_:1},8,["text"])):k("",!0),i("div",{class:"demo-wrap",style:Oe("--bg-image: url("+o.data.backgroundUrl+")")},[l.isView?k("",!0):(d(),h("div",E2,[n(f,{icon:"",onFile:r.onFile},null,8,["onFile"])])),i("div",w2,[n(g,{id:l.id,privateCode:l.privateCode,isView:l.isView,ishop:o.data.ishop,onUpdate:r.updateInfo},null,8,["id","privateCode","isView","ishop","onUpdate"]),i("section",null,[n(v,{data:o.data.ishopHeader,refreshIndex:o.refreshIndex,onUpdated:r.updateHeader,showTitle:!1,isView:l.isView,showButton:!1},null,8,["data","refreshIndex","onUpdated","isView"])]),(d(!0),h(N,null,Q(r.showButtons,$=>(d(),D(I,{key:$.name,title:$.name,isView:l.isView,data:$,refreshIndex:o.refreshIndex,onUpdate:r.notifyUpdate,onClickAction:r.clickAction},null,8,["title","isView","data","refreshIndex","onUpdate","onClickAction"]))),128)),i("section",N2,[n(v,{data:o.data.ishopFooter,showTitle:!1,showBanner:!1,showButton:!0,isView:l.isView,onUpdated:r.updateFooter,onClick:r.clickAction},null,8,["data","isView","onUpdated","onClick"]),n(C,{type:"USER",id:l.id,index:l.index,style:{"min-height":"50px"}},null,8,["id","index"])])])],4),l.isView?k("",!0):(d(),D(b,{key:3,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]))]),_:1}),n(T,{opened:o.enableCenter,"onUpdate:opened":t[5]||(t[5]=$=>o.enableCenter=$),"tablet-fullscreen":!0},{default:s(()=>[o.center_bottom.text=="Checkin"?(d(),D(y,{key:0,id:l.id,status:o.enableCenter,privateCode:l.privateCode,onClose:t[3]||(t[3]=$=>r.closePopup("CENTER"))},null,8,["id","status","privateCode"])):(d(),D(E,{key:1,id:l.id,onSend:t[4]||(t[4]=$=>r.closePopup("CENTER"))},null,8,["id"]))]),_:1},8,["opened"]),n(T,{opened:o.enableFab,"onUpdate:opened":t[25]||(t[25]=$=>o.enableFab=$),"tablet-fullscreen":!0},{default:s(()=>[n(m,null,{default:s(()=>[n(x,{title:"Setup  Float Actions"},{default:s(()=>[n(O,null,{default:s(()=>[n(P,{onClick:t[6]||(t[6]=$=>{o.enableFab=!1})},{default:s(()=>[A2]),_:1})]),_:1})]),_:1}),i("div",T2,[P2,i("div",$2,[i("ul",null,[i("li",U2,[S2,i("div",R2,[x2,i("div",O2,[A(i("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=$=>o.data.hotline=$)},null,512),[[V,o.data.hotline]])])])]),i("li",B2,[H2,i("div",Q2,[V2,i("div",L2,[A(i("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=$=>o.data.email=$)},null,512),[[V,o.data.email]])])])]),i("li",z2,[q2,i("div",F2,[M2,i("div",G2,[A(i("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=$=>o.data.managerName=$)},null,512),[[V,o.data.managerName]])])])])])]),r.isTest?(d(),h("div",K2,[Y2,i("ul",null,[i("li",j2,[J2,i("div",W2,[X2,i("div",Z2,[n(B,{color:"blue",checked:o.data.manager.enableEmail,"onUpdate:checked":t[10]||(t[10]=$=>o.data.manager.enableEmail=$)},null,8,["checked"])])]),i("div",eS,[tS,i("div",iS,[A(i("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=$=>o.data.manager.email=$)},null,512),[[V,o.data.manager.email]])])])]),i("li",nS,[oS,i("div",sS,[aS,i("div",lS,[n(B,{color:"blue",checked:o.data.manager.enablePhoneNumber,"onUpdate:checked":t[12]||(t[12]=$=>o.data.manager.enablePhoneNumber=$)},null,8,["checked"])])]),i("div",rS,[dS,i("div",cS,[A(i("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=$=>o.data.manager.phoneNumber=$)},null,512),[[V,o.data.manager.phoneNumber]])])])]),i("li",null,[i("button",{class:"button",onClick:t[14]||(t[14]=$=>r.test())},"Test")])])])):k("",!0)]),r.isTest?(d(),D(H,{key:0},{default:s(()=>[uS,i("div",pS,[i("ul",null,[i("li",hS,[i("div",mS,[_S,i("div",fS,[n(B,{color:"blue",checked:o.left_bottom.enable,"onUpdate:checked":t[15]||(t[15]=$=>o.left_bottom.enable=$)},null,8,["checked"])])])]),i("li",gS,[i("div",vS,[CS,i("div",bS,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[16]||(t[16]=$=>o.left_bottom.text=$)},null,512),[[V,o.left_bottom.text]])])])]),i("li",IS,[i("div",yS,[i("i",kS,u(o.left_bottom.icon),1)]),i("div",DS,[ES,i("div",wS,[A(i("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=$=>o.left_bottom.icon=$)},null,512),[[V,o.left_bottom.icon]])])])])])])]),_:1})):k("",!0),n(H,null,{default:s(()=>[NS,i("div",AS,[i("ul",null,[i("li",TS,[PS,n(B,{color:"blue",checked:o.center_bottom.enable,"onUpdate:checked":t[18]||(t[18]=$=>o.center_bottom.enable=$)},null,8,["checked"])]),i("li",$S,[i("div",US,[SS,i("div",RS,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[19]||(t[19]=$=>o.center_bottom.text=$)},null,512),[[V,o.center_bottom.text]])])])]),i("li",xS,[i("div",OS,[i("i",BS,u(o.center_bottom.icon),1)]),i("div",HS,[QS,i("div",VS,u(o.center_bottom.icon),1)])])])])]),_:1}),n(H,null,{default:s(()=>[LS,i("div",zS,[i("ul",null,[i("li",qS,[FS,n(B,{color:"blue",checked:o.right_bottom.enable,"onUpdate:checked":t[20]||(t[20]=$=>o.right_bottom.enable=$)},null,8,["checked"])]),i("li",MS,[i("div",GS,[KS,i("div",YS,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[21]||(t[21]=$=>o.right_bottom.text=$)},null,512),[[V,o.right_bottom.text]])])])]),i("li",jS,[i("div",JS,[i("i",WS,u(o.right_bottom.icon),1)]),i("div",XS,[ZS,i("div",eR,[A(i("input",{type:"text","onUpdate:modelValue":t[22]||(t[22]=$=>o.right_bottom.icon=$)},null,512),[[V,o.right_bottom.icon]])])])])])])]),_:1}),i("div",tR,[i("button",{class:"button button-large button-fill button-round",onClick:t[23]||(t[23]=(...$)=>r.updateFloatActions&&r.updateFloatActions(...$))},"Save"),i("div",iR,[nR,i("a",{onClick:t[24]||(t[24]=$=>r.goIcon())}," List iCons ")])])]),_:1})]),_:1},8,["opened"])],64)}var be=S(I2,[["render",oR],["__scopeId","data-v-2251fe55"]]);let Ut={iPet:{petName:"t\xEAn th\xFA c\u01B0ng",petDoB:"08-22-2020",petSex:"",petType:"",petTribe:"",petOrigin:"",petHome:"",petUrl:""},iPetHeader:{bannerUrl:"https://apps.vinaas.com/file/HIHgS8hv6",content:""},iblocks:[{name:"action_2",enable:!0,icon:"phone-fill",url:"",title:"Gi\u1EDBi thi\u1EC7u v\u1EC1 th\xFA c\u01B0ng",subTitle:""},{name:"action_3",enable:!0,icon:"phone",url:"",title:"Album th\xFA c\u01B0ng"}],iPetFooter:{content:"Thu\u1ED9c v\u1EC1 C\u1EEDa h\xE0ng"},iPetOwner:{}};const sR={emits:["update","clickAction"],components:{AvatarPicker:Ue,ImagePicker:Se,iBlockContent:ce},props:{title:{type:String,default:"Block Title"},blockType:{type:String,default:"BUTTON"},data:Object,isView:{type:Boolean,default:!1},refreshIndex:{type:Number,default:0}},data(){return{types:[{name:"URL",value:"URL",title:"Chuy\u1EC3n \u0111\u1EBFn trang"},{name:"POPUP",value:"POPUP",title:"Hi\u1EC3n th\u1ECB Trang chi ti\u1EBFt"}],action:{name:"action_1",enable:!1,valueType:"URL",icon:"house",value:{bannerUrl:this.$utils.getNoBanner(),title:"Nh\u1EADp Ti\xEAu \u0111\u1EC1",content:"Nh\u1EADp n\u1ED9i dung",url:"",btnEnable:!0,btnText:"View more"},title:"click 1",subTitle:""},redirectUrl:"",enablePopup:!1,enableEdit:!1}},watch:{refreshIndex:"refreshData"},mounted(){this.refreshData()},methods:{selectType(e){this.action.valueType=e},refreshData(){console.log("refreshData",this.data),this.action=this.data,this.action.enable=this.data.enable,this.action.value=this.data.value,this.action.valueType=this.action.valueType||"URL",this.action.value&&(this.value=this.action.value)},updateValue(e){console.log("updateValue",e),this.action.value=e},saveEdit(){this.action.valueType=="URL"&&this.redirectUrl&&(this.action.value={url:this.redirectUrl}),console.log("action",this.action),this.$emit("update",this.action)},closePreview(){this.enablePopup=!1},showPreview(){this.refreshIndex2++,this.enablePopup=!0},clickSubAction(e){if(e.value){let t=e.value.url||"";this.$emit("clickAction",{name:e.name,type:"URL",url:t,text:"Click next "+e.value.btnText})}else w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e.name}`)},clickAction(e){if(!this.isView)this.showPreview();else{if(e.valueType=="URL")if(console.log("action",e),e.value){let t=e.value.url||"";this.$emit("clickAction",{name:e.name,type:e.valueType,url:t,text:""})}else w.dialog.alert(`Ch\u01B0a thi\u1EBFt l\u1EADp Url cho ${e.name}`);e.valueType=="POPUP"&&(this.$emit("clickAction",{name:e.name,type:e.valueType,url:"",text:e.title}),this.showPreview())}},closeEdit(){console.log("closeEdit",this.enableEdit),this.enableEdit=!1},showEdit(){this.enableEdit=!0},clearBanner(){this.value.bannerUrl=""},async onFile(e){let t=await this.$utils.onFile(e);t?this.value.bannerUrl=t:w.dialog.alert("upload file faild")}}},le=e=>(W("data-v-6766ecc2"),e=e(),X(),e),aR={class:"block content"},lR={class:"content-edit"},rR=le(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),dR=[rR],cR={key:0},uR={key:2,class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},pR=p("Close"),hR={class:"block"},mR={key:2,class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},_R={class:"list"},fR={class:"item-content"},gR=p(" Hi\u1EC3n th\u1ECB / \u1EA8n button "),vR={class:"item-content item-input"},CR={class:"item-inner"},bR=le(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),IR={class:"item-input-wrap"},yR=le(()=>i("span",{class:"input-clear-button"},null,-1)),kR={class:"item-content item-input"},DR={class:"item-inner"},ER=le(()=>i("div",{class:"item-title item-label"},"Button Description",-1)),wR={class:"item-input-wrap"},NR=le(()=>i("span",{class:"input-clear-button"},null,-1)),AR=le(()=>i("div",{class:"row block-header"},"Thi\u1EBFt l\u1EADp h\xE0nh \u0111\u1ED9ng khi b\u1EA5m v\xE0o button tr\xEAn",-1)),TR={class:"row"},PR=["onClick"],$R=["onClick"],UR={class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},SR={class:"card"},RR={class:"list"},xR={class:"item-content item-input"},OR={class:"item-inner"},BR=le(()=>i("div",{class:"item-title item-label"},"Link c\u1EA7n chuy\u1EC3n t\u1EDBi: website, google form, youtube video, ...",-1)),HR={class:"item-input-wrap"},QR=le(()=>i("span",{class:"input-clear-button"},null,-1)),VR={class:"card"},LR=le(()=>i("div",{class:"card-header"}," Th\xF4ng tin trang chi ti\u1EBFt",-1)),zR={class:"block"},qR={class:"row"},FR=le(()=>i("div",{class:"col-20"},null,-1)),MR={class:"col-60"},GR=le(()=>i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"Nh\u1EDB b\u1EA5m \u0111\u1EC3 l\u01B0u th\xF4ng tin",-1)),KR=le(()=>i("div",{class:"col-20"},null,-1)),YR=p("Close"),jR={class:"block"},JR=le(()=>i("div",{class:"block block-title-medium"},"Trang n\xE0y s\u1EBD kh\xF4ng hi\u1EC3n th\u1ECB m\xE0 t\u1EF1 \u0111\u1ED9ng redirect t\u1EDBi link",-1)),WR={class:"item-content"};function XR(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-toggle"),I=a("i-block-content"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("section",aR,[A(i("div",lR,[i("a",{onClick:t[0]||(t[0]=m=>r.showEdit())},dR)],512),[[F,!l.isView]]),l.blockType=="BUTTON"?(d(),h("div",cR,[o.action.enable?(d(),h("button",{key:0,onClick:t[1]||(t[1]=m=>r.clickAction(o.action)),class:"button bg-color-green button-large button-round button-fill"},u(o.action.title),1)):(d(),h("button",{key:1,onClick:t[2]||(t[2]=m=>r.clickAction(o.action)),class:"button button-large button-round"},u(o.action.title),1)),o.action.subTitle?(d(),h("div",uR,u(o.action.subTitle),1)):k("",!0)])):k("",!0)]),n(b,{opened:o.enableEdit,"onUpdate:opened":t[11]||(t[11]=m=>o.enableEdit=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Edit Button"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[3]||(t[3]=m=>r.closeEdit())},{default:s(()=>[pR]),_:1})]),_:1})]),_:1}),i("div",hR,[o.action.enable?(d(),h("button",{key:0,onClick:t[4]||(t[4]=m=>r.clickAction(o.action)),class:"button button-large button-round button-fill"},u(o.action.title),1)):(d(),h("button",{key:1,onClick:t[5]||(t[5]=m=>r.clickAction(o.action)),class:"button button-large button-round"},u(o.action.title),1)),o.action.subTitle?(d(),h("div",mR,u(o.action.subTitle),1)):k("",!0),i("div",_R,[i("ul",null,[i("li",fR,[n(v,{color:"blue",checked:o.action.enable,"onUpdate:checked":t[6]||(t[6]=m=>o.action.enable=m)},null,8,["checked"]),gR]),i("li",vR,[i("div",CR,[bR,i("div",IR,[A(i("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=m=>o.action.title=m)},null,512),[[V,o.action.title]]),yR])])]),i("li",kR,[i("div",DR,[ER,i("div",wR,[A(i("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=m=>o.action.subTitle=m)},null,512),[[V,o.action.subTitle]]),NR])])]),AR,i("div",TR,[(d(!0),h(N,null,Q(o.types,m=>(d(),h("div",{class:"col",key:m.name},[m.value==o.action.valueType?(d(),h("button",{key:0,onClick:y=>r.selectType(m.value),class:"col button button-fill"},u(m.value),9,PR)):(d(),h("button",{key:1,onClick:y=>r.selectType(m.value),class:"col button button-outline"},u(m.value),9,$R)),i("div",UR,u(m.title),1)]))),128))])])])]),A(i("div",SR,[i("div",RR,[i("ul",null,[i("li",xR,[i("div",OR,[BR,i("div",HR,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[9]||(t[9]=m=>o.redirectUrl=m)},null,512),[[V,o.redirectUrl]]),QR])])])])])],512),[[F,o.action.valueType=="URL"]]),A(i("div",VR,[LR,n(I,{showTitle:!1,data:o.action.value,refreshIndex:0,isView:!1,onUpdated:r.updateValue},null,8,["data","onUpdated"])],512),[[F,o.action.valueType=="POPUP"]]),i("div",zR,[i("div",qR,[FR,i("div",MR,[i("button",{onClick:t[10]||(t[10]=m=>r.saveEdit()),class:"button button-round button-large button-fill"}," Save "),GR]),KR])])]),_:1})]),_:1},8,["opened"]),n(b,{id:"iblock",opened:o.enablePopup,"onUpdate:opened":t[14]||(t[14]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,{style:{"background-color":"white"}},{default:s(()=>[n(g,{title:o.action.title},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[12]||(t[12]=m=>r.closePreview())},{default:s(()=>[YR]),_:1})]),_:1})]),_:1},8,["title"]),A(i("div",jR,[JR,i("div",WR,u(o.redirectUrl),1)],512),[[F,o.action.valueType=="URL"]]),A(i("div",null,[n(I,{showTitle:!1,data:o.action.value,onClick:t[13]||(t[13]=m=>r.clickSubAction(o.action))},null,8,["data"])],512),[[F,o.action.valueType=="POPUP"]])]),_:1})]),_:1},8,["opened"])],64)}var ZR=S(sR,[["render",XR],["__scopeId","data-v-6766ecc2"]]);const ex={emits:["updated","click"],components:{Banner:It},props:{refreshIndex:{type:Number,default:0},isView:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showBanner:{type:Boolean,default:!0},showContent:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},data:Object},data(){return{enablePopup:!1,value:{bannerUrl:"",title:"",subTitle:"",content:"",btnEnable:!1,btnText:"",url:""}}},watch:{data:"syncData"},methods:{closePreview(){this.syncData(),this.enablePopup=!1},showPreview(){this.enablePopup=!0},saveEdit(){this.$emit("updated",this.value),this.enablePopup=!1},syncData(){lt.isEmpty(this.data)||(this.value=this.data,this.value.bannerUrl=this.data.bannerUrl)},redirect(){this.isView&&this.value.btnEnable&&this.value.url&&this.$emit("click",this.value.url)},uploadBanner(e){this.value.bannerUrl=e}},mounted(){this.syncData()}},ne=e=>(W("data-v-e180735a"),e=e(),X(),e),tx={class:"wrap"},ix={key:0,class:"content-edit"},nx=ne(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),ox=[nx],sx={class:"block",style:{"margin-top":"5px","margin-bottom":"0px"}},ax={key:0,class:"block-title",style:{"text-align":"center"}},lx=["src"],rx=["innerHTML"],dx={key:1,class:"block"},cx=ne(()=>i("div",{class:"col-10"},null,-1)),ux={class:"col-80"},px=ne(()=>i("div",{class:"col-10"},null,-1)),hx=p("Close"),mx={key:0,class:"card"},_x={class:"list"},fx={class:"item-content item-input"},gx={class:"item-inner"},vx=ne(()=>i("div",{class:"item-title item-label"},"Ti\xEAu \u0111\u1EC1",-1)),Cx={class:"item-input-wrap"},bx=ne(()=>i("span",{class:"input-clear-button"},null,-1)),Ix={key:2,class:"card"},yx=ne(()=>i("div",{class:"card-header"},"N\u1ED9i dung gi\u1EDBi thi\u1EC7u",-1)),kx=[yx],Dx={key:3,class:"card"},Ex=ne(()=>i("div",{class:"card-header"},"Button chuy\u1EC3n trang",-1)),wx={class:"row"},Nx=ne(()=>i("div",{class:"col-10"},null,-1)),Ax={class:"col-80"},Tx={key:0,class:"button button-large bg-color-green button-round button-fill"},Px={key:1,class:"button button-large button-outline"},$x=ne(()=>i("div",{class:"col-10"},null,-1)),Ux={class:"list"},Sx={class:"item-content"},Rx=p(" Hi\u1EC3n th\u1ECB / \u1EA8n button "),xx={class:"item-content item-input"},Ox={class:"item-inner"},Bx=ne(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),Hx={class:"item-input-wrap"},Qx=ne(()=>i("span",{class:"input-clear-button"},null,-1)),Vx={class:"item-content item-input"},Lx={class:"item-inner"},zx=ne(()=>i("div",{class:"item-title item-label"},"Link truy c\u1EADp",-1)),qx={class:"item-input-wrap"},Fx=ne(()=>i("span",{class:"input-clear-button"},null,-1)),Mx={class:"block row"},Gx=ne(()=>i("div",{class:"col-20"},null,-1)),Kx={class:"col-60"},Yx=ne(()=>i("div",{class:"col-20"},null,-1));function jx(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("banner"),I=a("f7-text-editor"),C=a("f7-toggle"),b=a("f7-page"),m=a("f7-popup");return d(),h(N,null,[i("div",tx,[l.isView?k("",!0):(d(),h("div",ix,[i("a",{onClick:t[0]||(t[0]=y=>r.showPreview())},ox)])),i("div",sx,[l.showTitle?(d(),h("div",ax,u(o.value.title),1)):k("",!0),l.showBanner?(d(),h("img",{key:1,src:o.value.bannerUrl,style:{"max-width":"100%",height:"auto"}},null,8,lx)):k("",!0),l.showContent?(d(),h("div",{key:2,innerHTML:o.value.content,id:"content-image"},null,8,rx)):k("",!0)]),l.showButton?(d(),h("div",dx,[cx,i("div",ux,[o.value.btnEnable?(d(),h("button",{key:0,class:"button button-large button-round bg-color-green button-fill",onClick:t[1]||(t[1]=(...y)=>r.redirect&&r.redirect(...y))},u(o.value.btnText),1)):k("",!0)]),px])):k("",!0)]),n(m,{id:"iblock",opened:o.enablePopup,"onUpdate:opened":t[9]||(t[9]=y=>o.enablePopup=y),"tablet-fullscreen":!0},{default:s(()=>[n(b,null,{default:s(()=>[n(g,{title:"Edit Content"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[2]||(t[2]=y=>r.closePreview())},{default:s(()=>[hx]),_:1})]),_:1})]),_:1}),l.showTitle?(d(),h("div",mx,[i("div",_x,[i("div",fx,[i("div",gx,[vx,i("div",Cx,[A(i("input",{type:"text",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=y=>o.value.title=y)},null,512),[[V,o.value.title]]),bx])])])])])):k("",!0),l.showBanner?(d(),D(v,{key:1,imageUrl:o.value.bannerUrl,onUploaded:r.uploadBanner},null,8,["imageUrl","onUploaded"])):k("",!0),l.showContent?(d(),h("div",Ix,kx)):k("",!0),n(I,{placeholder:"Enter text...",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["image"],["paragraph","h2","h3"],["alignLeft","alignCenter","alignRight"]],value:o.value.content,style:{"--f7-text-editor-height":"400px"},"clear-formatting-on-paste":!1,"onTexteditor:change":t[4]||(t[4]=y=>o.value.content=y)},null,8,["value"]),l.showButton?(d(),h("div",Dx,[Ex,i("div",wx,[Nx,i("div",Ax,[o.value.btnEnable?(d(),h("button",Tx,u(o.value.btnText),1)):(d(),h("button",Px,u(o.value.btnText),1))]),$x]),i("div",Ux,[i("ul",null,[i("li",Sx,[n(C,{color:"blue",checked:o.value.btnEnable,"onUpdate:checked":t[5]||(t[5]=y=>o.value.btnEnable=y)},null,8,["checked"]),Rx]),i("li",xx,[i("div",Ox,[Bx,i("div",Hx,[A(i("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=y=>o.value.btnText=y)},null,512),[[V,o.value.btnText]]),Qx])])]),i("li",Vx,[i("div",Lx,[zx,i("div",qx,[A(i("input",{type:"text",placeholder:"http(s)://","onUpdate:modelValue":t[7]||(t[7]=y=>o.value.url=y)},null,512),[[V,o.value.url]]),Fx])])])])])])):k("",!0),i("div",Mx,[Gx,i("div",Kx,[i("button",{onClick:t[8]||(t[8]=y=>r.saveEdit()),class:"button button-round button-large button-fill"}," Save ")]),Yx])]),_:1})]),_:1},8,["opened"])],64)}var St=S(ex,[["render",jx],["__scopeId","data-v-e180735a"]]);const Jx=G({props:{id:String,type:String},emits:["send"],components:{Camera:Ee,ImageUpload:De},data(){return{isLoading:!1,enablePopup:!1,isCameraOpen:!1,imageUrls:[],data:{title:"",imageUrls:[],sellerName:null,type:"",qrid:0,userComment:0,status:"CREATED",metadata:{enableSender:!0}},action:{name:"IPET_UPDATE",type:"ACTIVITY.IPET_UPDATE",title:"C\u1EA3m \u01A1n \u0111\xE3 c\u1EADp nh\u1EADt",desc:"",recentLimit:5}}},watch:{},computed:{maxImages(){return 2}},methods:{async showCamera(){console.log("click showCamera()"),this.enablePopup=!0,this.$refs.camera.openCamera()},saveImageUrls(e){this.enablePopup=!1,console.log("saveImages",e),e&&(this.data.imageUrls=e)},uploaded(e){console.log("uploaded",e),this.data.imageUrls.push(e)},close(){this.enablePopup=!1,this.$emit("send","CANCEL")},async postActivity(){this.data.qrid=this.id,this.data.type=this.type||"ACTIVITY.IPET_UPDATE",await this.$api.createRequest(this.data),w.dialog.alert("G\u1EEDi th\xE0nh c\xF4ng, c\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u!","iPet"),this.$emit("send","SUCCESS")}}}),Wx=p("N\u1ED9i dung nh\u1EADt k\xFD th\xFA c\u01B0ng "),Xx={class:"list",style:{"margin-top":"10px"}},Zx=i("li",null," Ch\u1EE5p h\xECnh th\u1EF1c t\u1EBF th\xFA c\u01B0ng",-1),eO=["src"],tO={class:"row"},iO=i("div",{class:"col-20"},null,-1),nO=p("Ch\u1EE5p H\xECnh"),oO=i("div",{class:"col-20"},null,-1),sO=p("Th\xF4ng tin ng\u01B0\u1EDDi ghi nh\u1EADt k\xFD"),aO=i("i",{class:"f7-icons"},"xmark_circle",-1),lO=p("Hu\u1EF7"),rO=i("i",{class:"f7-icons"},"checkmark_circle",-1),dO=p("L\u01B0u");function cO(e,t,l,c,o,r){const _=a("f7-card-header"),f=a("f7-col"),g=a("f7-row"),v=a("f7-icon"),I=a("f7-button"),C=a("f7-text-editor"),b=a("f7-card-content"),m=a("f7-card"),y=a("f7-list-input"),E=a("f7-list"),T=a("f7-block"),P=a("camera"),O=a("f7-popup"),x=a("f7-page");return d(),D(x,null,{default:s(()=>[n(m,null,{default:s(()=>[n(_,null,{default:s(()=>[Wx]),_:1}),n(b,null,{default:s(()=>[i("div",Xx,[i("ul",null,[Zx,i("li",null,[n(g,null,{default:s(()=>[(d(!0),h(N,null,Q(e.data.imageUrls,B=>(d(),D(f,{width:"50",key:B},{default:s(()=>[i("img",{style:{"max-width":"100%",height:"auto"},src:B},null,8,eO)]),_:2},1024))),128))]),_:1})]),i("li",null,[i("div",tO,[iO,n(I,{class:"col-50",large:"",round:"",outline:"",onClick:t[0]||(t[0]=B=>e.showCamera())},{default:s(()=>[n(v,{f7:"camera"}),nO]),_:1}),oO])]),n(C,{placeholder:"n\u1ED9i dung nh\u1EADt k\xFD",buttons:[["bold","italic","underline"],["orderedList","unorderedList"],["paragraph","h2","h3"]],style:{"--f7-text-editor-height":"200px"},value:e.data.title,"onTexteditor:change":t[1]||(t[1]=B=>e.data.title=B)},null,8,["value"])])])]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(_,{"bg-color":"green"},{default:s(()=>[sO]),_:1}),n(b,null,{default:s(()=>[A(n(E,{"no-hairlines-md":""},{default:s(()=>[n(y,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"enter....",info:"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:e.data.customerName,"onUpdate:value":t[2]||(t[2]=B=>e.data.customerName=B)},null,8,["value"]),n(y,{outline:"",type:"text",label:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i (ho\u1EB7c \u0111\u1EC3 tr\u1ED1ng)","floating-label":"",resizable:"",placeholder:"enter...",maxlength:"20","clear-button":"",value:e.data.customerPhoneNumber,"onUpdate:value":t[3]||(t[3]=B=>e.data.customerPhoneNumber=B)},null,8,["value"])]),_:1},512),[[F,e.data.metadata.enableSender]])]),_:1})]),_:1}),n(T,null,{default:s(()=>[n(g,null,{default:s(()=>[n(f,{width:"30"},{default:s(()=>[n(I,{raised:"",round:"",large:"",color:"gray",onClick:t[4]||(t[4]=B=>e.close())},{default:s(()=>[aO,lO]),_:1})]),_:1}),n(f,{width:"60"},{default:s(()=>[n(I,{raised:"",round:"",fill:"",large:"",onClick:t[5]||(t[5]=B=>e.postActivity())},{default:s(()=>[rO,dO]),_:1})]),_:1})]),_:1})]),_:1}),n(O,{opened:e.enablePopup,"onUpdate:opened":t[6]||(t[6]=B=>e.enablePopup=B)},{default:s(()=>[n(P,{ref:"camera",maxImages:e.maxImages,onSave:e.saveImageUrls},null,8,["maxImages","onSave"])]),_:1},8,["opened"])]),_:1})}var uO=S(Jx,[["render",cO]]);const pO=G({props:{isView:{type:Boolean,default:!0},id:String,privateCode:String,refresh:{type:Number,defaut:0},types:{type:Array,default:["ACTIVITY.IPET_UPDATE"]},limit:{type:Number,default:10}},components:{Activity:Fe},data(){return{isLoading:!1,filter:{skip:0,limit:this.limit,order:"id desc"},enablePopup:!1,selectedId:0,data:{}}},watch:{refresh:"loadData"},methods:{clickViewActivity(e){e.id>0&&(this.selectedId=e.id,this.enablePopup=!0)},async loadData(){if(this.id.length>0){this.isLoading=!0,this.types&&(this.filter.where={type:{inq:this.types}}),this.isView&&(this.filter.limit=5);let e=await this.$api.getActivities(this.id,this.types,this.filter.limit);console.log("getActiv",e),e&&(this.data=e),this.isLoading=!1}}},async mounted(){this.loadData()}}),hO={class:"card"},mO=i("div",{class:"card-header bg-color-green"}," NH\u1EACT K\xDD TH\xDA C\u01AFNG ",-1),_O={class:"list media-list"},fO=["onClick"],gO={class:"item-media"},vO=["src"],CO={class:"item-inner"},bO=i("div",{class:"item-header"},null,-1),IO={class:"item-title-row"},yO={key:0},kO={class:"item-after"},DO={key:0,class:"item-subtitle"},EO={key:1,class:"item-subtitle"},wO={key:0,class:"card-title"};function NO(e,t,l,c,o,r){const _=a("activity"),f=a("f7-popup");return d(),h(N,null,[i("div",hO,[mO,i("div",_O,[i("ul",null,[(d(!0),h(N,null,Q(e.data,g=>(d(),h("li",{key:g.id},[i("a",{onClick:v=>e.clickViewActivity(g),class:"item-link item-content chevron-center"},[i("div",gO,[i("img",{style:{border:"1px solid #ccc","max-width":"50px"},src:e.$utils.firstImage(g.imageUrls),width:"50"},null,8,vO)]),i("div",CO,[bO,i("div",IO,[g.customerName?(d(),h("div",yO,"Ng\u01B0\u1EDDi g\u1EEDi: "+u(g.customerName),1)):k("",!0),i("div",kO,u(e.$utils.formatDistanceToNow(g.modified)),1)]),g.title?(d(),h("div",DO,u(g.title),1)):k("",!0),g.customerPhoneNumber?(d(),h("div",EO,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i: "+u(g.customerPhoneNumber),1)):k("",!0)])],8,fO)]))),128))])]),e.data.length==0?(d(),h("div",wO," Ch\u01B0a \u0111\u01B0\u1EE3c c\u1EADp nh\u1EADt ")):k("",!0)]),n(f,{id:"view-activity",opened:e.enablePopup,"onUpdate:opened":t[0]||(t[0]=g=>e.enablePopup=g),"tablet-fullscreen":!0},{default:s(()=>[n(_,{id:e.selectedId},null,8,["id"])]),_:1},8,["opened"])],64)}var AO=S(pO,[["render",NO]]);const TO={props:{id:String,privateCode:String},components:{qrcode:it},data(){return{enablePopup:!1,selectIndex:1,code:"",domain:"https://petid247.com"}},computed:{qrCodeUrl(){return this.id>0&&this.privateCode.length>=2?`${this.domain}/p/${this.id}/p/${this.privateCode.slice(0,2)}`:""}},watch:{},methods:{closePopup(){this.enablePopup=!1},async showPopup(){this.enablePopup=!0},async updateCode(){let e=await this.$api.getPrivateCode(this.id,this.selectIndex,this.privateCode);e&&(this.code=e.privateCode||"")},async copyNFC(){if(this.id>0&&this.privateCode.length>=4){let e=`${this.domain}/pnfc/${this.id}/p/${this.privateCode.slice(0,4)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iPet")}else w.dialog.alert("Kh\xF4ng \u0111\u1EE7 quy\u1EC1n \u0111\u1EC3 l\u1EA5y NFC","iPet")},async copyQRCode(){if(this.id>0&&this.privateCode.length>=2){let e=`${this.domain}/p/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iPet")}},async copyLINK(){if(this.id>0&&this.privateCode.length>=2){let e=`${this.domain}/purl/${this.id}/p/${this.privateCode.slice(0,2)}`;navigator.clipboard.writeText(e),w.dialog.alert("Success to clipboard","iPet")}}}},PO={class:"row"},$O=i("div",{class:"col-10"},null,-1),UO={class:"col-80"},SO=i("div",{class:"col-10"},null,-1),RO=p("Close"),xO={class:"block block-strong"},OO={class:"list no-hairlines"},BO={class:"row",style:{"margin-top":"15px"}},HO=p("NFC"),QO=p("QRCode"),VO=p("Share");function LO(e,t,l,c,o,r){const _=a("f7-link"),f=a("f7-nav-right"),g=a("f7-navbar"),v=a("f7-button"),I=a("qrcode"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",PO,[$O,i("div",UO,[i("a",{class:"button button-large button-fill button-round",onClick:t[0]||(t[0]=m=>r.showPopup())},"Get Urls")]),SO]),n(b,{id:"ishop-urls",opened:o.enablePopup,"onUpdate:opened":t[5]||(t[5]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(g,{title:"Get Urls"},{default:s(()=>[n(f,null,{default:s(()=>[n(_,{onClick:t[1]||(t[1]=m=>r.closePopup())},{default:s(()=>[RO]),_:1})]),_:1})]),_:1}),i("div",xO,[i("div",OO,[i("ul",null,[i("li",BO,[n(v,{col:"",fill:"",round:"",large:"",onClick:t[2]||(t[2]=m=>r.copyNFC())},{default:s(()=>[HO]),_:1}),n(v,{col:"",fill:"",round:"",large:"",onClick:t[3]||(t[3]=m=>r.copyQRCode())},{default:s(()=>[QO]),_:1}),n(v,{col:"",fill:"",round:"",large:"",onClick:t[4]||(t[4]=m=>r.copyLINK())},{default:s(()=>[VO]),_:1})])])])]),i("div",null,[n(I,{qrCodeUrl:r.qrCodeUrl},null,8,["qrCodeUrl"])])]),_:1})]),_:1},8,["opened"])],64)}var Rt=S(TO,[["render",LO]]);const zO={props:{f7route:Object,f7router:Object,id:{type:String,default:""},privateCode:{type:String,default:""},index:{type:String,default:"0"},isView:{type:Boolean,default:!1},accessType:String},components:{iPetUrls:Rt},data(){return{enablePopup:!1,totalImember:0,icards:[{id:"100010010560001",privateCode:"42035451",title:"",name:"",status:"",start:"",roles:[]},{id:"100010010560006",privateCode:"38090079",title:"",name:"",status:"",start:"",roles:[]}]}},computed:{},async mounted(){let e=await this.$api.countICustomers(this.id);this.totalImember=e||0},methods:{async showICard(e){await this.loadIcards()},showPopup(){this.enablePopup=!0},closePopup(){this.enablePopup=!1},addToIshop(e){this.icards.push(e),this.closePopup()},async loadIcards(){let e=this.icards.map(t=>t.id);console.log("ids",e)}}},qO=i("div",{class:"block block-title-medium",style:{"text-align":"center"}},"Ph\u1EA7n Qu\u1EA3n l\xFD N\u1ED9i b\u1ED9 ",-1),FO={class:"block"},MO=i("div",{class:"block-footer",style:{"text-align":"center"}}," Get link to setup or share",-1),GO={style:{height:"150px"}};function KO(e,t,l,c,o,r){const _=a("i-pet-urls"),f=a("f7-block-title");return d(),h("section",null,[qO,i("div",FO,[n(_,{id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]),MO]),i("div",GO,[n(f,{style:{"text-align":"center","margin-top":"0px"}},{default:s(()=>[p(" ID: "+u(e.$utils.formatQRID(l.id)),1)]),_:1}),n(f,{style:{"text-align":"center","margin-top":"0px"}},{default:s(()=>[p(" Code: "+u(l.privateCode),1)]),_:1})])])}var YO=S(zO,[["render",KO]]);const jO={emits:["update"],components:{iShopUserAction:Pt},props:{id:String,privateCode:String,info:Object,isView:String},watch:{info:"loadInfo"},mounted(){this.loadInfo()},data(){return{enablePopup:!1,isEdit:!0,ipet:{petName:"",petDoB:"",petSex:"",petType:"",petTribe:"",petOrigin:"",petHome:"",petUrl:""}}},methods:{loadInfo(){console.log("loadInfo",this.info),this.info&&this.info.petName&&(this.ipet=this.info)},async showPopup(){this.enablePopup=!0},async updateData(){this.$emit("update",this.ipet),this.enablePopup=!1}}},ee=e=>(W("data-v-0360511c"),e=e(),X(),e),JO={class:"block content"},WO={class:"content-edit"},XO=ee(()=>i("i",{class:"icon f7-icons"},"pencil",-1)),ZO=[XO],e8=p("Th\xF4ng tin th\xFA c\u01B0ng "),t8=p("Close"),i8={class:"page-content"},n8={class:"card"},o8={key:0,id:"ipet-form",class:"list list-dividers-ios inset-ios"},s8={class:"item-content item-input"},a8={class:"item-inner"},l8=ee(()=>i("div",{class:"item-title item-label"},"T\xEAn th\xFA c\u01B0ng",-1)),r8={class:"item-input-wrap"},d8=["readonly"],c8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),u8={class:"item-content item-input"},p8={class:"item-inner"},h8=ee(()=>i("div",{class:"item-title item-label"},"Gi\u1EDBi t\xEDnh",-1)),m8={class:"item-input-wrap"},_8=["readonly"],f8=ee(()=>i("option",{value:""},"ch\u1ECDn gi\u1EDBi t\xEDnh",-1)),g8=ee(()=>i("option",{value:"male"},"Gi\u1ED1ng \u0111\u1EF1c",-1)),v8=ee(()=>i("option",{value:"female"},"Gi\u1ED1ng c\xE1i",-1)),C8=ee(()=>i("option",{value:"other"},"Kh\xE1c",-1)),b8=[f8,g8,v8,C8],I8={class:"item-content item-input"},y8={class:"item-inner"},k8=ee(()=>i("div",{class:"item-title item-label"},"Lo\xE0i (Ch\xF3 / m\xE8o / c\xE1 /...)",-1)),D8={class:"item-input-wrap"},E8=["readonly"],w8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),N8={class:"item-content item-input"},A8={class:"item-inner"},T8=ee(()=>i("div",{class:"item-title item-label"},"Gi\u1ED1ng (b\u1ED9 t\u1ED9c)",-1)),P8={class:"item-input-wrap"},$8=["readonly"],U8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),S8={class:"item-content item-input"},R8={class:"item-inner"},x8=ee(()=>i("div",{class:"item-title item-label"},"Xu\u1EA5t s\u1EE9, ngu\u1ED3n g\u1ED1c",-1)),O8={class:"item-input-wrap"},B8=["readonly"],H8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),Q8={class:"item-content item-input"},V8={class:"item-inner"},L8=ee(()=>i("div",{class:"item-title item-label"},"N\u01A1i sinh, qu\xEA qu\xE1n",-1)),z8={class:"item-input-wrap"},q8=["readonly"],F8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),M8={class:"item-content item-input"},G8={class:"item-inner"},K8=ee(()=>i("div",{class:"item-title item-label"},"URL gi\u1EA5y ph\xE9p, ch\u1EE9ng t\u1EEB c\u1EE7a th\xFA c\u01B0ng",-1)),Y8={class:"item-input-wrap"},j8=["readonly"],J8=ee(()=>i("span",{class:"input-clear-button"},null,-1)),W8={key:1},X8={class:"block row"},Z8=p(" L\u01B0u ");function e3(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-list-input"),C=a("f7-page"),b=a("f7-popup");return d(),h(N,null,[i("div",JO,[A(i("div",WO,[i("a",{onClick:t[0]||(t[0]=m=>r.showPopup())},ZO)],512),[[F,!l.isView]]),i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[1]||(t[1]=m=>r.showPopup())},[n(_,{f7:"info_circle"}),e8])]),n(b,{opened:o.enablePopup,"onUpdate:opened":t[12]||(t[12]=m=>o.enablePopup=m),"tablet-fullscreen":!0},{default:s(()=>[n(C,null,{default:s(()=>[n(v,{title:"C\u1EADp nh\u1EADt th\xF4ng tin th\xFA c\u01B0ng"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[2]||(t[2]=m=>o.enablePopup=!1)},{default:s(()=>[t8]),_:1})]),_:1})]),_:1}),i("div",i8,[i("div",n8,[o.isEdit?(d(),h("div",o8,[i("ul",null,[i("li",s8,[i("div",a8,[l8,i("div",r8,[A(i("input",{type:"text",name:"ipet.petName","onUpdate:modelValue":t[3]||(t[3]=m=>o.ipet.petName=m),readonly:l.isView,placeholder:"enter..."},null,8,d8),[[V,o.ipet.petName]]),c8])])]),i("li",u8,[i("div",p8,[h8,i("div",m8,[A(i("select",{"onUpdate:modelValue":t[4]||(t[4]=m=>o.ipet.petSex=m),readonly:l.isView},b8,8,_8),[[xe,o.ipet.petSex]])])])]),n(I,{readonly:l.isView,type:"date",label:"Ng\xE0y sinh",name:"ipet.petDoB",placeholder:"Your username",value:o.ipet.petDoB,"onUpdate:value":t[5]||(t[5]=m=>o.ipet.petDoB=m)},null,8,["readonly","value"]),i("li",I8,[i("div",y8,[k8,i("div",D8,[A(i("input",{readonly:l.isView,type:"text",name:"ipet.petType","onUpdate:modelValue":t[6]||(t[6]=m=>o.ipet.petType=m),placeholder:"enter..."},null,8,E8),[[V,o.ipet.petType]]),w8])])]),i("li",N8,[i("div",A8,[T8,i("div",P8,[A(i("input",{readonly:l.isView,type:"text","onUpdate:modelValue":t[7]||(t[7]=m=>o.ipet.petTribe=m),placeholder:"enter..."},null,8,$8),[[V,o.ipet.petTribe]]),U8])])]),i("li",S8,[i("div",R8,[x8,i("div",O8,[A(i("input",{readonly:l.isView,type:"text","onUpdate:modelValue":t[8]||(t[8]=m=>o.ipet.petOrigin=m),placeholder:"enter..."},null,8,B8),[[V,o.ipet.petOrigin]]),H8])])]),i("li",Q8,[i("div",V8,[L8,i("div",z8,[A(i("input",{readonly:l.isView,type:"text","onUpdate:modelValue":t[9]||(t[9]=m=>o.ipet.petHome=m),placeholder:"enter..."},null,8,q8),[[V,o.ipet.petHome]]),F8])])]),i("li",M8,[i("div",G8,[K8,i("div",Y8,[A(i("input",{readonly:l.isView,type:"url","onUpdate:modelValue":t[10]||(t[10]=m=>o.ipet.petUrl=m),placeholder:"enter..."},null,8,j8),[[V,o.ipet.petUrl]]),J8])])])])])):(d(),h("div",W8))]),i("div",X8,[l.isView?k("",!0):(d(),h("button",{key:0,class:"col-100 button button-large button-fill button-round",onClick:t[11]||(t[11]=m=>r.updateData())},[n(_,{f7:"cloud_upload"}),Z8]))])])]),_:1})]),_:1},8,["opened"])],64)}var xt=S(jO,[["render",e3],["__scopeId","data-v-0360511c"]]);const t3={emit:["close"],components:{ScanQrcode:Ce,iCardInfo:we,iBlockContent:St,iPetForm:xt},props:{f7route:Object,f7router:Object,id:{type:String,default:""},privateCode:{type:String,default:""},info:Object},data(){return{enableConnect:!1,popupListConnects:!1,popupConnect:!1,popupPreview:!1,connectType:"",iPet:{id:"",privateCode:"",iPetHeader:{},iPet:{}},iCard:{id:"",privateCode:"",info:{}},ishop:{id:0,index:0,privateCode:"",ishop:{},ishopHeader:{}},data:{},listConnects:[]}},async mounted(){await this.getListConnects()},methods:{showPopup(){this.enableConnect=!0},async closeConnect(e){if(console.log("ConnectData",e),this.data=e,e.type=="ICARD"&&e.cardType=="CARD_TYPE.IPET"&&e.id){this.connectType="IPET";let t={actionType:"CONNECT.IPET",firstId:this.id,secondId:e.id,thirdId:0,message:"Connect with",metadata:e.deviceMetadata.iPet||{}},l=await this.$api.createQRConnect(t);l&&(this.updateListConnects(l,this.connectType),this.showIpet(l),this.popupPreview=!0)}else if(e.type=="ICARD"&&e.id){this.connectType="ICARD";let t={actionType:"CONNECT",firstId:this.id,secondId:e.id,thirdId:0,message:"Ket noi voi "+e.ownerName,metadata:{}},l=await this.$api.createQRConnect(t);l&&(this.updateListConnects(l,this.connectType),this.showIcard(l),this.popupPreview=!0)}if(e.type=="ISHOP"&&(this.connectType="ISHOP",this.ishop=e,e.metadata.ishop)){let t=this.ishop.name?"T\u1EF1 Checkin \u1EDF "+this.ishop.name:"T\u1EF1 Checkin ",l={ishopId:this.ishop.id,ishopIndex:this.ishop.index,id:this.id,actionType:"CHECKIN.BYSELF",message:t,metadata:{}},c=await this.$api.createQRCheckin(l);c&&(this.updateListConnects(c,this.connectType),this.showIshop(c),this.popupPreview=!0)}this.popupConnect=!1},updateListConnects(e,t){let l=e;l.type=t,t=="ICARD"&&(l.showId=e.secondId),t=="ISHOP"&&(l.showId=e.ishopId),console.log("updateListConnects",l),this.listConnects.unshift(l)},clickConnect(){this.popupConnect=!0},async closePreview(){this.popupPreview=!1},async showListConnect(){await this.getListConnects(),this.popupListConnects=!0},closeListConnect(){this.popupListConnects=!1,this.$emit("close")},async showDetail(e){if(console.log("showDetail",e),e.actionType=="CONNECT.IPET")return await this.showIpet(e);if(e.actionType=="CONNECT")return await this.showIcard(e);if(e.actionType=="CHECKIN")return await this.showIpet(e)},async showIpet(e){this.connectType="IPET";let t=await this.$api.getQRID(e.secondId);t&&(this.iPet.id=t.id,this.iPet.privateCode=t.private,t.deviceMetadata&&(this.iPet.iPetHeader=t.deviceMetadata.iPetHeader,this.iPet.iPet=t.deviceMetadata.iPet),this.popupPreview=!0)},async showIcard(e){this.connectType="ICARD";let t=await this.$api.getQRID(e.secondId);if(t){this.iCard.id=t.id,this.iCard.privateCode=t.private;let l="https://apps.vinaas.com/file/tgs5EFo1O";t.imageUrls&&(l=t.imageUrls[0]),this.iCard.info={background:l,ishop:t.metadata.ishop||{},vcard:t.metadata.vcard||{}},this.popupPreview=!0}},async showIshop(e){this.connectType="ISHOP";let t=await this.$api.getQRID(e.ishopId);t&&(this.ishopId=t.id,this.ishopIndex=t.index,this.ishopCode=t.private,t.metadata.ishop&&(this.ishop=t.metadata.ishop,this.ishop.ishopHeader=t.metadata.ishopHeader,this.popupPreview=!0))},gotoIpet(e,t){console.log(this.iPet);let l=`https://petid247.com/p/${e}/p/${t}`;window.open(l)},gotoIcard(e,t){let l=`https://www.ishowroom.vn/n/${e}/p/${t}`;window.open(l)},async getListConnects(){let e=await this.$api.getConnectByICard(this.id,this.privateCode);this.listConnects=e}}},i3={class:"block content"},n3=p("K\u1EBFt n\u1ED1i v\u1EDBi th\xFA c\u01B0ng "),o3=p("Close"),s3={class:"block"},a3=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"K\u1EBFt n\u1ED1i th\xF4ng qua qu\xE9t qrcode m\xE0u xanh",-1),l3={class:"card"},r3={class:"card-header bg-color-green"},d3={class:"list media-list medium-inset"},c3={class:"item-content chevron-center"},u3={class:"item-media"},p3=["src"],h3={class:"item-inner"},m3={class:"item-header"},_3={class:"item-title-row"},f3={class:"item-after"},g3={class:"item-subtitle"},v3={class:"item-text"},C3={class:"row"},b3=i("div",{class:"col-20"},null,-1),I3={class:"col-60"},y3=["onClick"],k3=i("div",{class:"col-20"},null,-1),D3=p("Close"),E3={class:"block"},w3=i("div",{class:"block-footer",style:{"text-align":"center","margin-top":"0px"}},"v\u1EDBi kh\xE1ch m\u1EDDi c\xF3 qrcode xanh tr\xF2n",-1),N3={class:"card"},A3={class:"card-header bg-color-green"},T3={class:"list media-list medium-inset"},P3={class:"item-content chevron-center"},$3={class:"item-media"},U3=["src"],S3={class:"item-inner"},R3={class:"item-header"},x3=i("div",{class:"item-title-row"},[i("div",{class:"item-after"})],-1),O3={class:"item-subtitle"},B3={class:"item-text"},H3={class:"row"},Q3={key:0,class:"col-50"},V3=["onClick"],L3={key:1,class:"col-50"},z3=["onClick"],q3=p("Close"),F3=p("Close"),M3={class:"page-content"},G3={key:0},K3={class:"block content"},Y3=p("Xem \u0111\u1EA7y \u0111\u1EE7 iCard "),j3={key:1},J3={class:"block content"},W3=p("Xem \u0111\u1EA7y \u0111\u1EE7 "),X3={key:2},Z3=i("div",{class:"card card-header"},"Checkin at",-1),e6={class:"card bg-color-green",style:{"margin-top":"5px","margin-bottom":"0px",padding:"10px","text-align":"center"}},t6={class:"block-title-medium"},i6={key:0,class:"block"},n6=["innerHTML"];function o6(e,t,l,c,o,r){const _=a("f7-icon"),f=a("f7-link"),g=a("f7-nav-right"),v=a("f7-navbar"),I=a("f7-page"),C=a("f7-popup"),b=a("scan-qrcode"),m=a("i-card-info"),y=a("i-block-content"),E=a("i-pet-form");return d(),h(N,null,[i("div",i3,[i("button",{class:"button bg-color-green button-large button-fill button-round",onClick:t[0]||(t[0]=T=>r.showPopup())},[n(_,{f7:"snow"}),n3])]),n(C,{opened:o.enableConnect,"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{title:""},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[1]||(t[1]=T=>o.enableConnect=!1)},{default:s(()=>[o3]),_:1})]),_:1})]),_:1}),i("div",s3,[a3,i("button",{onClick:t[2]||(t[2]=T=>r.clickConnect()),class:"button button-large button-round button-fill"}," Connect ")]),i("div",l3,[i("div",r3,u(o.listConnects.length>0?"Danh S\xE1ch \u0111\xE3 k\u1EBFt n\u1ED1i":"Ch\u01B0a c\xF3 k\u1EBFt n\u1ED1i"),1),i("div",d3,[i("ul",null,[(d(!0),h(N,null,Q(o.listConnects,T=>(d(),h("li",{key:T.showId},[i("div",c3,[i("div",u3,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,p3)]),i("div",h3,[i("div",m3,u(e.$utils.formatQRID(T.secondId)),1),i("div",_3,[i("div",f3,u(T.type),1)]),i("div",g3,u(T.message),1),i("div",v3,u(e.$utils.formatDistanceToNow(T.created)),1),i("div",C3,[b3,i("div",I3,[i("a",{class:"button button-fill button-round",onClick:P=>r.showDetail(T)},"Chi ti\u1EBFt ",8,y3)]),k3])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.popupListConnects,"onUpdate:opened":t[5]||(t[5]=T=>o.popupListConnects=T),"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{title:""},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[3]||(t[3]=T=>r.closeListConnect())},{default:s(()=>[D3]),_:1})]),_:1})]),_:1}),i("div",E3,[i("button",{onClick:t[4]||(t[4]=T=>r.clickConnect()),class:"button button-large button-round button-fill"}," Connect "),w3]),i("div",N3,[i("div",A3,u(o.listConnects.length>0?"Danh S\xE1ch \u0111\xE3 k\u1EBFt n\u1ED1i":"Ch\u01B0a c\xF3"),1),i("div",T3,[i("ul",null,[(d(!0),h(N,null,Q(o.listConnects,T=>(d(),h("li",{key:T.showId},[i("div",P3,[i("div",$3,[i("img",{style:{border:"1px solid #ccc"},src:e.$utils.firstImage([]),width:"80"},null,8,U3)]),i("div",S3,[i("div",R3,u(e.$utils.formatQRID(T.showId)),1),x3,i("div",O3,u(T.type)+" "+u(T.message),1),i("div",B3,u(e.$utils.formatDistanceToNow(T.created)),1),i("div",H3,[T.type=="ICARD"?(d(),h("div",Q3,[i("button",{class:"button button-fill",onClick:P=>r.showIcard(T)},"Chi ti\u1EBFt 1",8,V3)])):k("",!0),T.type=="ISHOP"?(d(),h("div",L3,[i("button",{class:"button button-fill",onClick:P=>r.showIshop(T)},"Chi ti\u1EBFt 2",8,z3)])):k("",!0)])])])]))),128))])])])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.popupConnect,"tablet-fullscreen":!0},{default:s(()=>[n(I,null,{default:s(()=>[n(v,{title:""},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[6]||(t[6]=T=>o.popupConnect=!1)},{default:s(()=>[q3]),_:1})]),_:1})]),_:1}),n(b,{enable:o.popupConnect,onDone:r.closeConnect,onClose:t[7]||(t[7]=T=>o.popupConnect=!1)},null,8,["enable","onDone"])]),_:1})]),_:1},8,["opened"]),n(C,{opened:o.popupPreview,"tablet-fullscreen":!0},{default:s(()=>[n(v,{title:"Connect with"},{default:s(()=>[n(g,null,{default:s(()=>[n(f,{onClick:t[8]||(t[8]=T=>r.closePreview())},{default:s(()=>[F3]),_:1})]),_:1})]),_:1}),n(I,null,{default:s(()=>[i("div",M3,[o.connectType=="ICARD"?(d(),h("section",G3,[n(m,{id:o.iCard.id,info:o.iCard.info},null,8,["id","info"]),i("div",K3,[i("button",{class:"button button-large button-fill button-round",onClick:t[9]||(t[9]=T=>r.gotoIcard(o.iCard.id,o.iCard.privateCode))},[n(_,{f7:"snow"}),Y3])])])):k("",!0),o.connectType=="IPET"?(d(),h("section",j3,[n(y,{data:o.iPet.iPetHeader,refreshIndex:e.refreshIndex,showTitle:!1,isView:!0,showButton:!1},null,8,["data","refreshIndex"]),n(E,{isView:!0,info:o.iPet.iPet},null,8,["info"]),i("div",J3,[i("button",{class:"button button-large button-fill button-round",onClick:t[10]||(t[10]=T=>r.gotoIpet(o.iPet.id,o.iPet.privateCode))},[n(_,{f7:"snow"}),W3])])])):k("",!0),o.connectType=="ISHOP"?(d(),h("section",X3,[Z3,i("div",e6,[i("div",t6,u(o.ishop.name),1),o.ishop.content?(d(),h("div",i6,[i("div",{innerHTML:o.ishop.content},null,8,n6)])):k("",!0)]),n(y,{data:o.ishop.ishopHeader,showTitle:!1,isView:!0,showButton:!1},null,8,["data"])])):k("",!0)])]),_:1})]),_:1},8,["opened"])],64)}var s6=S(t3,[["render",o6]]);const a6={components:{ImagePicker:Se,iBlock:ZR,iBlockContent:St,iShopBlock:Xe,iShopBlockContent:ce,iPetUpdateHistory:AO,iPetUrls:Rt,iPetUpdate:uO,iShopInfo:Ve,iPetForm:xt,iPetConnect:s6,iPetManagement:YO},props:{f7route:Object,f7router:Object,id:{type:String,default:"100010010880001"},privateCode:{type:String,default:"69067013"},index:{type:Number,default:0},isView:{type:Boolean,default:!0},accessType:String},computed:{isTest(){return this.isView==!1&&this.id.toString()=="100010010880003"},enableInit(){if(this.data.status=="QRID_STATUS.GENERATED")return!0},showView(){return this.data.status=="QRID_STATUS.ACTIVE"?(console.log("showView",this.data.status),!this.$utils.isAfterTime(this.data.created,14400)):this.data.status=="QRID_STATUS.GENERATED"?(console.log("showView",this.data.status),!1):this.isView},showButtons(){return this.isView?this.data.deviceMetadata.actions.filter(e=>e.enable):this.data.deviceMetadata.actions},showIshopButtons(){if(this.enableIshop)return this.ishop.actions.filter(e=>e.enable)}},methods:{test(){},editOwner(){this.enableOwnerEdit=!0},async updateFloatActions(){let e={left:this.left_bottom,center:this.center_bottom,right:this.right_bottom};this.data.deviceMetadata.fab_actions=e,await this.updateData()},async updateInfo(e){this.data.deviceMetadata.iPet=e,console.log("updatePet",this.data.deviceMetadata),await this.updateData()},async updateOwnerData(){await this.updateData(),this.enableOwnerEdit=!1},async updateHeader(e){this.data.deviceMetadata.iPetHeader=e,await this.updateData()},async updateFooter(e){this.data.deviceMetadata.iPetFooter=e,await this.updateData()},async notifyUpdate(e){console.log("notifyUpdate",e);let t=this.data.deviceMetadata.actions.findIndex(l=>l.name==e.name);t>-1?(console.log("notify",t,e),this.data.deviceMetadata.actions[t]=e,await this.updateData()):w.dialog.alert("FAILED notifyUpdate","iPet")},async updateData(){if(console.log(" updateData",this.status),this.status=="QRID_STATUS.GENERATED"||this.status=="NOT_GENERATED")return await this.initData();let e=await this.$api.updateISale(this.id,this.privateCode,this.data);this.data.privateCode=this.privateCode,e?w.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng. C\u1EA3m \u01A1n r\u1EA5t nhi\u1EC1u. "):w.dialog.alert("FAILED")},async initData(){if(this.data.status="QRID_STATUS.ACTIVE",this.data.modified=new Date,this.data.created=new Date,this.isView)w.dialog.confirm("Sau khi K\xEDch ho\u1EA1t, b\u1EA1n ch\u1EC9 c\xF3 th\u1EC3 thay \u0111\u1ED5i n\u1ED9i dung trong 4 gi\u1EDD ti\u1EBFp theo",()=>{this.$api.updateISale(this.id,this.privateCode,this.data).then(e=>{e?(this.item=e,w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng")):w.dialog.alert("Kh\u1EDFi t\u1EA1o th\u1EA5y b\u1EA1i")})});else{this.data.status="QRID_STATUS.ACTIVE";let e=await this.$api.updateISale(this.id,this.privateCode,this.data);e&&(w.dialog.alert("Kh\u1EDFi t\u1EA1o th\xE0nh c\xF4ng"),this.item=e)}},async onFile(e){let t=await this.$utils.onFile(e);t?(this.data.deviceMetadata.backgroundUrl=t,await this.updateData()):w.dialog.alert("upload file faild")},async loadData(){let e=await this.$api.getQRID(this.id,this.privateCode);e&&(this.status=e.status),e&&e.deviceMetadata.iPet?(this.data=e,console.log("ipet-loadData",this.data),this.isView&&this.accessType):await this.Mockup(),console.log("sellerID",e.sellerId),e.sellerId.length>10?(this.data.sellerId=e.sellerId,await this.getIshopDataById(e.sellerId),this.enableIshop=!0):this.enableIshop=!1,console.log("loadData",this.data),this.refreshIndex++},async getIshopDataById(e){let t=await this.$api.getQRID(e);console.log("getIshopDataById",t),t&&t.metadata&&(this.ishop.id=t.id,this.ishop.ishop=t.metadata.ishop||iShopModel.ishop,this.ishop.ishopHeader=t.metadata.ishopHeader||iShopModel.iShopHeader,t.metadata.actions&&(this.ishop.actions=t.metadata.actions))},clickAction(e){console.log("clickAction",e);let t=e.url,l=e.name,c=e.text;if(l=="zalo"&&!value.includes("zalo")&&(t="https://zalo.me/"+value),l=="email"){this.clickMail(t);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:`${c}`,content:JSON.stringify(e)}),e.type=="URL"&&window.open(t)},clickIshopAction(e){console.log("clickIshopAction",e);let t=e.url,l=e.name,c=e.text;if(l=="zalo"&&!value.includes("zalo")&&(t="https://zalo.me/"+value),l=="email"){this.clickMail(t);return}this.$api.PersonAction(this.id,this.privateCode,"CLICK",this.index,{title:`${c}`,content:JSON.stringify(e)}),e.type=="URL"&&window.open(t)},async Mockup(){this.data.deviceMetadata={title:"",backgroundUrl:"",iPetHeader:Ut.iPetHeader,actions:Ut.iblocks,fab_actions:{left:this.left_bottom,center:this.center_bottom,right:this.right_bottom}},this.refreshIndex++},clickRightBottomCall(e){this.$api.PersonAction(this.id,this.privateCode,"CALL",this.index,{title:"RIGHT_FAB.CALL",content:"tel:"+e}),e&&(window.location="tel:"+e)},openPopup(e){if(!this.isView){this.enableFab=!0;return}e=="CENTER"&&(this.enableCenter=!0),e=="RIGHT"&&this.data.hotline&&this.clickRightBottomCall(this.data.hotline)},closePopup(e){e=="CENTER"&&(this.enableCenter=!1,this.refreshIndex++)},goIcon(){window.open("https://framework7.io/icons/")},getName(){let e="v1.3",t="iShop";if((this.$utils.qrid_index(this.id)>=2e3||this.index>1e3)&&(t="iVoucher"),this.type=="USER")return`${t} ${this.id} ${e}`;if(this.type=="SETUP")return`${t} Setup ${this.id} ${e}`}},data(){return{cardType:"CARD_TYPE.IPET",enableIshop:!1,enablePopup:!1,enableOwnerEdit:!1,selectIndex:1,refreshIndex:0,status:"",data:{private:"",cardType:"CARD_TYPE.IPET",title:"",description:"Gi\u1EDBi thi\u1EC7u v\u1EC1 th\xFA c\u01B0ng c\u1EE7a b\u1EA1n",imageUrls:[],activatedDate:"2021-12-29T09:04:40.085Z",deviceMetadata:{title:"",backgroundUrl:"",iPet:{},iPetHeader:{bannerUrl:"https://apps.vinaas.com/file/Y6D3VX7BT",content:"Th\xF4ng tin m\u1EDBi nh\u1EA5t c\u1EE7a th\xFA c\u01B0ng"},iPetFooter:{},actions:[],fab_actions:{}},ownerId:0,ownerName:"",ownerAddress:null,ownerPhoneNumber:"",ownerMetadata:{},ownerOrganizationId:"",sellerName:"",sellerAddress:"",sellerId:"",status:"QRID_STATUS.GENERATED",metadata:{posts:[],owners:[]}},ishop:{id:0},enableFab:!1,enableCenter:!1,enableLeft:!1,enableRight:!1,clickedPosition:"",left_bottom:{enable:!1,text:"",icon:"plus",value:{type:"",email:"",phoneNumber:""}},center_bottom:{enable:!0,text:"Nh\u1EADt k\xFD",icon:"plus_circle",value:{}},right_bottom:{enable:!1,text:"",icon:"phone_fill",value:{}}}},async mounted(){await this.loadData()}},K=e=>(W("data-v-23e4bc23"),e=e(),X(),e),l6={class:"icon f7-icons"},r6={key:0,class:"bg-edit"},d6={class:"demo-content"},c6={class:"card"},u6=K(()=>i("div",{class:"card-header bg-color-blue"},"TH\xD4NG TIN CH\u1EE6 TH\xDA C\u01AFNG",-1)),p6={style:{"text-align":"center"}},h6={class:"block-title block-title-medium"},m6={class:"list"},_6={key:0},f6={key:1},g6={key:0,class:"card-footer"},v6={class:"block"},C6={key:0},b6={key:1,style:{height:"100px"}},I6=p("Close"),y6={class:"card"},k6={class:"list"},D6={class:"item-content item-input"},E6={class:"item-inner"},w6=K(()=>i("div",{class:"item-title item-label"},"T\xEAn ch\u1EE7 nh\xE2n",-1)),N6={class:"item-input-wrap"},A6=K(()=>i("span",{class:"input-clear-button"},null,-1)),T6={class:"item-content item-input"},P6={class:"item-inner"},$6=K(()=>i("div",{class:"item-title item-label"},"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",-1)),U6={class:"item-input-wrap"},S6=K(()=>i("span",{class:"input-clear-button"},null,-1)),R6={class:"item-content item-input"},x6={class:"item-inner"},O6=K(()=>i("div",{class:"item-title item-label"},"\u0110\u1ECBa ch\u1EC9 (tu\u1EF3 ch\u1ECDn)",-1)),B6={class:"item-input-wrap"},H6=K(()=>i("span",{class:"input-clear-button"},null,-1)),Q6={class:"item-content item-input"},V6={class:"item-inner"},L6=K(()=>i("div",{class:"item-title item-label"},"OwnerId",-1)),z6={class:"item-input-wrap"},q6=K(()=>i("span",{class:"input-clear-button"},null,-1)),F6={class:"card-footer"},M6=p("Close"),G6={class:"block strong"},K6=K(()=>i("div",{class:"card-header"},"Th\xF4ng tin chung c\u1EE7a iShop",-1)),Y6={class:"list media"},j6={class:"item-content item-input"},J6=K(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"phone_fill")],-1)),W6={class:"item-inner"},X6=K(()=>i("div",{class:"item-title item-label"},"Hotline c\u1EEDa h\xE0ng(\u0111\u1EC3 kh\xE1ch h\xE0ng tr\u1EF1c ti\u1EBFp g\u1ECDi)",-1)),Z6={class:"item-input-wrap"},e4={class:"item-content item-input"},t4=K(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"envelope")],-1)),i4={class:"item-inner"},n4=K(()=>i("div",{class:"item-title item-label"},"Email \u0111\u1EC3 nh\u1EADn G\xF3p \xFD, ph\u1EA3n \u1EA3nh t\u1EEB kh\xE1ch h\xE0ng",-1)),o4={class:"item-input-wrap"},s4={class:"item-content item-input"},a4=K(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"person_alt")],-1)),l4={class:"item-inner"},r4=K(()=>i("div",{class:"item-title item-label"},"T\xEAn c\u1EE7a Nh\xE2n s\u1EF1 qu\u1EA3n l\xFD iShop",-1)),d4={class:"item-input-wrap"},c4={key:0,class:"list media"},u4=K(()=>i("div",{class:"block-header"},"Nh\xE2n s\u1EF1 Qu\u1EA3n l\xFD c\u0169ng \u0111\u01B0\u1EE3c th\xF4ng b\xE1o \u0111\u1EC3 ti\u1EC7n theo d\xF5i, gi\xE1m s\xE1t qua c\xE1c k\xEAnh",-1)),p4={class:"item-content item-input"},h4=K(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"envelope")],-1)),m4={class:"item-inner"},_4=K(()=>i("div",{class:"item-title item-label"},"T\u1EAFt / B\u1EADt",-1)),f4={class:"item-input-wrap"},g4={class:"item-inner"},v4=K(()=>i("div",{class:"item-title item-label"},"Email \u0111\u1EC3 nh\u1EADn th\xF4ng b\xE1o",-1)),C4={class:"item-input-wrap"},b4={class:"item-content item-input"},I4=K(()=>i("div",{class:"item-media"},[i("i",{class:"f7-icons size-40"},"phone_fill")],-1)),y4={class:"item-inner"},k4=K(()=>i("div",{class:"item-title item-label"},"T\u1EAFt / B\u1EADt",-1)),D4={class:"item-input-wrap"},E4={class:"item-inner"},w4=K(()=>i("div",{class:"item-title item-label"},"Th\xF4ng b\xE1o (sms) t\u1EDBi s\u1ED1 \u0111i\u1EC7n tho\u1EA1i ",-1)),N4={class:"item-input-wrap"},A4=K(()=>i("div",{class:"card-header bg-color-blue"}," Left Button",-1)),T4={class:"list media"},P4={class:"item-content item-input"},$4={class:"item-inner"},U4=K(()=>i("div",{class:"item-title item-label"},"\u1EA8n / Hi\u1EC3n th\u1ECB button",-1)),S4={class:"item-input-wrap"},R4={class:"item-content item-input"},x4={class:"item-inner"},O4=K(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),B4={class:"item-input-wrap"},H4={class:"item-content item-input"},Q4={class:"item-media"},V4={class:"f7-icons size-40"},L4={class:"item-inner"},z4=K(()=>i("div",{class:"item-title item-label"},"Icon",-1)),q4={class:"item-input-wrap"},F4=K(()=>i("div",{class:"card-header bg-color-blue"}," Center Button",-1)),M4={class:"list media"},G4={class:"item-content"},K4=p(" Hi\u1EC3n th\u1ECB / \u1EA8n"),Y4={class:"item-content item-input"},j4={class:"item-inner"},J4=K(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),W4={class:"item-input-wrap"},X4={class:"item-content item-input"},Z4={class:"item-media"},eB={class:"f7-icons size-40"},tB={class:"item-inner"},iB=K(()=>i("div",{class:"item-title item-label"},"Icon",-1)),nB={class:"item-input-wrap"},oB=K(()=>i("div",{class:"card-header bg-color-blue"},"Right Button",-1)),sB={class:"list media"},aB={class:"item-content"},lB=p(" Hi\u1EC3n th\u1ECB / \u1EA8n"),rB={class:"item-content item-input"},dB={class:"item-inner"},cB=K(()=>i("div",{class:"item-title item-label"},"Button Text",-1)),uB={class:"item-input-wrap"},pB={class:"item-content item-input"},hB={class:"item-media"},mB={class:"f7-icons size-40"},_B={class:"item-inner"},fB=K(()=>i("div",{class:"item-title item-label"},"Icon",-1)),gB={class:"item-input-wrap"},vB={class:"block"},CB={class:"block-footer"},bB=p(" Danh s\xE1ch iCon tham kh\u1EA3o \u1EDF ");function IB(e,t,l,c,o,r){const _=a("f7-fab"),f=a("image-picker"),g=a("i-shop-info"),v=a("i-block-content"),I=a("i-pet-form"),C=a("i-block"),b=a("i-pet-connect"),m=a("i-pet-update-history");a("f7-icon");const y=a("i-shop-block-content"),E=a("i-shop-block"),T=a("f7-block-title"),P=a("i-pet-management"),O=a("f7-page"),x=a("i-pet-update"),B=a("f7-popup"),H=a("f7-link"),$=a("f7-nav-right"),M=a("f7-navbar"),j=a("f7-toggle"),Y=a("f7-card");return d(),h(N,null,[n(O,{"no-navbar":!0},{default:s(()=>[o.center_bottom.enable?(d(),D(_,{key:0,position:"center-bottom",color:"green",text:o.center_bottom.text,onClick:t[0]||(t[0]=R=>r.openPopup("CENTER"))},{default:s(()=>[i("i",l6,u(o.center_bottom.icon),1)]),_:1},8,["text"])):k("",!0),i("div",{class:"demo-wrap",style:Oe("--bg-image: url("+o.data.backgroundUrl+")")},[l.isView?k("",!0):(d(),h("div",r6,[n(f,{icon:"",onFile:r.onFile},null,8,["onFile"])])),i("div",d6,[A(n(g,{id:o.ishop.id,isView:!0,ishop:o.ishop.ishop},null,8,["id","ishop"]),[[F,o.enableIshop&&l.isView]]),i("section",null,[n(v,{data:o.data.deviceMetadata.iPetHeader,refreshIndex:o.refreshIndex,onUpdated:r.updateHeader,showTitle:!1,isView:l.isView,showButton:!1},null,8,["data","refreshIndex","onUpdated","isView"])]),n(I,{isView:l.isView,info:o.data.deviceMetadata.iPet,onUpdate:r.updateInfo},null,8,["isView","info","onUpdate"]),(d(!0),h(N,null,Q(r.showButtons,R=>(d(),D(C,{key:R.name,title:R.name,isView:l.isView,data:R,refreshIndex:o.refreshIndex,onUpdate:r.notifyUpdate,onClickAction:r.clickAction},null,8,["title","isView","data","refreshIndex","onUpdate","onClickAction"]))),128)),n(b,{id:l.id,privateCode:l.privateCode,info:{}},null,8,["id","privateCode"]),n(m,{id:l.id,privateCode:l.privateCode,refresh:o.refreshIndex,isView:l.isView},null,8,["id","privateCode","refresh","isView"]),i("div",c6,[u6,i("div",p6,[i("div",h6,u(o.data.ownerName||"..."),1),i("div",m6,[o.data.ownerPhoneNumber?(d(),h("div",_6,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i: "+u(o.data.ownerPhoneNumber),1)):k("",!0),o.data.ownerAddress?(d(),h("div",f6,u(o.data.ownerAddress),1)):k("",!0)])]),l.isView?k("",!0):(d(),h("div",g6,[i("button",{class:"button button-round button-outline",onClick:t[1]||(t[1]=R=>r.editOwner())}," Edit ")]))]),i("section",v6,[k("",!0)]),o.enableIshop&&l.isView?(d(),h("section",C6,[n(y,{data:o.ishop.ishopHeader,showTitle:!1,isView:!0,showButton:!1},null,8,["data"]),i("div",null,[(d(!0),h(N,null,Q(r.showIshopButtons,R=>(d(),D(E,{key:R.name,title:R.name,isView:!0,data:R,onClickAction:r.clickIshopAction},null,8,["title","data","onClickAction"]))),128))])])):k("",!0),l.isView?(d(),h("div",b6,[n(T,{style:{"text-align":"center","margin-top":"0px"}},{default:s(()=>[p(" ID: "+u(e.$utils.formatQRID(l.id)),1)]),_:1})])):k("",!0),l.isView?k("",!0):(d(),D(P,{key:2,id:l.id,privateCode:l.privateCode},null,8,["id","privateCode"]))])],4)]),_:1}),n(B,{opened:o.enableCenter,"onUpdate:opened":t[5]||(t[5]=R=>o.enableCenter=R),"tablet-fullscreen":!0},{default:s(()=>[n(x,{id:l.id,onSend:t[4]||(t[4]=R=>r.closePopup("CENTER"))},null,8,["id"])]),_:1},8,["opened"]),n(B,{opened:o.enableOwnerEdit,"onUpdate:opened":t[12]||(t[12]=R=>o.enableOwnerEdit=R),"tablet-fullscreen":!0},{default:s(()=>[n(O,null,{default:s(()=>[n(M,{title:"Edit Owner"},{default:s(()=>[n($,null,{default:s(()=>[n(H,{onClick:t[6]||(t[6]=R=>o.enableOwnerEdit=!1)},{default:s(()=>[I6]),_:1})]),_:1})]),_:1}),i("div",y6,[i("div",k6,[i("div",D6,[i("div",E6,[w6,i("div",N6,[A(i("input",{type:"text",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=R=>o.data.ownerName=R)},null,512),[[V,o.data.ownerName]]),A6])])]),i("div",T6,[i("div",P6,[$6,i("div",U6,[A(i("input",{type:"text",placeholder:"","onUpdate:modelValue":t[8]||(t[8]=R=>o.data.ownerPhoneNumber=R)},null,512),[[V,o.data.ownerPhoneNumber]]),S6])])]),i("div",R6,[i("div",x6,[O6,i("div",B6,[A(i("input",{type:"text",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=R=>o.data.ownerAddress=R)},null,512),[[V,o.data.ownerAddress]]),H6])])]),i("div",Q6,[i("div",V6,[L6,i("div",z6,[A(i("input",{type:"number",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=R=>o.data.ownerId=R)},null,512),[[V,o.data.ownerId]]),q6])])])]),i("div",F6,[i("button",{class:"button button-round button-fill",onClick:t[11]||(t[11]=R=>r.updateOwnerData())}," C\u1EADp nh\u1EADt ")])])]),_:1})]),_:1},8,["opened"]),n(B,{opened:o.enableFab,"onUpdate:opened":t[32]||(t[32]=R=>o.enableFab=R),"tablet-fullscreen":!0},{default:s(()=>[n(O,null,{default:s(()=>[n(M,{title:"Setup  Float Actions"},{default:s(()=>[n($,null,{default:s(()=>[n(H,{onClick:t[13]||(t[13]=R=>{o.enableFab=!1})},{default:s(()=>[M6]),_:1})]),_:1})]),_:1}),i("div",G6,[K6,i("div",Y6,[i("ul",null,[i("li",j6,[J6,i("div",W6,[X6,i("div",Z6,[A(i("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=R=>o.data.hotline=R)},null,512),[[V,o.data.hotline]])])])]),i("li",e4,[t4,i("div",i4,[n4,i("div",o4,[A(i("input",{type:"email","onUpdate:modelValue":t[15]||(t[15]=R=>o.data.email=R)},null,512),[[V,o.data.email]])])])]),i("li",s4,[a4,i("div",l4,[r4,i("div",d4,[A(i("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=R=>o.data.managerName=R)},null,512),[[V,o.data.managerName]])])])])])]),r.isTest?(d(),h("div",c4,[u4,i("ul",null,[i("li",p4,[h4,i("div",m4,[_4,i("div",f4,[n(j,{color:"blue",checked:o.data.manager.enableEmail,"onUpdate:checked":t[17]||(t[17]=R=>o.data.manager.enableEmail=R)},null,8,["checked"])])]),i("div",g4,[v4,i("div",C4,[A(i("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=R=>o.data.manager.email=R)},null,512),[[V,o.data.manager.email]])])])]),i("li",b4,[I4,i("div",y4,[k4,i("div",D4,[n(j,{color:"blue",checked:o.data.manager.enablePhoneNumber,"onUpdate:checked":t[19]||(t[19]=R=>o.data.manager.enablePhoneNumber=R)},null,8,["checked"])])]),i("div",E4,[w4,i("div",N4,[A(i("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=R=>o.data.manager.phoneNumber=R)},null,512),[[V,o.data.manager.phoneNumber]])])])]),i("li",null,[i("button",{class:"button",onClick:t[21]||(t[21]=R=>r.test())},"Test")])])])):k("",!0)]),r.isTest?(d(),D(Y,{key:0},{default:s(()=>[A4,i("div",T4,[i("ul",null,[i("li",P4,[i("div",$4,[U4,i("div",S4,[n(j,{color:"blue",checked:o.left_bottom.enable,"onUpdate:checked":t[22]||(t[22]=R=>o.left_bottom.enable=R)},null,8,["checked"])])])]),i("li",R4,[i("div",x4,[O4,i("div",B4,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[23]||(t[23]=R=>o.left_bottom.text=R)},null,512),[[V,o.left_bottom.text]])])])]),i("li",H4,[i("div",Q4,[i("i",V4,u(o.left_bottom.icon),1)]),i("div",L4,[z4,i("div",q4,[A(i("input",{type:"text","onUpdate:modelValue":t[24]||(t[24]=R=>o.left_bottom.icon=R)},null,512),[[V,o.left_bottom.icon]])])])])])])]),_:1})):k("",!0),n(Y,null,{default:s(()=>[F4,i("div",M4,[i("ul",null,[i("li",G4,[K4,n(j,{color:"blue",checked:o.center_bottom.enable,"onUpdate:checked":t[25]||(t[25]=R=>o.center_bottom.enable=R)},null,8,["checked"])]),i("li",Y4,[i("div",j4,[J4,i("div",W4,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[26]||(t[26]=R=>o.center_bottom.text=R)},null,512),[[V,o.center_bottom.text]])])])]),i("li",X4,[i("div",Z4,[i("i",eB,u(o.center_bottom.icon),1)]),i("div",tB,[iB,i("div",nB,u(o.center_bottom.icon),1)])])])])]),_:1}),n(Y,null,{default:s(()=>[oB,i("div",sB,[i("ul",null,[i("li",aB,[lB,n(j,{color:"blue",checked:o.right_bottom.enable,"onUpdate:checked":t[27]||(t[27]=R=>o.right_bottom.enable=R)},null,8,["checked"])]),i("li",rB,[i("div",dB,[cB,i("div",uB,[A(i("input",{type:"text",maxlength:"8","onUpdate:modelValue":t[28]||(t[28]=R=>o.right_bottom.text=R)},null,512),[[V,o.right_bottom.text]])])])]),i("li",pB,[i("div",hB,[i("i",mB,u(o.right_bottom.icon),1)]),i("div",_B,[fB,i("div",gB,[A(i("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=R=>o.right_bottom.icon=R)},null,512),[[V,o.right_bottom.icon]])])])])])])]),_:1}),i("div",vB,[i("button",{class:"button button-large button-fill button-round",onClick:t[30]||(t[30]=(...R)=>r.updateFloatActions&&r.updateFloatActions(...R))},"Save"),i("div",CB,[bB,i("a",{onClick:t[31]||(t[31]=R=>r.goIcon())}," List iCons ")])])]),_:1})]),_:1},8,["opened"])],64)}var Ye=S(a6,[["render",IB],["__scopeId","data-v-23e4bc23"]]),yB=[{path:"/",component:ai},{path:"/sample",component:bt},{path:"/vinaas",component:be,options:{props:{id:100010010880001,privateCode:"273",isView:!0,accessType:"SCAN",index:2}}},{path:"/ishowroom",component:be,options:{props:{id:100010010880005,privateCode:"951",isView:!0,accessType:"SCAN",index:2}}},{path:"/ishop",component:be,options:{props:{id:100010010880003,privateCode:"359",isView:!0,accessType:"SCAN",index:2}}},{path:"/icard",component:re,options:{props:{id:100010010560001,privateCode:"42",isView:!0,accessType:"SCAN",index:2}}},{path:"/icard-edit",component:Ke,options:{props:{id:100010010560085,privateCode:"42035451",isView:!1,accessType:"SCAN"}}},{path:"/icard-lite",component:re,options:{props:{id:100010010560085,privateCode:"51",isView:!1,accessType:"SCAN"}}},{path:"/s/:id/i/:index/p/:privateCode",component:be,options:{props:{accessType:"SCAN"}}},{path:"/snfc/:id/i/:index/p/:privateCode",component:be,options:{props:{accessType:"NFC"}}},{path:"/surl/:id/i/:index/p/:privateCode",component:be,options:{props:{accessType:"URL"}}},{path:"/s-edit/:id/p/:privateCode",component:be,options:{props:{isView:!1,index:"-1",accessType:"SCAN"}}},{path:"/edit-card/:id/p/:privateCode",component:Ke,options:{props:{isView:!1,accessType:"SCAN"}}},{path:"/n/:id/p/:privateCode",component:re,options:{props:{accessType:"SCAN",index:0}}},{path:"/n/:id/p/:privateCode/i/:index",component:re,options:{props:{accessType:"SCAN"}}},{path:"/nfc/:id/p/:privateCode",component:re,options:{props:{accessType:"NFC"}}},{path:"/url/:id/p/:privateCode",component:re,options:{props:{accessType:"URL"}}},{path:"/link/:id/p/:privateCode",component:re,options:{props:{accessType:"LINK"}}},{path:"/p/:id/p/:privateCode",component:Ye,options:{props:{accessType:"SCAN"}}},{path:"/pnfc/:id/p/:privateCode",component:Ye,options:{props:{accessType:"NFC"}}},{path:"/purl/:id/p/:privateCode",component:Ye,options:{props:{accessType:"URL"}}},{path:"/pet-edit/:id/p/:privateCode",component:Ye,options:{props:{isView:!1,index:"-1",accessType:"SCAN"}}},{path:"/u/:id/t/:access_token",component:nl},{path:"/sale/:id/p/:privateCode",component:nd},{path:"/op/:id/p/:privateCode",component:hu},{path:"/qrmemberscan",component:Ct},{path:"/setup/:id/p/:privateCode",component:xd},{path:"/admin/:id/p/:privateCode",component:Gc},{path:"/pack/:packageId/p/:privateCode",component:Ic},{path:"/m/:id/i/:index/p/:privateCode",component:Mr},{path:"/setup-card/:id/p/:privateCode",component:Tf},{path:"/id/:id/i/:index/p/:privateCode",component:Ge,options:{props:{accessType:"SCAN"}}},{path:"/infc/:id/i/:index/p/:privateCode",component:Ge,options:{props:{accessType:"NFC"}}},{path:"/id-url/:id/i/:index/p/:privateCode",component:Ge,options:{props:{accessType:"URL"}}},{path:"/id-edit/:id/p/:privateCode",component:Ge,options:{props:{isView:!1,index:"-1",accessType:"SCAN"}}},{path:"/idoc/:id/i/:index/p/:privateCode",component:SI,options:{props:{accessType:"NFC"}}},{path:"/d/:id/p/:privateCode",component:_o},{path:"/l/:id/p/:privateCode",component:pa},{path:"/pb/:id/p/:privateCode",component:fa},{path:"/a/:id/p/:privateCode",component:Qa},{path:"/login/",component:il},{path:"(.*)",component:Ci}];const kB={setup(){const e={name:"QRCare.vn",theme:"auto",version:"1.2.4",view:{browserHistory:!0},store:he,routes:yB},t=$e(""),l=$e(""),c=()=>{w.dialog.alert("Username: "+t.value+"<br>Password: "+l.value,()=>{w.loginScreen.close()})};return qt(()=>{Ft(()=>{})}),{f7params:e,username:t,password:l,alertLoginData:c}}},DB=p("Right panel content goes here"),EB=p("Close"),wB=i("p",null,"Popup content goes here.",-1),NB=p("Login"),AB=p("quet"),TB=p(" Some text about login information."),PB=i("br",null,null,-1),$B=p('Click "Sign In" to close Login Screen ');function UB(e,t,l,c,o,r){const _=a("f7-navbar"),f=a("f7-block"),g=a("f7-page"),v=a("f7-view"),I=a("f7-panel"),C=a("f7-link"),b=a("f7-nav-right"),m=a("f7-popup"),y=a("f7-login-screen-title"),E=a("f7-button"),T=a("f7-list-input"),P=a("f7-list"),O=a("f7-list-button"),x=a("f7-block-footer"),B=a("f7-login-screen"),H=a("f7-app");return d(),D(H,Mt(Gt(c.f7params)),{default:s(()=>[n(I,{right:"",reveal:"","theme-dark":""},{default:s(()=>[n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[n(_,{title:"Right Panel"}),n(f,null,{default:s(()=>[DB]),_:1})]),_:1})]),_:1})]),_:1}),n(v,{main:"",class:"safe-areas",url:"/"}),n(m,{id:"my-popup"},{default:s(()=>[n(v,null,{default:s(()=>[n(g,null,{default:s(()=>[n(_,{title:"Popup"},{default:s(()=>[n(b,null,{default:s(()=>[n(C,{"popup-close":""},{default:s(()=>[EB]),_:1})]),_:1})]),_:1}),n(f,null,{default:s(()=>[wB]),_:1})]),_:1})]),_:1})]),_:1}),n(B,{id:"my-login-screen"},{default:s(()=>[n(v,null,{default:s(()=>[n(g,{"login-screen":""},{default:s(()=>[n(y,null,{default:s(()=>[NB]),_:1}),n(E,{href:"/login/"},{default:s(()=>[AB]),_:1}),n(P,{form:""},{default:s(()=>[n(T,{type:"text",name:"username",placeholder:"Your username",value:c.username,"onUpdate:value":t[0]||(t[0]=$=>c.username=$)},null,8,["value"]),n(T,{type:"password",name:"password",placeholder:"Your password",value:c.password,"onUpdate:value":t[1]||(t[1]=$=>c.password=$)},null,8,["value"])]),_:1}),n(P,null,{default:s(()=>[n(O,{title:"Sign In",onClick:c.alertLoginData},null,8,["onClick"]),n(x,null,{default:s(()=>[TB,PB,$B]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},16)}var SB=S(kB,[["render",UB]]),U=dt.create({baseURL:z.BASE_URL,headers:{"content-type":"application/json"}});let RB={buttons:[{name:"address",type:"text",icon:"house",placeholder:"\u0110\u1ECBa ch\u1EC9"},{name:"email",type:"email",icon:"envelope",placeholder:""},{name:"blog",type:"url",icon:"link_circle",placeholder:"link of personal blog, profile"},{name:"facebook",type:"url",icon:"logo_facebook",placeholder:""},{name:"skype",type:"text",icon:"/assets/skype.png",placeholder:""},{name:"linkedin",type:"url",icon:"logo_linkedin",placeholder:""},{name:"zalo",type:"text",icon:"/assets/zalo.png",placeholder:"https://zalo.me/...."},{name:"twitter",type:"url",icon:"logo_twitter",placeholder:""},{name:"instagram",type:"url",icon:"logo_instagram",placeholder:""},{name:"whatsapp",type:"url",icon:"/assets/WhatsApp.svg.png",placeholder:""},{name:"tiktok",type:"url",icon:"/assets/tiktok.png",placeholder:""},{name:"telegram",type:"url",icon:"/assets/telegram.png",placeholder:""},{name:"messenger",type:"url",icon:"/assets/messenger.svg",placeholder:""},{name:"momo",type:"url",icon:"/assets/momo.png",placeholder:"https://me.momo.vn/qr-page/..."},{name:"website",type:"url",icon:"link_circle",placeholder:"order link"},{name:"tiki",type:"url",icon:"/assets/tiki.png",placeholder:""},{name:"lazada",type:"url",icon:"/assets/lazada.png",placeholder:""},{name:"shopee",type:"url",icon:"/assets/shopee.png",placeholder:"https://shopee.vn/product/..."}]},Ie={getNoAvatar(){return"https://apps.vinaas.com/file/tgs5EFo1O"},getNoBanner(){return"https://apps.vinaas.com/file/fn4Cz6hOj"},getDeviceId(){let e=localStorage.getItem("qrcareId");return e||(e=w.utils.id(),localStorage.setItem("qrcareId",e)),e},getDeviceOS(){let e=Pe();return{os:e.os,osVersion:e.osVersion||"1.0"}},getAction(e,t,l="QRCODE",c=""){return{qrid:e,privateCode:t,type:l,time:new Date().toISOString(),deviceId:this.getDeviceId(),deviceInfo:this.getDeviceOS(),note:c}},getFilename(e){if(e){var t=e.toString().match(/.*\/(.+?)\./);if(t&&t.length>1)return t[1]}return""},getIcon(e){let l=RB.buttons.find(c=>c.name==e);return l?(console.log("getIcon",l),l.icon):""},blobCreationFromURL(e){const t=e.split(","),l=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),c=t[0].split(":")[1].split(";")[0],o=new Uint8Array(l.length);for(let r=0;r<l.length;r++)o[r]=l.charCodeAt(r);return new Blob([o],{type:c})},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},firstImage(e){return e&&e.length>0?e[0]:this.getNoAvatar()},getFilter(e=null){return e||{skip:0,limit:10}},list_qrid(e,t,l){let c=[];if(t>=0&&l>0){for(var o=t;o<=l;o++)if(!(o>=1e4)){var r=e*1e4+o;c.push(r)}}return c},qrid_index(e){try{let l=e.toString().slice(11);var t=parseInt(l);return t}catch(l){return-1}},qrid_package(e){try{let l=e.toString().slice(0,11);var t=parseInt(l);return t}catch(l){return-1}},qrid_setup(e){return e>0?this.qrid_package(e)*1e4+9901:0},is_setup(e){if(e>0)return e%1e4>9900},formatQRID(e){if(e)return e.toString().slice(0,11)+"."+e.toString().slice(11)},shortQRID(e){if(e)return this.formatQRID(e).slice(7)},formatDate(e){if(e)return je(new Date(e),"dd-MM-yyyy")},formatDistanceToNow(e){if(e)return ct(new Date(e),{includeSeconds:!0,addSuffix:!0,locale:Je})},formatDistance(e,t){if(e&&t)return Kt(new Date(e),new Date(t),{includeSeconds:!0,locale:Je})},formatDateTime(e){return e?je(new Date(e),"dd-MM-yyyy hh:mm"):""},isAfterTime(e,t){let c=new Date().getTime()-new Date(e).getTime();return t*1e3>c},ivoucherID(e){return e.includes("iVoucher")?e.split("-")[1]:null},formatMoney(e){return e>0?new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e):""},clickCall(e){console.log("clickCall",e),e&&(window.location="tel:"+e)},clickLink(e){window.open(e)},clickMail(e){console.log("mailto",e),e&&(window.location="mailto:"+e)},actionText(e){return e=="SCAN"?"Qu\xE9t QRCode":e=="NFC"?"Ch\u1EA1m NFC":e=="CALL"?"B\u1EA5m g\u1ECDi \u0111i\u1EC7n":e=="EMAIL"?"Click Email":e=="CONTACT"?"L\u01B0u danh b\u1EA1":e=="PAID"?"\u0110\xE3 mua":e=="CONFIRMED"?"\u0110\xE3 x\xE1c nh\u1EADn":e=="ACTIVE"?"\u0110\xE3 k\xEDch ho\u1EA1t":e},actionIcon(e){if(e=="SCAN")return"qrcode";if(e=="NFC")return"/assets/nfc.png";if(e=="CLICK")return"/assets/touch.png";if(e=="LINK"||e=="URI")return"link_circle";if(e=="CALL")return"phone_arrow_down_left";if(e=="EMAIL")return"envelope";if(e=="CONTACT")return"person_crop_circle"},getLogoOS(e){return e=="macos"?"device_desktop":e=="ios"?"logo_apple":e=="android"?"logo_android":e=="windows"?"logo_windows":e},actionMessage(e,t){const l=ct(new Date(t),{includeSeconds:!0,addSuffix:!0,locale:Je});return`${this.actionText(e)} ${l}, l\xFAc ${je(new Date(t),"hh:mm:ss.aaa")}`},isOrganization(e){return e.ownerOrganizationId>0},notGenerated(e){return e=="NOT_GENERATED"},parseIShopUrl(e){let t={status:"INVALID"},l=new URL(e);if(!l)return t;let o=l.pathname.split("/");return o[1]=="s"&&o[5]=="p"&&(t={status:"VALID",url:e,id:o[2],index:o[4],privateCode:o[6]}),console.log(t),t},async onFile(e,t="istand"){const{file:l,fileContent:c}=e;try{var o=this.dataURItoBlob(c);const r=new FormData;r.append("canvasImage",o);let _="https://media.vinaas.com/upload/"+t;const{data:f}=await U.post(_,r,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(f&&f.id)return"https://apps.vinaas.com/file/"+f.id}catch(r){console.log("err",r)}finally{}},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var l=e.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(t.length),o=0;o<t.length;o++)c[o]=t.charCodeAt(o);return new Blob([c],{type:l})}},xB={async confirmQRTask(e){e.status="CONFIRMED",e.modified=new Date().toISOString(),!!e.id},async confirmQRDelivery(e){},async createQRFeedback(e){return e.type="ACTIVITY.QR_FEEDBACK",await this.createRequest(e)},async createQRRequest(e){return e.type="ACTIVITY.QR_REQUEST",await this.createRequest(e)},async createSupplierRequest(e){return e.type="ACTIVITY.SUPPLIER_REQUEST",await this.createRequest(e)},async createQRcareRequest(e){return e.type="ACTIVITY.QRCARE_REQUEST",await this.createRequest(e)},async createQRCall(e){return e.type="ACTIVITY.QRCALL",await this.createRequest(e)},async createNote(e){},async createRequest(e){return e.created=new Date().toUTCString(),e.status="CREATED",U.defaults.baseURL=z.BASE_URL,(await U.post("/QRActivities",e)).data||{}},async getActivities(e,t,l=5,c=0){let o=parseFloat(e);return(await U.get("/QRActivities/",{params:{filter:{where:{qrid:o,type:{inq:t}},limit:l,order:"id desc"}}})).data||{}},async getCardActivity(e){return(await U.get("/QRActivities/"+e)).data||{}},async getVcard(e,t){return(await U.get(`/QRIDs/vCard?qrid=${e}&privateCode=${t}`)).data||{}},async activeQRMember(e,t){try{U.defaults.baseURL=z.BASE_URL,t.status="QRID_STATUS.ACTIVE",t.modified=new Date;var l=await U.patch("/QRIDs/"+e,t);return!0}catch(c){return!1}},async activeQRLoyalty(e,t){try{U.defaults.baseURL=z.BASE_URL,t.status="ACTIVE",t.modified=new Date;var l=await U.patch("/QRIDs/"+e,t);return!0}catch(c){return!1}},async existQRID(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.get(`QRIDs/${e}/exists`);return t.data}catch(l){console.log("error",l)}},async getQRID(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/"+e);return l.data}catch(c){console.log("error",c)}},async getShowIcard(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/showIcard",{params:{id:parseInt(e),privateCode:t}});return l.data}catch(c){console.log("error",c)}},async getIshopAuthentic(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/"+e,{params:{filter:{fields:["id","imageUrls","metadata"]}}});return l.data}catch(c){console.log("error",c)}},async iCheck(e,t,l,c="SCAN"){try{let r=Ie.getDeviceId(),_=Ie.getDeviceOS();U.defaults.baseURL=z.BASE_URL;let f={accessType:c,deviceCode:r,os:_.os,osVersion:_.osVersion};var o=await U.get("QRIDs/iCheck",{params:{id:parseInt(e),index:t,privateCode:l,data:f}});return console.log("iCheck()",o.data),o.data}catch(r){console.log("error",r)}},async getIDocument(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("QRIDs/iDocument",{params:{id:parseInt(e),index:t,privateCode:l}});return c.data}catch(o){console.log("error",o)}},async verifyCard(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get(`QRIDs/verify?id=${e}&privateCode=${t}`);return l.data}catch(c){console.log("error",c)}},async initCard(e,t,l){try{let o=parseInt(e);U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/initCard",{id:o,privateCode:t,data:l});return c.data}catch(o){console.log("error",o)}},async updateCard(e,t,l){try{U.defaults.baseURL=z.BASE_URL,l.modified=new Date().toISOString();var c=await U.patch("QRIDs/"+e,l);return c.data}catch(o){console.log("error",o)}},async updateIshopCheckin(e,t){try{U.defaults.baseURL=z.BASE_URL;let c={ownerMetadata:t};var l=await U.patch("/QRIDs/"+e,c);return!0}catch(c){return!1}},async activeCard(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/activeCard",{id:e,privateCode:t,data:l});return c.data}catch(o){return!1}},async getCardHistory(e,t,l={limit:10}){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("QRIDs/"+e+"/history",{params:{filter:l}});return c.data}catch(o){console.log("error",o)}},async getIShopContacts(e,t,l={limit:10}){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("QRIDs/getIShopContacts",{params:{ishopId:parseInt(e),privateCode:t,filter:l}});return c.data}catch(o){console.log("error",o)}},async getIcardReports(e,t,l={limit:10}){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("QRIDs/getIcardReports",{params:{ishopId:parseInt(e),privateCode:t,filter:l}});return c.data}catch(o){console.log("error",o)}},async getRecentActivity(e,t,l={limit:10}){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get(`/QRIDs/recentActivity?qrid=${e}&privateCode=${t}`);return c.data}catch(o){console.log("error",o)}},async getQRCustomerBySale(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get(`QRIDs/getQRCustomers?qrid=${e}&privateCode=${t}`);return console.log("getQRCustomerBySale",e,l.data),l.data}catch(c){console.log("error",c)}},async getQRCustomers(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("People",{params:{filter:{where:{qrid:e},fields:["qrUrl","name","info","qrid","status","modified"],limit:20,order:"modified desc"}}});return console.log("getQRCustomerBySale",e,l.data),l.data}catch(c){console.log("error",c)}},async scanQRCustomer(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get(`People/scanQRCustomer?qrid=${e}&index=${t}&privateCode=${l}`);return c.data}catch(o){console.log("error",o)}},async PersonAction(e,t,l="SCAN",c=-1,o=null){let r=Ie.getDeviceId(),_=Ie.getDeviceOS();o?(o.os=_.os,o.osVersion=_.osVersion):o=_;let f=parseInt(e),g=parseInt(c),v={qrid:f,privateCode:t,deviceCode:r,type:l,userIndex:g,data:o};try{console.log("record",v),U.defaults.baseURL=z.BASE_URL;var I=await U.post("UserActions/addAction",v);return console.log(I.data),I.data}catch(C){console.log("error",C)}},async createQRCheckin(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.post("QRCheckins",e);return t.data}catch(l){return console.log("error",l),null}},async createQRConnect(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.post("QRConnects",e);return t.data}catch(l){return console.log("error",l),null}},async UserActionHistory(e,t){let l=parseInt(e);try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("UserActions/actionHistory/",{params:{qrid:l,privateCode:t}});return c.data}catch(o){return console.log("error",o),null}},async UserDeviceAction(e,t,l){let c=parseInt(e);try{U.defaults.baseURL=z.BASE_URL;var o=await U.get("UserActions/actionDevice/",{params:{qrid:c,privateCode:t,deviceId:l}});return console.log(o.data),o.data}catch(r){return console.log("error",r),null}},async updateUserInfo(e,t,l,c){try{U.defaults.baseURL=z.BASE_URL;let r=parseInt(e);var o=await U.post("UserActions/updateUserInfo",{qrid:r,privateCode:t,deviceId:l,userInfo:c});return o.data}catch(r){return console.log("error",r),null}},async OwnerAction(e,t,l="CHECK_SCAN",c=null,o=0){let r=Ie.getDeviceId();c||(c=Ie.getDeviceOS());let f={qrid:parseInt(e),privateCode:t,deviceCode:r,type:l,data:c};try{U.defaults.baseURL=z.BASE_URL;var g=await U.post("QRIDs/addAction",f);return console.log(g.data),g.data}catch(v){console.log("error",v)}},async getQRIDsOfSetup(e,t){try{let c=parseInt(e);U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/manageQRIDs",{params:{qrid:c,privateCode:t}});return l.data}catch(c){return console.log("error",c),null}},async getQRCustomer(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.get(`People/${e}`);return t.data}catch(l){return console.log("error",l),null}},async clearCustomer(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.delete(`People/${e}`);return t.data}catch(l){console.log("error",l)}},async createCustomer(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.post("People",e);return t.data}catch(l){console.log("error",l)}},async updateQRCustomer(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.patch(`People/${e}`,t);return l.data}catch(c){console.log("error",c)}},async getIvouchers(e,t){try{let c=parseInt(e);U.defaults.baseURL=z.BASE_URL;var l=await U.get("People",{params:{filter:{where:{qrid:c}}}});return l.data}catch(c){console.log("error",c)}},async updateQRSaleInfo(e,t,l){try{U.defaults.baseURL=z.BASE_URL,t.modified=new Date().toISOString(),console.log("patchQRSale()",e,t);var c=await U.patch("QRIDs/"+e,t);return c.data}catch(o){console.log("error",o)}},async updateISale(e,t,l){try{l.id&&delete l.id,U.defaults.baseURL=z.BASE_URL,l.modified=new Date().toISOString();var c=await U.patch("QRIDs/"+e,l);return c.data}catch(o){console.log("error",o)}},async updateIshopInfoOfICard(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/updateIshopInfoOfICard",{icardId:parseInt(e),privateCode:t.toString(),ishop:l});return c.data}catch(o){console.log("error",o)}},async updateIshopInfo(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/updateIshop",{ishopId:parseInt(e),privateCode:t,ishop:l});return c.data}catch(o){console.log("error",o)}},async addIcard2Ishop(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/addIcard2Ishop",{ishopId:parseInt(e),privateCode:t,icardId:parseInt(l)});return c.data}catch(o){console.log("error",o)}},async removeIcard2Ishop(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.post("QRIDs/removeIcard2Ishop",{ishopId:parseInt(e),privateCode:t,icardId:parseInt(l)});return c.data}catch(o){console.log("error",o)}},async getLifecycle(e,t){try{let c=parseInt(e);U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/getLifecycle",{params:{qrid:c,privateCode:t}});return l.data}catch(c){console.log("error",c)}},async getProjectSummary(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRPackages/summary",{params:{packageId:e,privateCode:t}});return l.data}catch(c){console.log("error",c)}},async getPrivateCode(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c=await U.get("QRIDs/getPrivateCode",{params:{qrid:e,index:t,privateCode:l}});return c.data}catch(o){console.log("error",o)}},async getQRList(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get(`QRPackages/${e}/qridlist`,{params:{filter:{where:{status:"QRID_STATUS.ACTIVE"},order:"id desc"}}});return l.data}catch(c){console.log("error",c)}},async countUserActions(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.get("UserActions/count",{params:{where:{qrid:e}}});return t.data}catch(l){console.log("error",l)}},async getIcardsOfIshop(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.get("QRIDs/getIcards",{params:{qrid:e,privateCode:t}});return l.data}catch(c){console.log("error",c)}},async countICustomers(e,t=null){try{U.defaults.baseURL=z.BASE_URL;var l={sellerId:e};e.toString()=="100010010880001"&&(l.sellerId={gt:1e7}),t&&(l.status=t);var c=await U.get("QRIDs/count",{params:{where:l}});if(c)return c.data.count}catch(o){console.log("error",o)}},async checkPaymentOfIcard(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c={icardId:e,ishopId:t,actionType:"PAID"},o=await U.get("QRCheckins",{params:{filter:{where:c,order:"id desc",limit:3}}});return o.data}catch(r){console.log("error",r)}},async getCheckinList(e){try{U.defaults.baseURL=z.BASE_URL;var t={ishopId:e,or:[{actionType:"CHECKIN"},{actionType:"CHECKIN.BYSELF"}]},l=await U.get("QRCheckins",{params:{filter:{where:t,order:"id desc",limit:100}}});return l.data}catch(c){console.log("error",c)}},async getPayemtList(e){try{U.defaults.baseURL=z.BASE_URL;var t={type:"ACTIVITY.ISHOP_PAYMENT",activityId:{inq:e}},l=await U.get("QRActivities",{params:{filter:{where:t}}});return l.data}catch(c){console.log("error",c)}},async getCheckinOfUser(e,t=10){try{U.defaults.baseURL=z.BASE_URL;var l={icardId:e,or:[{actionType:"CHECKIN"},{actionType:"CHECKIN.BYSELF"}]},c=await U.get("QRCheckins",{params:{filter:{where:l,order:"id desc",limit:t}}});return c.data}catch(o){console.log("error",o)}},async getCheckinByICard(e,t,l={}){try{U.defaults.baseURL=z.BASE_URL,l?l.where?l.where.icardId=e:l.where={icardId:e}:l={where:{icardId:e}},l.order="id desc";var c=await U.get("QRCheckins",{params:{filter:l}});return c.data}catch(o){console.log("error",o)}},async getConnectByICard(e,t,l={}){try{U.defaults.baseURL=z.BASE_URL;let r=parseFloat(e);var c=await U.get("QRConnects",{params:{filter:{where:{or:[{firstId:r},{secondId:r}]},limit:20,order:"id desc"}}});let _=c.data,f=[];_.forEach(v=>{v.firstId&&v.firstId!=e&&f.push(v.firstId),v.secondId&&v.secondId!=e&&f.push(v.secondId)});var o=await U.get("QRIDs",{params:{filter:{where:{id:{inq:f}},fields:["id","ownerName","imageUrls"],order:"id desc"}}});let g=o.data;for(let v=0;v<_.length;v++){let I=_[v].firstId,C=g.find(b=>{if(b.id.toString()==_[v].firstId||b.id.toString()==_[v].secondId)return b});C?(_[v].user=C,_[v].imageUrls=C.imageUrls,_[v].message="K\u1EBFt n\u1ED1i v\u1EDBi "+C.ownerName):_.imageUrls=["https://apps.vinaas.com/file/tgs5EFo1O"]}return _}catch(r){console.log("error",r)}},async checkListPayments(e,t){try{U.defaults.baseURL=z.BASE_URL;var l={ishopId:e,actionType:"PAID"},c=await U.get("QRCheckins",{params:{filter:{where:l,fields:["icardId"]}}});if(c.data){let r=c.data.map(_=>_.icardId);var o=await U.get("QRIDs",{params:{filter:{where:{id:{inq:r}},fields:["id","ownerName","ownerPhoneNumber","private","metadata","imageUrls","status","sellerId","modified"],order:"modified desc"}}});return o.data}return c.data}catch(r){console.log("error",r)}},async getICustomers(e,t,l){try{U.defaults.baseURL=z.BASE_URL;var c={sellerId:e};e.toString()=="100010010880001"&&(c.sellerId={gt:1e7});let r=_e(_e({},c),t);var o=await U.get("QRIDs",{params:{filter:{where:r,fields:["id","ownerName","ownerPhoneNumber","private","metadata","imageUrls","status","sellerId","modified"],limit:100,order:"modified desc"}}});return o.data}catch(r){console.log("error",r)}},async searchiCard(e,t,l,c){try{U.defaults.baseURL=z.BASE_URL;var o={sellerId:e};e.toString()=="100010010880001"&&(o.sellerId={gt:1e7}),l&&(o.status=l),o.ownerName={ilike:t};var r=await U.get("QRIDs",{params:{filter:{where:o,fields:["id","ownerName","ownerPhoneNumber","status","modified"]}}});return r.data}catch(_){console.log("error",_)}},async getUserGuide(e){try{U.defaults.baseURL=z.BASE_URL;var t=await U.get(`/Categories/${e}`);return t.data}catch(l){console.log("error",l)}},async updateUserGuide(e,t,l){try{if(U.defaults.baseURL=z.BASE_URL,l){var c=await U.patch(`/Categories/${e}`,t);return c.data}else{var c=await U.post("/Categories",t);return c.data}}catch(o){console.log("error",o)}},async importData(e,t){try{U.defaults.baseURL=z.BASE_URL;var l=await U.patch(`/QRIDs/${e}`,t);return console.log("importData",l.data),l.data}catch(c){console.log("error",c)}}};Yt.use(jt);const Ae=Jt(SB);Ae.config.globalProperties.$axios=dt;Ae.config.globalProperties.$utils=Ie;Ae.config.globalProperties.$api=xB;Ae.config.globalProperties.$mode=location.host;Wt(Ae);Ae.mount("#app");
